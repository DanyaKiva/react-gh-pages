(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function gy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Uh={exports:{}},ha={},zh={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function FE(){if(Lm)return Re;Lm=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function L(M,G,pe){this.props=M,this.context=G,this.refs=H,this.updater=pe||D}L.prototype.isReactComponent={},L.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=L.prototype;function ee(M,G,pe){this.props=M,this.context=G,this.refs=H,this.updater=pe||D}var q=ee.prototype=new W;q.constructor=ee,O(q,L.prototype),q.isPureReactComponent=!0;var ne=Array.isArray,he=Object.prototype.hasOwnProperty,de={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(M,G,pe){var Ie,Ce={},xe=null,Me=null;if(G!=null)for(Ie in G.ref!==void 0&&(Me=G.ref),G.key!==void 0&&(xe=""+G.key),G)he.call(G,Ie)&&!k.hasOwnProperty(Ie)&&(Ce[Ie]=G[Ie]);var Fe=arguments.length-2;if(Fe===1)Ce.children=pe;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Ce.children=Be}if(M&&M.defaultProps)for(Ie in Fe=M.defaultProps,Fe)Ce[Ie]===void 0&&(Ce[Ie]=Fe[Ie]);return{$$typeof:r,type:M,key:xe,ref:Me,props:Ce,_owner:de.current}}function R(M,G){return{$$typeof:r,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function V(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return G[pe]})}var F=/\/+/g;function A(M,G){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):G.toString(36)}function tt(M,G,pe,Ie,Ce){var xe=typeof M;(xe==="undefined"||xe==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case r:case e:Me=!0}}if(Me)return Me=M,Ce=Ce(Me),M=Ie===""?"."+A(Me,0):Ie,ne(Ce)?(pe="",M!=null&&(pe=M.replace(F,"$&/")+"/"),tt(Ce,G,pe,"",function(gt){return gt})):Ce!=null&&(x(Ce)&&(Ce=R(Ce,pe+(!Ce.key||Me&&Me.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+M)),G.push(Ce)),1;if(Me=0,Ie=Ie===""?".":Ie+":",ne(M))for(var Fe=0;Fe<M.length;Fe++){xe=M[Fe];var Be=Ie+A(xe,Fe);Me+=tt(xe,G,pe,Be,Ce)}else if(Be=T(M),typeof Be=="function")for(M=Be.call(M),Fe=0;!(xe=M.next()).done;)xe=xe.value,Be=Ie+A(xe,Fe++),Me+=tt(xe,G,pe,Be,Ce);else if(xe==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Me}function xt(M,G,pe){if(M==null)return M;var Ie=[],Ce=0;return tt(M,Ie,"","",function(xe){return G.call(pe,xe,Ce++)}),Ie}function Dt(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var Ue={current:null},ie={transition:null},ge={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:ie,ReactCurrentOwner:de};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:xt,forEach:function(M,G,pe){xt(M,function(){G.apply(this,arguments)},pe)},count:function(M){var G=0;return xt(M,function(){G++}),G},toArray:function(M){return xt(M,function(G){return G})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Re.Component=L,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=ee,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Re.act=oe,Re.cloneElement=function(M,G,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ie=O({},M.props),Ce=M.key,xe=M.ref,Me=M._owner;if(G!=null){if(G.ref!==void 0&&(xe=G.ref,Me=de.current),G.key!==void 0&&(Ce=""+G.key),M.type&&M.type.defaultProps)var Fe=M.type.defaultProps;for(Be in G)he.call(G,Be)&&!k.hasOwnProperty(Be)&&(Ie[Be]=G[Be]===void 0&&Fe!==void 0?Fe[Be]:G[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=pe;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:r,type:M.type,key:Ce,ref:xe,props:Ie,_owner:Me}},Re.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:u,_context:M},M.Consumer=M},Re.createElement=I,Re.createFactory=function(M){var G=I.bind(null,M);return G.type=M,G},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:d,render:M}},Re.isValidElement=x,Re.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:Dt}},Re.memo=function(M,G){return{$$typeof:y,type:M,compare:G===void 0?null:G}},Re.startTransition=function(M){var G=ie.transition;ie.transition={};try{M()}finally{ie.transition=G}},Re.unstable_act=oe,Re.useCallback=function(M,G){return Ue.current.useCallback(M,G)},Re.useContext=function(M){return Ue.current.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M){return Ue.current.useDeferredValue(M)},Re.useEffect=function(M,G){return Ue.current.useEffect(M,G)},Re.useId=function(){return Ue.current.useId()},Re.useImperativeHandle=function(M,G,pe){return Ue.current.useImperativeHandle(M,G,pe)},Re.useInsertionEffect=function(M,G){return Ue.current.useInsertionEffect(M,G)},Re.useLayoutEffect=function(M,G){return Ue.current.useLayoutEffect(M,G)},Re.useMemo=function(M,G){return Ue.current.useMemo(M,G)},Re.useReducer=function(M,G,pe){return Ue.current.useReducer(M,G,pe)},Re.useRef=function(M){return Ue.current.useRef(M)},Re.useState=function(M){return Ue.current.useState(M)},Re.useSyncExternalStore=function(M,G,pe){return Ue.current.useSyncExternalStore(M,G,pe)},Re.useTransition=function(){return Ue.current.useTransition()},Re.version="18.3.1",Re}var Mm;function $u(){return Mm||(Mm=1,zh.exports=FE()),zh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function bE(){if(Fm)return ha;Fm=1;var r=$u(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,y){var E,S={},T=null,D=null;y!==void 0&&(T=""+y),g.key!==void 0&&(T=""+g.key),g.ref!==void 0&&(D=g.ref);for(E in g)s.call(g,E)&&!u.hasOwnProperty(E)&&(S[E]=g[E]);if(d&&d.defaultProps)for(E in g=d.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:d,key:T,ref:D,props:S,_owner:o.current}}return ha.Fragment=t,ha.jsx=h,ha.jsxs=h,ha}var bm;function jE(){return bm||(bm=1,Uh.exports=bE()),Uh.exports}var K=jE(),B=$u();const ei=gy(B);var nu={},Bh={exports:{}},Xt={},$h={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm;function UE(){return jm||(jm=1,function(r){function e(ie,ge){var oe=ie.length;ie.push(ge);e:for(;0<oe;){var M=oe-1>>>1,G=ie[M];if(0<o(G,ge))ie[M]=ge,ie[oe]=G,oe=M;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ge=ie[0],oe=ie.pop();if(oe!==ge){ie[0]=oe;e:for(var M=0,G=ie.length,pe=G>>>1;M<pe;){var Ie=2*(M+1)-1,Ce=ie[Ie],xe=Ie+1,Me=ie[xe];if(0>o(Ce,oe))xe<G&&0>o(Me,Ce)?(ie[M]=Me,ie[xe]=oe,M=xe):(ie[M]=Ce,ie[Ie]=oe,M=Ie);else if(xe<G&&0>o(Me,oe))ie[M]=Me,ie[xe]=oe,M=xe;else break e}}return ge}function o(ie,ge){var oe=ie.sortIndex-ge.sortIndex;return oe!==0?oe:ie.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],y=[],E=1,S=null,T=3,D=!1,O=!1,H=!1,L=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var ge=t(y);ge!==null;){if(ge.callback===null)s(y);else if(ge.startTime<=ie)s(y),ge.sortIndex=ge.expirationTime,e(g,ge);else break;ge=t(y)}}function ne(ie){if(H=!1,q(ie),!O)if(t(g)!==null)O=!0,Dt(he);else{var ge=t(y);ge!==null&&Ue(ne,ge.startTime-ie)}}function he(ie,ge){O=!1,H&&(H=!1,W(I),I=-1),D=!0;var oe=T;try{for(q(ge),S=t(g);S!==null&&(!(S.expirationTime>ge)||ie&&!V());){var M=S.callback;if(typeof M=="function"){S.callback=null,T=S.priorityLevel;var G=M(S.expirationTime<=ge);ge=r.unstable_now(),typeof G=="function"?S.callback=G:S===t(g)&&s(g),q(ge)}else s(g);S=t(g)}if(S!==null)var pe=!0;else{var Ie=t(y);Ie!==null&&Ue(ne,Ie.startTime-ge),pe=!1}return pe}finally{S=null,T=oe,D=!1}}var de=!1,k=null,I=-1,R=5,x=-1;function V(){return!(r.unstable_now()-x<R)}function F(){if(k!==null){var ie=r.unstable_now();x=ie;var ge=!0;try{ge=k(!0,ie)}finally{ge?A():(de=!1,k=null)}}else de=!1}var A;if(typeof ee=="function")A=function(){ee(F)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,xt=tt.port2;tt.port1.onmessage=F,A=function(){xt.postMessage(null)}}else A=function(){L(F,0)};function Dt(ie){k=ie,de||(de=!0,A())}function Ue(ie,ge){I=L(function(){ie(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){O||D||(O=!0,Dt(he))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ie){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var oe=T;T=ge;try{return ie()}finally{T=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,ge){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var oe=T;T=ie;try{return ge()}finally{T=oe}},r.unstable_scheduleCallback=function(ie,ge,oe){var M=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?M+oe:M):oe=M,ie){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,ie={id:E++,callback:ge,priorityLevel:ie,startTime:oe,expirationTime:G,sortIndex:-1},oe>M?(ie.sortIndex=oe,e(y,ie),t(g)===null&&ie===t(y)&&(H?(W(I),I=-1):H=!0,Ue(ne,oe-M))):(ie.sortIndex=G,e(g,ie),O||D||(O=!0,Dt(he))),ie},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ie){var ge=T;return function(){var oe=T;T=ge;try{return ie.apply(this,arguments)}finally{T=oe}}}}(Hh)),Hh}var Um;function zE(){return Um||(Um=1,$h.exports=UE()),$h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function BE(){if(zm)return Xt;zm=1;var r=$u(),e=zE();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function T(n){return g.call(S,n)?!0:g.call(E,n)?!1:y.test(n)?S[n]=!0:(E[n]=!0,!1)}function D(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,i,a,c){if(i===null||typeof i>"u"||D(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function H(n,i,a,c,f,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){L[n]=new H(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];L[i]=new H(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){L[n]=new H(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){L[n]=new H(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){L[n]=new H(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){L[n]=new H(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){L[n]=new H(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){L[n]=new H(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){L[n]=new H(n,5,!1,n.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function ee(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(W,ee);L[i]=new H(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(W,ee);L[i]=new H(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(W,ee);L[i]=new H(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){L[n]=new H(n,1,!1,n.toLowerCase(),null,!1,!1)}),L.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){L[n]=new H(n,1,!1,n.toLowerCase(),null,!0,!0)});function q(n,i,a,c){var f=L.hasOwnProperty(i)?L[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(O(i,a,f,c)&&(a=null),c||f===null?T(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ne=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,he=Symbol.for("react.element"),de=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),ie=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,M;function G(n){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+n}var pe=!1;function Ie(n,i){if(!n||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(z){var c=z}Reflect.construct(n,[],i)}else{try{i.call()}catch(z){c=z}n.call(i.prototype)}else{try{throw Error()}catch(z){c=z}n()}}catch(z){if(z&&c&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,C=m.length-1;1<=_&&0<=C&&f[_]!==m[C];)C--;for(;1<=_&&0<=C;_--,C--)if(f[_]!==m[C]){if(_!==1||C!==1)do if(_--,C--,0>C||f[_]!==m[C]){var P=`
`+f[_].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=_&&0<=C);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?G(n):""}function Ce(n){switch(n.tag){case 5:return G(n.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return n=Ie(n.type,!1),n;case 11:return n=Ie(n.type.render,!1),n;case 1:return n=Ie(n.type,!0),n;default:return""}}function xe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case de:return"Portal";case R:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case tt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case x:return(n._context.displayName||"Context")+".Provider";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xt:return i=n.displayName||null,i!==null?i:xe(n.type)||"Memo";case Dt:i=n._payload,n=n._init;try{return xe(n(i))}catch{}}return null}function Me(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gt(n){var i=Be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function nr(n){n._valueTracker||(n._valueTracker=gt(n))}function rs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Ar(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function vi(n,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function is(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function yo(n,i){i=i.checked,i!=null&&q(n,"checked",i,!1)}function vo(n,i){yo(n,i);var a=Fe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ss(n,i.type,a):i.hasOwnProperty("defaultValue")&&ss(n,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function za(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ss(n,i,a){(i!=="number"||Ar(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var rr=Array.isArray;function ir(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function _o(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function os(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(rr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Fe(a)}}function as(n,i){var a=Fe(i.value),c=Fe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Eo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function lt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?lt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var sr,wo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(sr=sr||document.createElement("div"),sr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=sr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Pr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ei=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(n){Ei.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),_i[i]=_i[n]})});function To(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||_i.hasOwnProperty(n)&&_i[n]?(""+i).trim():i+"px"}function So(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=To(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var Io=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(n,i){if(i){if(Io[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ro(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function ls(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var us=null,cn=null,bn=null;function cs(n){if(n=Xo(n)){if(typeof us!="function")throw Error(t(280));var i=n.stateNode;i&&(i=yl(i),us(n.stateNode,n.type,i))}}function jn(n){cn?bn?bn.push(n):bn=[n]:cn=n}function Ao(){if(cn){var n=cn,i=bn;if(bn=cn=null,cs(n),i)for(n=0;n<i.length;n++)cs(i[n])}}function Ti(n,i){return n(i)}function Po(){}var or=!1;function ko(n,i,a){if(or)return n(i,a);or=!0;try{return Ti(n,i,a)}finally{or=!1,(cn!==null||bn!==null)&&(Po(),Ao())}}function nt(n,i){var a=n.stateNode;if(a===null)return null;var c=yl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var hs=!1;if(d)try{var wn={};Object.defineProperty(wn,"passive",{get:function(){hs=!0}}),window.addEventListener("test",wn,wn),window.removeEventListener("test",wn,wn)}catch{hs=!1}function Si(n,i,a,c,f,m,_,C,P){var z=Array.prototype.slice.call(arguments,3);try{i.apply(a,z)}catch(Y){this.onError(Y)}}var Ii=!1,fs=null,Tn=!1,xo=null,pc={onError:function(n){Ii=!0,fs=n}};function ds(n,i,a,c,f,m,_,C,P){Ii=!1,fs=null,Si.apply(pc,arguments)}function Ba(n,i,a,c,f,m,_,C,P){if(ds.apply(this,arguments),Ii){if(Ii){var z=fs;Ii=!1,fs=null}else throw Error(t(198));Tn||(Tn=!0,xo=z)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ci(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function In(n){if(Sn(n)!==n)throw Error(t(188))}function $a(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return In(f),n;if(m===c)return In(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=m;else{for(var _=!1,C=f.child;C;){if(C===a){_=!0,a=f,c=m;break}if(C===c){_=!0,c=f,a=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===a){_=!0,a=m,c=f;break}if(C===c){_=!0,c=m,a=f;break}C=C.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Do(n){return n=$a(n),n!==null?ps(n):null}function ps(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ps(n);if(i!==null)return i;n=n.sibling}return null}var ms=e.unstable_scheduleCallback,No=e.unstable_cancelCallback,Ha=e.unstable_shouldYield,mc=e.unstable_requestPaint,$e=e.unstable_now,Wa=e.unstable_getCurrentPriorityLevel,Ri=e.unstable_ImmediatePriority,kr=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,Vo=e.unstable_LowPriority,qa=e.unstable_IdlePriority,Ai=null,Zt=null;function Ka(n){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ai,n,void 0,(n.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ga,Oo=Math.log,Qa=Math.LN2;function Ga(n){return n>>>=0,n===0?32:31-(Oo(n)/Qa|0)|0}var gs=64,ys=4194304;function xr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var C=_&~f;C!==0?c=xr(C):(m&=_,m!==0&&(c=xr(m)))}else _=a&~f,_!==0?c=xr(_):m!==0&&(c=xr(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-jt(i),f=1<<a,c|=n[a],i&=~f;return c}function gc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-jt(m),C=1<<_,P=f[_];P===-1?((C&a)===0||(C&c)!==0)&&(f[_]=gc(C,i)):P<=i&&(n.expiredLanes|=C),m&=~C}}function en(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ki(){var n=gs;return gs<<=1,(gs&4194240)===0&&(gs=64),n}function Dr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Nr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-jt(i),n[i]=a}function ze(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-jt(a),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~m}}function Vr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-jt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Pe=0;function Or(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Xa,vs,Ya,Ja,Za,Lo=!1,Un=[],Tt=null,Cn=null,Rn=null,Lr=new Map,fn=new Map,zn=[],yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(n,i){switch(n){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Lr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(i.pointerId)}}function $t(n,i,a,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Xo(i),i!==null&&vs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function vc(n,i,a,c,f){switch(i){case"focusin":return Tt=$t(Tt,n,i,a,c,f),!0;case"dragenter":return Cn=$t(Cn,n,i,a,c,f),!0;case"mouseover":return Rn=$t(Rn,n,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return Lr.set(m,$t(Lr.get(m)||null,n,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,fn.set(m,$t(fn.get(m)||null,n,i,a,c,f)),!0}return!1}function tl(n){var i=Oi(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ci(a),i!==null){n.blockedOn=i,Za(n.priority,function(){Ya(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=_s(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);wi=c,a.target.dispatchEvent(c),wi=null}else return i=Xo(a),i!==null&&vs(i),n.blockedOn=a,!1;i.shift()}return!0}function xi(n,i,a){lr(n)&&a.delete(i)}function nl(){Lo=!1,Tt!==null&&lr(Tt)&&(Tt=null),Cn!==null&&lr(Cn)&&(Cn=null),Rn!==null&&lr(Rn)&&(Rn=null),Lr.forEach(xi),fn.forEach(xi)}function An(n,i){n.blockedOn===i&&(n.blockedOn=null,Lo||(Lo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nl)))}function Pn(n){function i(f){return An(f,n)}if(0<Un.length){An(Un[0],n);for(var a=1;a<Un.length;a++){var c=Un[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Tt!==null&&An(Tt,n),Cn!==null&&An(Cn,n),Rn!==null&&An(Rn,n),Lr.forEach(i),fn.forEach(i),a=0;a<zn.length;a++)c=zn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<zn.length&&(a=zn[0],a.blockedOn===null);)tl(a),a.blockedOn===null&&zn.shift()}var ur=ne.ReactCurrentBatchConfig,Mr=!0;function Ke(n,i,a,c){var f=Pe,m=ur.transition;ur.transition=null;try{Pe=1,Mo(n,i,a,c)}finally{Pe=f,ur.transition=m}}function _c(n,i,a,c){var f=Pe,m=ur.transition;ur.transition=null;try{Pe=4,Mo(n,i,a,c)}finally{Pe=f,ur.transition=m}}function Mo(n,i,a,c){if(Mr){var f=_s(n,i,a,c);if(f===null)xc(n,i,c,Di,a),el(n,c);else if(vc(f,n,i,a,c))c.stopPropagation();else if(el(n,c),i&4&&-1<yc.indexOf(n)){for(;f!==null;){var m=Xo(f);if(m!==null&&Xa(m),m=_s(n,i,a,c),m===null&&xc(n,i,c,Di,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else xc(n,i,c,null,a)}}var Di=null;function _s(n,i,a,c){if(Di=null,n=ls(c),n=Oi(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ci(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Di=n,null}function Fo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wa()){case Ri:return 1;case kr:return 4;case hn:case Vo:return 16;case qa:return 536870912;default:return 16}default:return 16}}var tn=null,Es=null,Ht=null;function bo(){if(Ht)return Ht;var n,i=Es,a=i.length,c,f="value"in tn?tn.value:tn.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===f[m-c];c++);return Ht=f.slice(n,1<c?1-c:void 0)}function ws(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Bn(){return!0}function jo(){return!1}function St(n){function i(a,c,f,m,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Bn:jo,this.isPropagationStopped=jo,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bn)},persist:function(){},isPersistent:Bn}),i}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=St(kn),$n=oe({},kn,{view:0,detail:0}),Ec=St($n),Ss,cr,Fr,Ni=oe({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fr&&(Fr&&n.type==="mousemove"?(Ss=n.screenX-Fr.screenX,cr=n.screenY-Fr.screenY):cr=Ss=0,Fr=n),Ss)},movementY:function(n){return"movementY"in n?n.movementY:cr}}),Is=St(Ni),Uo=oe({},Ni,{dataTransfer:0}),rl=St(Uo),Cs=oe({},$n,{relatedTarget:0}),Rs=St(Cs),il=oe({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),hr=St(il),sl=oe({},kn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ol=St(sl),al=oe({},kn,{data:0}),zo=St(al),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ll={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ll[n])?!!i[n]:!1}function Hn(){return ul}var l=oe({},$n,{key:function(n){if(n.key){var i=As[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ws(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ut[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(n){return n.type==="keypress"?ws(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ws(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=St(l),v=oe({},Ni,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=St(v),b=oe({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn}),$=St(b),re=oe({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),je=St(re),ct=oe({},Ni,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),De=St(ct),yt=[9,13,27,32],st=d&&"CompositionEvent"in window,dn=null;d&&"documentMode"in document&&(dn=document.documentMode);var nn=d&&"TextEvent"in window&&!dn,Vi=d&&(!st||dn&&8<dn&&11>=dn),Ps=" ",kd=!1;function xd(n,i){switch(n){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ks=!1;function O_(n,i){switch(n){case"compositionend":return Dd(i);case"keypress":return i.which!==32?null:(kd=!0,Ps);case"textInput":return n=i.data,n===Ps&&kd?null:n;default:return null}}function L_(n,i){if(ks)return n==="compositionend"||!st&&xd(n,i)?(n=bo(),Ht=Es=tn=null,ks=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var M_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!M_[n.type]:i==="textarea"}function Vd(n,i,a,c){jn(c),i=pl(i,"onChange"),0<i.length&&(a=new Ts("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Bo=null,$o=null;function F_(n){Yd(n,0)}function cl(n){var i=Os(n);if(rs(i))return n}function b_(n,i){if(n==="change")return i}var Od=!1;if(d){var wc;if(d){var Tc="oninput"in document;if(!Tc){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),Tc=typeof Ld.oninput=="function"}wc=Tc}else wc=!1;Od=wc&&(!document.documentMode||9<document.documentMode)}function Md(){Bo&&(Bo.detachEvent("onpropertychange",Fd),$o=Bo=null)}function Fd(n){if(n.propertyName==="value"&&cl($o)){var i=[];Vd(i,$o,n,ls(n)),ko(F_,i)}}function j_(n,i,a){n==="focusin"?(Md(),Bo=i,$o=a,Bo.attachEvent("onpropertychange",Fd)):n==="focusout"&&Md()}function U_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cl($o)}function z_(n,i){if(n==="click")return cl(i)}function B_(n,i){if(n==="input"||n==="change")return cl(i)}function $_(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var xn=typeof Object.is=="function"?Object.is:$_;function Ho(n,i){if(xn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!xn(n[f],i[f]))return!1}return!0}function bd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jd(n,i){var a=bd(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bd(a)}}function Ud(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ud(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function zd(){for(var n=window,i=Ar();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Ar(n.document)}return i}function Sc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function H_(n){var i=zd(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Ud(a.ownerDocument.documentElement,a)){if(c!==null&&Sc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=jd(a,m);var _=jd(a,c);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var W_=d&&"documentMode"in document&&11>=document.documentMode,xs=null,Ic=null,Wo=null,Cc=!1;function Bd(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cc||xs==null||xs!==Ar(c)||(c=xs,"selectionStart"in c&&Sc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Wo&&Ho(Wo,c)||(Wo=c,c=pl(Ic,"onSelect"),0<c.length&&(i=new Ts("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=xs)))}function hl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Ds={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},Rc={},$d={};d&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function fl(n){if(Rc[n])return Rc[n];if(!Ds[n])return n;var i=Ds[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in $d)return Rc[n]=i[a];return n}var Hd=fl("animationend"),Wd=fl("animationiteration"),qd=fl("animationstart"),Kd=fl("transitionend"),Qd=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(n,i){Qd.set(n,i),u(i,[n])}for(var Ac=0;Ac<Gd.length;Ac++){var Pc=Gd[Ac],q_=Pc.toLowerCase(),K_=Pc[0].toUpperCase()+Pc.slice(1);br(q_,"on"+K_)}br(Hd,"onAnimationEnd"),br(Wd,"onAnimationIteration"),br(qd,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(Kd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function Xd(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,Ba(c,i,void 0,n),n.currentTarget=null}function Yd(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var C=c[_],P=C.instance,z=C.currentTarget;if(C=C.listener,P!==m&&f.isPropagationStopped())break e;Xd(f,C,z),m=P}else for(_=0;_<c.length;_++){if(C=c[_],P=C.instance,z=C.currentTarget,C=C.listener,P!==m&&f.isPropagationStopped())break e;Xd(f,C,z),m=P}}}if(Tn)throw n=xo,Tn=!1,xo=null,n}function We(n,i){var a=i[Mc];a===void 0&&(a=i[Mc]=new Set);var c=n+"__bubble";a.has(c)||(Jd(i,n,2,!1),a.add(c))}function kc(n,i,a){var c=0;i&&(c|=4),Jd(a,n,c,i)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Ko(n){if(!n[dl]){n[dl]=!0,s.forEach(function(a){a!=="selectionchange"&&(Q_.has(a)||kc(a,!1,n),kc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[dl]||(i[dl]=!0,kc("selectionchange",!1,i))}}function Jd(n,i,a,c){switch(Fo(i)){case 1:var f=Ke;break;case 4:f=_c;break;default:f=Mo}a=f.bind(null,i,a,n),f=void 0,!hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function xc(n,i,a,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;_=_.return}for(;C!==null;){if(_=Oi(C),_===null)return;if(P=_.tag,P===5||P===6){c=m=_;continue e}C=C.parentNode}}c=c.return}ko(function(){var z=m,Y=ls(a),Z=[];e:{var X=Qd.get(n);if(X!==void 0){var se=Ts,ue=n;switch(n){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":se=p;break;case"focusin":ue="focus",se=Rs;break;case"focusout":ue="blur",se=Rs;break;case"beforeblur":case"afterblur":se=Rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=$;break;case Hd:case Wd:case qd:se=hr;break;case Kd:se=je;break;case"scroll":se=Ec;break;case"wheel":se=De;break;case"copy":case"cut":case"paste":se=ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=w}var ce=(i&4)!==0,rt=!ce&&n==="scroll",j=ce?X!==null?X+"Capture":null:X;ce=[];for(var N=z,U;N!==null;){U=N;var te=U.stateNode;if(U.tag===5&&te!==null&&(U=te,j!==null&&(te=nt(N,j),te!=null&&ce.push(Qo(N,te,U)))),rt)break;N=N.return}0<ce.length&&(X=new se(X,ue,null,a,Y),Z.push({event:X,listeners:ce}))}}if((i&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",X&&a!==wi&&(ue=a.relatedTarget||a.fromElement)&&(Oi(ue)||ue[fr]))break e;if((se||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,se?(ue=a.relatedTarget||a.toElement,se=z,ue=ue?Oi(ue):null,ue!==null&&(rt=Sn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=z),se!==ue)){if(ce=Is,te="onMouseLeave",j="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ce=w,te="onPointerLeave",j="onPointerEnter",N="pointer"),rt=se==null?X:Os(se),U=ue==null?X:Os(ue),X=new ce(te,N+"leave",se,a,Y),X.target=rt,X.relatedTarget=U,te=null,Oi(Y)===z&&(ce=new ce(j,N+"enter",ue,a,Y),ce.target=U,ce.relatedTarget=rt,te=ce),rt=te,se&&ue)t:{for(ce=se,j=ue,N=0,U=ce;U;U=Ns(U))N++;for(U=0,te=j;te;te=Ns(te))U++;for(;0<N-U;)ce=Ns(ce),N--;for(;0<U-N;)j=Ns(j),U--;for(;N--;){if(ce===j||j!==null&&ce===j.alternate)break t;ce=Ns(ce),j=Ns(j)}ce=null}else ce=null;se!==null&&Zd(Z,X,se,ce,!1),ue!==null&&rt!==null&&Zd(Z,rt,ue,ce,!0)}}e:{if(X=z?Os(z):window,se=X.nodeName&&X.nodeName.toLowerCase(),se==="select"||se==="input"&&X.type==="file")var fe=b_;else if(Nd(X))if(Od)fe=B_;else{fe=U_;var ye=j_}else(se=X.nodeName)&&se.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=z_);if(fe&&(fe=fe(n,z))){Vd(Z,fe,a,Y);break e}ye&&ye(n,X,z),n==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&ss(X,"number",X.value)}switch(ye=z?Os(z):window,n){case"focusin":(Nd(ye)||ye.contentEditable==="true")&&(xs=ye,Ic=z,Wo=null);break;case"focusout":Wo=Ic=xs=null;break;case"mousedown":Cc=!0;break;case"contextmenu":case"mouseup":case"dragend":Cc=!1,Bd(Z,a,Y);break;case"selectionchange":if(W_)break;case"keydown":case"keyup":Bd(Z,a,Y)}var ve;if(st)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ks?xd(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Vi&&a.locale!=="ko"&&(ks||we!=="onCompositionStart"?we==="onCompositionEnd"&&ks&&(ve=bo()):(tn=Y,Es="value"in tn?tn.value:tn.textContent,ks=!0)),ye=pl(z,we),0<ye.length&&(we=new zo(we,n,null,a,Y),Z.push({event:we,listeners:ye}),ve?we.data=ve:(ve=Dd(a),ve!==null&&(we.data=ve)))),(ve=nn?O_(n,a):L_(n,a))&&(z=pl(z,"onBeforeInput"),0<z.length&&(Y=new zo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:z}),Y.data=ve))}Yd(Z,i)})}function Qo(n,i,a){return{instance:n,listener:i,currentTarget:a}}function pl(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=nt(n,a),m!=null&&c.unshift(Qo(n,m,f)),m=nt(n,i),m!=null&&c.push(Qo(n,m,f))),n=n.return}return c}function Ns(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Zd(n,i,a,c,f){for(var m=i._reactName,_=[];a!==null&&a!==c;){var C=a,P=C.alternate,z=C.stateNode;if(P!==null&&P===c)break;C.tag===5&&z!==null&&(C=z,f?(P=nt(a,m),P!=null&&_.unshift(Qo(a,P,C))):f||(P=nt(a,m),P!=null&&_.push(Qo(a,P,C)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var G_=/\r\n?/g,X_=/\u0000|\uFFFD/g;function ep(n){return(typeof n=="string"?n:""+n).replace(G_,`
`).replace(X_,"")}function ml(n,i,a){if(i=ep(i),ep(n)!==i&&a)throw Error(t(425))}function gl(){}var Dc=null,Nc=null;function Vc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,Y_=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,J_=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(n){return tp.resolve(null).then(n).catch(Z_)}:Oc;function Z_(n){setTimeout(function(){throw n})}function Lc(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),Pn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Pn(i)}function jr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function np(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Vs,Go="__reactProps$"+Vs,fr="__reactContainer$"+Vs,Mc="__reactEvents$"+Vs,eE="__reactListeners$"+Vs,tE="__reactHandles$"+Vs;function Oi(n){var i=n[Wn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[fr]||a[Wn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=np(n);n!==null;){if(a=n[Wn])return a;n=np(n)}return i}n=a,a=n.parentNode}return null}function Xo(n){return n=n[Wn]||n[fr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Os(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function yl(n){return n[Go]||null}var Fc=[],Ls=-1;function Ur(n){return{current:n}}function qe(n){0>Ls||(n.current=Fc[Ls],Fc[Ls]=null,Ls--)}function He(n,i){Ls++,Fc[Ls]=n.current,n.current=i}var zr={},Nt=Ur(zr),Wt=Ur(!1),Li=zr;function Ms(n,i){var a=n.type.contextTypes;if(!a)return zr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function qt(n){return n=n.childContextTypes,n!=null}function vl(){qe(Wt),qe(Nt)}function rp(n,i,a){if(Nt.current!==zr)throw Error(t(168));He(Nt,i),He(Wt,a)}function ip(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Me(n)||"Unknown",f));return oe({},a,c)}function _l(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||zr,Li=Nt.current,He(Nt,n),He(Wt,Wt.current),!0}function sp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=ip(n,i,Li),c.__reactInternalMemoizedMergedChildContext=n,qe(Wt),qe(Nt),He(Nt,n)):qe(Wt),He(Wt,a)}var dr=null,El=!1,bc=!1;function op(n){dr===null?dr=[n]:dr.push(n)}function nE(n){El=!0,op(n)}function Br(){if(!bc&&dr!==null){bc=!0;var n=0,i=Pe;try{var a=dr;for(Pe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}dr=null,El=!1}catch(f){throw dr!==null&&(dr=dr.slice(n+1)),ms(Ri,Br),f}finally{Pe=i,bc=!1}}return null}var Fs=[],bs=0,wl=null,Tl=0,pn=[],mn=0,Mi=null,pr=1,mr="";function Fi(n,i){Fs[bs++]=Tl,Fs[bs++]=wl,wl=n,Tl=i}function ap(n,i,a){pn[mn++]=pr,pn[mn++]=mr,pn[mn++]=Mi,Mi=n;var c=pr;n=mr;var f=32-jt(c)-1;c&=~(1<<f),a+=1;var m=32-jt(i)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,pr=1<<32-jt(i)+f|a<<f|c,mr=m+n}else pr=1<<m|a<<f|c,mr=n}function jc(n){n.return!==null&&(Fi(n,1),ap(n,1,0))}function Uc(n){for(;n===wl;)wl=Fs[--bs],Fs[bs]=null,Tl=Fs[--bs],Fs[bs]=null;for(;n===Mi;)Mi=pn[--mn],pn[mn]=null,mr=pn[--mn],pn[mn]=null,pr=pn[--mn],pn[mn]=null}var rn=null,sn=null,Qe=!1,Dn=null;function lp(n,i){var a=_n(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function up(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,rn=n,sn=jr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,rn=n,sn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Mi!==null?{id:pr,overflow:mr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=_n(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,rn=n,sn=null,!0):!1;default:return!1}}function zc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Bc(n){if(Qe){var i=sn;if(i){var a=i;if(!up(n,i)){if(zc(n))throw Error(t(418));i=jr(a.nextSibling);var c=rn;i&&up(n,i)?lp(c,a):(n.flags=n.flags&-4097|2,Qe=!1,rn=n)}}else{if(zc(n))throw Error(t(418));n.flags=n.flags&-4097|2,Qe=!1,rn=n}}}function cp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;rn=n}function Sl(n){if(n!==rn)return!1;if(!Qe)return cp(n),Qe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Vc(n.type,n.memoizedProps)),i&&(i=sn)){if(zc(n))throw hp(),Error(t(418));for(;i;)lp(n,i),i=jr(i.nextSibling)}if(cp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){sn=jr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}sn=null}}else sn=rn?jr(n.stateNode.nextSibling):null;return!0}function hp(){for(var n=sn;n;)n=jr(n.nextSibling)}function js(){sn=rn=null,Qe=!1}function $c(n){Dn===null?Dn=[n]:Dn.push(n)}var rE=ne.ReactCurrentBatchConfig;function Yo(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var C=f.refs;_===null?delete C[m]:C[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Il(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function fp(n){var i=n._init;return i(n._payload)}function dp(n){function i(j,N){if(n){var U=j.deletions;U===null?(j.deletions=[N],j.flags|=16):U.push(N)}}function a(j,N){if(!n)return null;for(;N!==null;)i(j,N),N=N.sibling;return null}function c(j,N){for(j=new Map;N!==null;)N.key!==null?j.set(N.key,N):j.set(N.index,N),N=N.sibling;return j}function f(j,N){return j=Xr(j,N),j.index=0,j.sibling=null,j}function m(j,N,U){return j.index=U,n?(U=j.alternate,U!==null?(U=U.index,U<N?(j.flags|=2,N):U):(j.flags|=2,N)):(j.flags|=1048576,N)}function _(j){return n&&j.alternate===null&&(j.flags|=2),j}function C(j,N,U,te){return N===null||N.tag!==6?(N=Oh(U,j.mode,te),N.return=j,N):(N=f(N,U),N.return=j,N)}function P(j,N,U,te){var fe=U.type;return fe===k?Y(j,N,U.props.children,te,U.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Dt&&fp(fe)===N.type)?(te=f(N,U.props),te.ref=Yo(j,N,U),te.return=j,te):(te=Ql(U.type,U.key,U.props,null,j.mode,te),te.ref=Yo(j,N,U),te.return=j,te)}function z(j,N,U,te){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Lh(U,j.mode,te),N.return=j,N):(N=f(N,U.children||[]),N.return=j,N)}function Y(j,N,U,te,fe){return N===null||N.tag!==7?(N=Wi(U,j.mode,te,fe),N.return=j,N):(N=f(N,U),N.return=j,N)}function Z(j,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Oh(""+N,j.mode,U),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case he:return U=Ql(N.type,N.key,N.props,null,j.mode,U),U.ref=Yo(j,null,N),U.return=j,U;case de:return N=Lh(N,j.mode,U),N.return=j,N;case Dt:var te=N._init;return Z(j,te(N._payload),U)}if(rr(N)||ge(N))return N=Wi(N,j.mode,U,null),N.return=j,N;Il(j,N)}return null}function X(j,N,U,te){var fe=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return fe!==null?null:C(j,N,""+U,te);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case he:return U.key===fe?P(j,N,U,te):null;case de:return U.key===fe?z(j,N,U,te):null;case Dt:return fe=U._init,X(j,N,fe(U._payload),te)}if(rr(U)||ge(U))return fe!==null?null:Y(j,N,U,te,null);Il(j,U)}return null}function se(j,N,U,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return j=j.get(U)||null,C(N,j,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case he:return j=j.get(te.key===null?U:te.key)||null,P(N,j,te,fe);case de:return j=j.get(te.key===null?U:te.key)||null,z(N,j,te,fe);case Dt:var ye=te._init;return se(j,N,U,ye(te._payload),fe)}if(rr(te)||ge(te))return j=j.get(U)||null,Y(N,j,te,fe,null);Il(N,te)}return null}function ue(j,N,U,te){for(var fe=null,ye=null,ve=N,we=N=0,Et=null;ve!==null&&we<U.length;we++){ve.index>we?(Et=ve,ve=null):Et=ve.sibling;var Le=X(j,ve,U[we],te);if(Le===null){ve===null&&(ve=Et);break}n&&ve&&Le.alternate===null&&i(j,ve),N=m(Le,N,we),ye===null?fe=Le:ye.sibling=Le,ye=Le,ve=Et}if(we===U.length)return a(j,ve),Qe&&Fi(j,we),fe;if(ve===null){for(;we<U.length;we++)ve=Z(j,U[we],te),ve!==null&&(N=m(ve,N,we),ye===null?fe=ve:ye.sibling=ve,ye=ve);return Qe&&Fi(j,we),fe}for(ve=c(j,ve);we<U.length;we++)Et=se(ve,j,we,U[we],te),Et!==null&&(n&&Et.alternate!==null&&ve.delete(Et.key===null?we:Et.key),N=m(Et,N,we),ye===null?fe=Et:ye.sibling=Et,ye=Et);return n&&ve.forEach(function(Yr){return i(j,Yr)}),Qe&&Fi(j,we),fe}function ce(j,N,U,te){var fe=ge(U);if(typeof fe!="function")throw Error(t(150));if(U=fe.call(U),U==null)throw Error(t(151));for(var ye=fe=null,ve=N,we=N=0,Et=null,Le=U.next();ve!==null&&!Le.done;we++,Le=U.next()){ve.index>we?(Et=ve,ve=null):Et=ve.sibling;var Yr=X(j,ve,Le.value,te);if(Yr===null){ve===null&&(ve=Et);break}n&&ve&&Yr.alternate===null&&i(j,ve),N=m(Yr,N,we),ye===null?fe=Yr:ye.sibling=Yr,ye=Yr,ve=Et}if(Le.done)return a(j,ve),Qe&&Fi(j,we),fe;if(ve===null){for(;!Le.done;we++,Le=U.next())Le=Z(j,Le.value,te),Le!==null&&(N=m(Le,N,we),ye===null?fe=Le:ye.sibling=Le,ye=Le);return Qe&&Fi(j,we),fe}for(ve=c(j,ve);!Le.done;we++,Le=U.next())Le=se(ve,j,we,Le.value,te),Le!==null&&(n&&Le.alternate!==null&&ve.delete(Le.key===null?we:Le.key),N=m(Le,N,we),ye===null?fe=Le:ye.sibling=Le,ye=Le);return n&&ve.forEach(function(ME){return i(j,ME)}),Qe&&Fi(j,we),fe}function rt(j,N,U,te){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case he:e:{for(var fe=U.key,ye=N;ye!==null;){if(ye.key===fe){if(fe=U.type,fe===k){if(ye.tag===7){a(j,ye.sibling),N=f(ye,U.props.children),N.return=j,j=N;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Dt&&fp(fe)===ye.type){a(j,ye.sibling),N=f(ye,U.props),N.ref=Yo(j,ye,U),N.return=j,j=N;break e}a(j,ye);break}else i(j,ye);ye=ye.sibling}U.type===k?(N=Wi(U.props.children,j.mode,te,U.key),N.return=j,j=N):(te=Ql(U.type,U.key,U.props,null,j.mode,te),te.ref=Yo(j,N,U),te.return=j,j=te)}return _(j);case de:e:{for(ye=U.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(j,N.sibling),N=f(N,U.children||[]),N.return=j,j=N;break e}else{a(j,N);break}else i(j,N);N=N.sibling}N=Lh(U,j.mode,te),N.return=j,j=N}return _(j);case Dt:return ye=U._init,rt(j,N,ye(U._payload),te)}if(rr(U))return ue(j,N,U,te);if(ge(U))return ce(j,N,U,te);Il(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,N!==null&&N.tag===6?(a(j,N.sibling),N=f(N,U),N.return=j,j=N):(a(j,N),N=Oh(U,j.mode,te),N.return=j,j=N),_(j)):a(j,N)}return rt}var Us=dp(!0),pp=dp(!1),Cl=Ur(null),Rl=null,zs=null,Hc=null;function Wc(){Hc=zs=Rl=null}function qc(n){var i=Cl.current;qe(Cl),n._currentValue=i}function Kc(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Bs(n,i){Rl=n,Hc=zs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Kt=!0),n.firstContext=null)}function gn(n){var i=n._currentValue;if(Hc!==n)if(n={context:n,memoizedValue:i,next:null},zs===null){if(Rl===null)throw Error(t(308));zs=n,Rl.dependencies={lanes:0,firstContext:n}}else zs=zs.next=n;return i}var bi=null;function Qc(n){bi===null?bi=[n]:bi.push(n)}function mp(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,Qc(i)):(a.next=f.next,f.next=a),i.interleaved=a,gr(n,c)}function gr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var $r=!1;function Gc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function yr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Hr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Oe&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,gr(n,a)}return f=c.interleaved,f===null?(i.next=i,Qc(c)):(i.next=f.next,f.next=i),c.interleaved=i,gr(n,a)}function Al(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Vr(n,a)}}function yp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Pl(n,i,a,c){var f=n.updateQueue;$r=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var P=C,z=P.next;P.next=null,_===null?m=z:_.next=z,_=P;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,C=Y.lastBaseUpdate,C!==_&&(C===null?Y.firstBaseUpdate=z:C.next=z,Y.lastBaseUpdate=P))}if(m!==null){var Z=f.baseState;_=0,Y=z=P=null,C=m;do{var X=C.lane,se=C.eventTime;if((c&X)===X){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ue=n,ce=C;switch(X=i,se=a,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Z=ue.call(se,Z,X);break e}Z=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,X=typeof ue=="function"?ue.call(se,Z,X):ue,X==null)break e;Z=oe({},Z,X);break e;case 2:$r=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,X=f.effects,X===null?f.effects=[C]:X.push(C))}else se={eventTime:se,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Y===null?(z=Y=se,P=Z):Y=Y.next=se,_|=X;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;X=C,C=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(Y===null&&(P=Z),f.baseState=P,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,i=f.shared.interleaved,i!==null){f=i;do _|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);zi|=_,n.lanes=_,n.memoizedState=Z}}function vp(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var Jo={},qn=Ur(Jo),Zo=Ur(Jo),ea=Ur(Jo);function ji(n){if(n===Jo)throw Error(t(174));return n}function Xc(n,i){switch(He(ea,i),He(Zo,n),He(qn,Jo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ut(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ut(i,n)}qe(qn),He(qn,i)}function $s(){qe(qn),qe(Zo),qe(ea)}function _p(n){ji(ea.current);var i=ji(qn.current),a=ut(i,n.type);i!==a&&(He(Zo,n),He(qn,a))}function Yc(n){Zo.current===n&&(qe(qn),qe(Zo))}var Xe=Ur(0);function kl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Jc=[];function Zc(){for(var n=0;n<Jc.length;n++)Jc[n]._workInProgressVersionPrimary=null;Jc.length=0}var xl=ne.ReactCurrentDispatcher,eh=ne.ReactCurrentBatchConfig,Ui=0,Ye=null,ht=null,vt=null,Dl=!1,ta=!1,na=0,iE=0;function Vt(){throw Error(t(321))}function th(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!xn(n[a],i[a]))return!1;return!0}function nh(n,i,a,c,f,m){if(Ui=m,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,xl.current=n===null||n.memoizedState===null?lE:uE,n=a(c,f),ta){m=0;do{if(ta=!1,na=0,25<=m)throw Error(t(301));m+=1,vt=ht=null,i.updateQueue=null,xl.current=cE,n=a(c,f)}while(ta)}if(xl.current=Ol,i=ht!==null&&ht.next!==null,Ui=0,vt=ht=Ye=null,Dl=!1,i)throw Error(t(300));return n}function rh(){var n=na!==0;return na=0,n}function Kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ye.memoizedState=vt=n:vt=vt.next=n,vt}function yn(){if(ht===null){var n=Ye.alternate;n=n!==null?n.memoizedState:null}else n=ht.next;var i=vt===null?Ye.memoizedState:vt.next;if(i!==null)vt=i,ht=n;else{if(n===null)throw Error(t(310));ht=n,n={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Ye.memoizedState=vt=n:vt=vt.next=n}return vt}function ra(n,i){return typeof i=="function"?i(n):i}function ih(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=ht,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var C=_=null,P=null,z=m;do{var Y=z.lane;if((Ui&Y)===Y)P!==null&&(P=P.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),c=z.hasEagerState?z.eagerState:n(c,z.action);else{var Z={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};P===null?(C=P=Z,_=c):P=P.next=Z,Ye.lanes|=Y,zi|=Y}z=z.next}while(z!==null&&z!==m);P===null?_=c:P.next=C,xn(c,i.memoizedState)||(Kt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do m=f.lane,Ye.lanes|=m,zi|=m,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function sh(n){var i=yn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);xn(m,i.memoizedState)||(Kt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Ep(){}function wp(n,i){var a=Ye,c=yn(),f=i(),m=!xn(c.memoizedState,f);if(m&&(c.memoizedState=f,Kt=!0),c=c.queue,oh(Ip.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,ia(9,Sp.bind(null,a,c,f,i),void 0,null),_t===null)throw Error(t(349));(Ui&30)!==0||Tp(a,i,f)}return f}function Tp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Sp(n,i,a,c){i.value=a,i.getSnapshot=c,Cp(i)&&Rp(n)}function Ip(n,i,a){return a(function(){Cp(i)&&Rp(n)})}function Cp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!xn(n,a)}catch{return!0}}function Rp(n){var i=gr(n,1);i!==null&&Ln(i,n,1,-1)}function Ap(n){var i=Kn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:n},i.queue=n,n=n.dispatch=aE.bind(null,Ye,n),[i.memoizedState,n]}function ia(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Pp(){return yn().memoizedState}function Nl(n,i,a,c){var f=Kn();Ye.flags|=n,f.memoizedState=ia(1|i,a,void 0,c===void 0?null:c)}function Vl(n,i,a,c){var f=yn();c=c===void 0?null:c;var m=void 0;if(ht!==null){var _=ht.memoizedState;if(m=_.destroy,c!==null&&th(c,_.deps)){f.memoizedState=ia(i,a,m,c);return}}Ye.flags|=n,f.memoizedState=ia(1|i,a,m,c)}function kp(n,i){return Nl(8390656,8,n,i)}function oh(n,i){return Vl(2048,8,n,i)}function xp(n,i){return Vl(4,2,n,i)}function Dp(n,i){return Vl(4,4,n,i)}function Np(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Vp(n,i,a){return a=a!=null?a.concat([n]):null,Vl(4,4,Np.bind(null,i,n),a)}function ah(){}function Op(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&th(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function Lp(n,i){var a=yn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&th(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function Mp(n,i,a){return(Ui&21)===0?(n.baseState&&(n.baseState=!1,Kt=!0),n.memoizedState=a):(xn(a,i)||(a=ki(),Ye.lanes|=a,zi|=a,n.baseState=!0),i)}function sE(n,i){var a=Pe;Pe=a!==0&&4>a?a:4,n(!0);var c=eh.transition;eh.transition={};try{n(!1),i()}finally{Pe=a,eh.transition=c}}function Fp(){return yn().memoizedState}function oE(n,i,a){var c=Qr(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},bp(n))jp(i,a);else if(a=mp(n,i,a,c),a!==null){var f=Bt();Ln(a,n,c,f),Up(a,i,c)}}function aE(n,i,a){var c=Qr(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(bp(n))jp(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,C=m(_,a);if(f.hasEagerState=!0,f.eagerState=C,xn(C,_)){var P=i.interleaved;P===null?(f.next=f,Qc(i)):(f.next=P.next,P.next=f),i.interleaved=f;return}}catch{}finally{}a=mp(n,i,f,c),a!==null&&(f=Bt(),Ln(a,n,c,f),Up(a,i,c))}}function bp(n){var i=n.alternate;return n===Ye||i!==null&&i===Ye}function jp(n,i){ta=Dl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Up(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Vr(n,a)}}var Ol={readContext:gn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},lE={readContext:gn,useCallback:function(n,i){return Kn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:kp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Nl(4194308,4,Np.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Nl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Nl(4,2,n,i)},useMemo:function(n,i){var a=Kn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Kn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=oE.bind(null,Ye,n),[c.memoizedState,n]},useRef:function(n){var i=Kn();return n={current:n},i.memoizedState=n},useState:Ap,useDebugValue:ah,useDeferredValue:function(n){return Kn().memoizedState=n},useTransition:function(){var n=Ap(!1),i=n[0];return n=sE.bind(null,n[1]),Kn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Ye,f=Kn();if(Qe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),_t===null)throw Error(t(349));(Ui&30)!==0||Tp(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,kp(Ip.bind(null,c,m,n),[n]),c.flags|=2048,ia(9,Sp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Kn(),i=_t.identifierPrefix;if(Qe){var a=mr,c=pr;a=(c&~(1<<32-jt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=na++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=iE++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},uE={readContext:gn,useCallback:Op,useContext:gn,useEffect:oh,useImperativeHandle:Vp,useInsertionEffect:xp,useLayoutEffect:Dp,useMemo:Lp,useReducer:ih,useRef:Pp,useState:function(){return ih(ra)},useDebugValue:ah,useDeferredValue:function(n){var i=yn();return Mp(i,ht.memoizedState,n)},useTransition:function(){var n=ih(ra)[0],i=yn().memoizedState;return[n,i]},useMutableSource:Ep,useSyncExternalStore:wp,useId:Fp,unstable_isNewReconciler:!1},cE={readContext:gn,useCallback:Op,useContext:gn,useEffect:oh,useImperativeHandle:Vp,useInsertionEffect:xp,useLayoutEffect:Dp,useMemo:Lp,useReducer:sh,useRef:Pp,useState:function(){return sh(ra)},useDebugValue:ah,useDeferredValue:function(n){var i=yn();return ht===null?i.memoizedState=n:Mp(i,ht.memoizedState,n)},useTransition:function(){var n=sh(ra)[0],i=yn().memoizedState;return[n,i]},useMutableSource:Ep,useSyncExternalStore:wp,useId:Fp,unstable_isNewReconciler:!1};function Nn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function lh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Ll={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Bt(),f=Qr(n),m=yr(c,f);m.payload=i,a!=null&&(m.callback=a),i=Hr(n,m,f),i!==null&&(Ln(i,n,f,c),Al(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Bt(),f=Qr(n),m=yr(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Hr(n,m,f),i!==null&&(Ln(i,n,f,c),Al(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Bt(),c=Qr(n),f=yr(a,c);f.tag=2,i!=null&&(f.callback=i),i=Hr(n,f,c),i!==null&&(Ln(i,n,c,a),Al(i,n,c))}};function zp(n,i,a,c,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!Ho(a,c)||!Ho(f,m):!0}function Bp(n,i,a){var c=!1,f=zr,m=i.contextType;return typeof m=="object"&&m!==null?m=gn(m):(f=qt(i)?Li:Nt.current,c=i.contextTypes,m=(c=c!=null)?Ms(n,f):zr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ll,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function $p(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Ll.enqueueReplaceState(i,i.state,null)}function uh(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Gc(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=gn(m):(m=qt(i)?Li:Nt.current,f.context=Ms(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(lh(n,i,m,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Ll.enqueueReplaceState(f,f.state,null),Pl(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Hs(n,i){try{var a="",c=i;do a+=Ce(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function ch(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function hh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var hE=typeof WeakMap=="function"?WeakMap:Map;function Hp(n,i,a){a=yr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Bl||(Bl=!0,Rh=c),hh(n,i)},a}function Wp(n,i,a){a=yr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){hh(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){hh(n,i),typeof c!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function qp(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new hE;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=CE.bind(null,n,i,a),i.then(n,n))}function Kp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Qp(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=yr(-1,1),i.tag=2,Hr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var fE=ne.ReactCurrentOwner,Kt=!1;function zt(n,i,a,c){i.child=n===null?pp(i,null,a,c):Us(i,n.child,a,c)}function Gp(n,i,a,c,f){a=a.render;var m=i.ref;return Bs(i,f),c=nh(n,i,a,c,m,f),a=rh(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,vr(n,i,f)):(Qe&&a&&jc(i),i.flags|=1,zt(n,i,c,f),i.child)}function Xp(n,i,a,c,f){if(n===null){var m=a.type;return typeof m=="function"&&!Vh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Yp(n,i,m,c,f)):(n=Ql(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&f)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,c)&&n.ref===i.ref)return vr(n,i,f)}return i.flags|=1,n=Xr(m,c),n.ref=i.ref,n.return=i,i.child=n}function Yp(n,i,a,c,f){if(n!==null){var m=n.memoizedProps;if(Ho(m,c)&&n.ref===i.ref)if(Kt=!1,i.pendingProps=c=m,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Kt=!0);else return i.lanes=n.lanes,vr(n,i,f)}return fh(n,i,a,c,f)}function Jp(n,i,a){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(qs,on),on|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,He(qs,on),on|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,He(qs,on),on|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,He(qs,on),on|=c;return zt(n,i,f,a),i.child}function Zp(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function fh(n,i,a,c,f){var m=qt(a)?Li:Nt.current;return m=Ms(i,m),Bs(i,f),a=nh(n,i,a,c,m,f),c=rh(),n!==null&&!Kt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,vr(n,i,f)):(Qe&&c&&jc(i),i.flags|=1,zt(n,i,a,f),i.child)}function em(n,i,a,c,f){if(qt(a)){var m=!0;_l(i)}else m=!1;if(Bs(i,f),i.stateNode===null)Fl(n,i),Bp(i,a,c),uh(i,a,c,f),c=!0;else if(n===null){var _=i.stateNode,C=i.memoizedProps;_.props=C;var P=_.context,z=a.contextType;typeof z=="object"&&z!==null?z=gn(z):(z=qt(a)?Li:Nt.current,z=Ms(i,z));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function";Z||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==c||P!==z)&&$p(i,_,c,z),$r=!1;var X=i.memoizedState;_.state=X,Pl(i,c,_,f),P=i.memoizedState,C!==c||X!==P||Wt.current||$r?(typeof Y=="function"&&(lh(i,a,Y,c),P=i.memoizedState),(C=$r||zp(i,a,C,c,X,P,z))?(Z||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),_.props=c,_.state=P,_.context=z,c=C):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,gp(n,i),C=i.memoizedProps,z=i.type===i.elementType?C:Nn(i.type,C),_.props=z,Z=i.pendingProps,X=_.context,P=a.contextType,typeof P=="object"&&P!==null?P=gn(P):(P=qt(a)?Li:Nt.current,P=Ms(i,P));var se=a.getDerivedStateFromProps;(Y=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==Z||X!==P)&&$p(i,_,c,P),$r=!1,X=i.memoizedState,_.state=X,Pl(i,c,_,f);var ue=i.memoizedState;C!==Z||X!==ue||Wt.current||$r?(typeof se=="function"&&(lh(i,a,se,c),ue=i.memoizedState),(z=$r||zp(i,a,z,c,X,ue,P)||!1)?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,P)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ue),_.props=c,_.state=ue,_.context=P,c=z):(typeof _.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),c=!1)}return dh(n,i,a,c,m,f)}function dh(n,i,a,c,f,m){Zp(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return f&&sp(i,a,!1),vr(n,i,m);c=i.stateNode,fE.current=i;var C=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Us(i,n.child,null,m),i.child=Us(i,null,C,m)):zt(n,i,C,m),i.memoizedState=c.state,f&&sp(i,a,!0),i.child}function tm(n){var i=n.stateNode;i.pendingContext?rp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&rp(n,i.context,!1),Xc(n,i.containerInfo)}function nm(n,i,a,c,f){return js(),$c(f),i.flags|=256,zt(n,i,a,c),i.child}var ph={dehydrated:null,treeContext:null,retryLane:0};function mh(n){return{baseLanes:n,cachePool:null,transitions:null}}function rm(n,i,a){var c=i.pendingProps,f=Xe.current,m=!1,_=(i.flags&128)!==0,C;if((C=_)||(C=n!==null&&n.memoizedState===null?!1:(f&2)!==0),C?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),He(Xe,f&1),n===null)return Bc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Gl(_,c,0,null),n=Wi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=mh(a),i.memoizedState=ph,n):gh(i,_));if(f=n.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return dE(n,i,_,c,C,f,a);if(m){m=c.fallback,_=i.mode,f=n.child,C=f.sibling;var P={mode:"hidden",children:c.children};return(_&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=Xr(f,P),c.subtreeFlags=f.subtreeFlags&14680064),C!==null?m=Xr(C,m):(m=Wi(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?mh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=ph,c}return m=n.child,n=m.sibling,c=Xr(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function gh(n,i){return i=Gl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Ml(n,i,a,c){return c!==null&&$c(c),Us(i,n.child,null,a),n=gh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function dE(n,i,a,c,f,m,_){if(a)return i.flags&256?(i.flags&=-257,c=ch(Error(t(422))),Ml(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=Gl({mode:"visible",children:c.children},f,0,null),m=Wi(m,f,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Us(i,n.child,null,_),i.child.memoizedState=mh(_),i.memoizedState=ph,m);if((i.mode&1)===0)return Ml(n,i,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var C=c.dgst;return c=C,m=Error(t(419)),c=ch(m,c,void 0),Ml(n,i,_,c)}if(C=(_&n.childLanes)!==0,Kt||C){if(c=_t,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,gr(n,f),Ln(c,n,f,-1))}return Nh(),c=ch(Error(t(421))),Ml(n,i,_,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=RE.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,sn=jr(f.nextSibling),rn=i,Qe=!0,Dn=null,n!==null&&(pn[mn++]=pr,pn[mn++]=mr,pn[mn++]=Mi,pr=n.id,mr=n.overflow,Mi=i),i=gh(i,c.children),i.flags|=4096,i)}function im(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Kc(n.return,i,a)}function yh(n,i,a,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function sm(n,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(zt(n,i,c.children,a),c=Xe.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&im(n,a,i);else if(n.tag===19)im(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(He(Xe,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&kl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),yh(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&kl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}yh(i,!0,a,null,m);break;case"together":yh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function vr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),zi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=Xr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Xr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function pE(n,i,a){switch(i.tag){case 3:tm(i),js();break;case 5:_p(i);break;case 1:qt(i.type)&&_l(i);break;case 4:Xc(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;He(Cl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(Xe,Xe.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?rm(n,i,a):(He(Xe,Xe.current&1),n=vr(n,i,a),n!==null?n.sibling:null);He(Xe,Xe.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return sm(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),He(Xe,Xe.current),c)break;return null;case 22:case 23:return i.lanes=0,Jp(n,i,a)}return vr(n,i,a)}var om,vh,am,lm;om=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},vh=function(){},am=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,ji(qn.current);var m=null;switch(a){case"input":f=vi(n,f),c=vi(n,c),m=[];break;case"select":f=oe({},f,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":f=_o(n,f),c=_o(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=gl)}Co(a,c);var _;a=null;for(z in f)if(!c.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var C=f[z];for(_ in C)C.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(o.hasOwnProperty(z)?m||(m=[]):(m=m||[]).push(z,null));for(z in c){var P=c[z];if(C=f!=null?f[z]:void 0,c.hasOwnProperty(z)&&P!==C&&(P!=null||C!=null))if(z==="style")if(C){for(_ in C)!C.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in P)P.hasOwnProperty(_)&&C[_]!==P[_]&&(a||(a={}),a[_]=P[_])}else a||(m||(m=[]),m.push(z,a)),a=P;else z==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(m=m||[]).push(z,P)):z==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(z,""+P):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(o.hasOwnProperty(z)?(P!=null&&z==="onScroll"&&We("scroll",n),m||C===P||(m=[])):(m=m||[]).push(z,P))}a&&(m=m||[]).push("style",a);var z=m;(i.updateQueue=z)&&(i.flags|=4)}},lm=function(n,i,a,c){a!==c&&(i.flags|=4)};function sa(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function mE(n,i,a){var c=i.pendingProps;switch(Uc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return qt(i.type)&&vl(),Ot(i),null;case 3:return c=i.stateNode,$s(),qe(Wt),qe(Nt),Zc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Sl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dn!==null&&(kh(Dn),Dn=null))),vh(n,i),Ot(i),null;case 5:Yc(i);var f=ji(ea.current);if(a=i.type,n!==null&&i.stateNode!=null)am(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ot(i),null}if(n=ji(qn.current),Sl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Wn]=i,c[Go]=m,n=(i.mode&1)!==0,a){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(f=0;f<qo.length;f++)We(qo[f],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":is(c,m),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},We("invalid",c);break;case"textarea":os(c,m),We("invalid",c)}Co(a,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var C=m[_];_==="children"?typeof C=="string"?c.textContent!==C&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,C,n),f=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&ml(c.textContent,C,n),f=["children",""+C]):o.hasOwnProperty(_)&&C!=null&&_==="onScroll"&&We("scroll",c)}switch(a){case"input":nr(c),za(c,m,!0);break;case"textarea":nr(c),Eo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=gl)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[Wn]=i,n[Go]=c,om(n,i,!1,!1),i.stateNode=n;e:{switch(_=Ro(a,c),a){case"dialog":We("cancel",n),We("close",n),f=c;break;case"iframe":case"object":case"embed":We("load",n),f=c;break;case"video":case"audio":for(f=0;f<qo.length;f++)We(qo[f],n);f=c;break;case"source":We("error",n),f=c;break;case"img":case"image":case"link":We("error",n),We("load",n),f=c;break;case"details":We("toggle",n),f=c;break;case"input":is(n,c),f=vi(n,c),We("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=oe({},c,{value:void 0}),We("invalid",n);break;case"textarea":os(n,c),f=_o(n,c),We("invalid",n);break;default:f=c}Co(a,f),C=f;for(m in C)if(C.hasOwnProperty(m)){var P=C[m];m==="style"?So(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&wo(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Pr(n,P):typeof P=="number"&&Pr(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&We("scroll",n):P!=null&&q(n,m,P,_))}switch(a){case"input":nr(n),za(n,c,!1);break;case"textarea":nr(n),Eo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?ir(n,!!c.multiple,m,!1):c.defaultValue!=null&&ir(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=gl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(n&&i.stateNode!=null)lm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=ji(ea.current),ji(qn.current),Sl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Wn]=i,(m=c.nodeValue!==a)&&(n=rn,n!==null))switch(n.tag){case 3:ml(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ml(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Wn]=i,i.stateNode=c}return Ot(i),null;case 13:if(qe(Xe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&sn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)hp(),js(),i.flags|=98560,m=!1;else if(m=Sl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Wn]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),m=!1}else Dn!==null&&(kh(Dn),Dn=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Xe.current&1)!==0?ft===0&&(ft=3):Nh())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return $s(),vh(n,i),n===null&&Ko(i.stateNode.containerInfo),Ot(i),null;case 10:return qc(i.type._context),Ot(i),null;case 17:return qt(i.type)&&vl(),Ot(i),null;case 19:if(qe(Xe),m=i.memoizedState,m===null)return Ot(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)sa(m,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=kl(n),_!==null){for(i.flags|=128,sa(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return He(Xe,Xe.current&1|2),i.child}n=n.sibling}m.tail!==null&&$e()>Ks&&(i.flags|=128,c=!0,sa(m,!1),i.lanes=4194304)}else{if(!c)if(n=kl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),sa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Qe)return Ot(i),null}else 2*$e()-m.renderingStartTime>Ks&&a!==1073741824&&(i.flags|=128,c=!0,sa(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=$e(),i.sibling=null,a=Xe.current,He(Xe,c?a&1|2:a&1),i):(Ot(i),null);case 22:case 23:return Dh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(on&1073741824)!==0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function gE(n,i){switch(Uc(i),i.tag){case 1:return qt(i.type)&&vl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return $s(),qe(Wt),qe(Nt),Zc(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Yc(i),null;case 13:if(qe(Xe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));js()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return qe(Xe),null;case 4:return $s(),null;case 10:return qc(i.type._context),null;case 22:case 23:return Dh(),null;case 24:return null;default:return null}}var bl=!1,Lt=!1,yE=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ws(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){et(n,i,c)}else a.current=null}function _h(n,i,a){try{a()}catch(c){et(n,i,c)}}var um=!1;function vE(n,i){if(Dc=Mr,n=zd(),Sc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,C=-1,P=-1,z=0,Y=0,Z=n,X=null;t:for(;;){for(var se;Z!==a||f!==0&&Z.nodeType!==3||(C=_+f),Z!==m||c!==0&&Z.nodeType!==3||(P=_+c),Z.nodeType===3&&(_+=Z.nodeValue.length),(se=Z.firstChild)!==null;)X=Z,Z=se;for(;;){if(Z===n)break t;if(X===a&&++z===f&&(C=_),X===m&&++Y===c&&(P=_),(se=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=se}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nc={focusedElem:n,selectionRange:a},Mr=!1,le=i;le!==null;)if(i=le,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,le=n;else for(;le!==null;){i=le;try{var ue=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,j=i.stateNode,N=j.getSnapshotBeforeUpdate(i.elementType===i.type?ce:Nn(i.type,ce),rt);j.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){et(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,le=n;break}le=i.return}return ue=um,um=!1,ue}function oa(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&_h(i,a,m)}f=f.next}while(f!==c)}}function jl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Eh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function cm(n){var i=n.alternate;i!==null&&(n.alternate=null,cm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Wn],delete i[Go],delete i[Mc],delete i[eE],delete i[tE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function hm(n){return n.tag===5||n.tag===3||n.tag===4}function fm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=gl));else if(c!==4&&(n=n.child,n!==null))for(wh(n,i,a),n=n.sibling;n!==null;)wh(n,i,a),n=n.sibling}function Th(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Th(n,i,a),n=n.sibling;n!==null;)Th(n,i,a),n=n.sibling}var It=null,Vn=!1;function Wr(n,i,a){for(a=a.child;a!==null;)dm(n,i,a),a=a.sibling}function dm(n,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ai,a)}catch{}switch(a.tag){case 5:Lt||Ws(a,i);case 6:var c=It,f=Vn;It=null,Wr(n,i,a),It=c,Vn=f,It!==null&&(Vn?(n=It,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):It.removeChild(a.stateNode));break;case 18:It!==null&&(Vn?(n=It,a=a.stateNode,n.nodeType===8?Lc(n.parentNode,a):n.nodeType===1&&Lc(n,a),Pn(n)):Lc(It,a.stateNode));break;case 4:c=It,f=Vn,It=a.stateNode.containerInfo,Vn=!0,Wr(n,i,a),It=c,Vn=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&_h(a,i,_),f=f.next}while(f!==c)}Wr(n,i,a);break;case 1:if(!Lt&&(Ws(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){et(a,i,C)}Wr(n,i,a);break;case 21:Wr(n,i,a);break;case 22:a.mode&1?(Lt=(c=Lt)||a.memoizedState!==null,Wr(n,i,a),Lt=c):Wr(n,i,a);break;default:Wr(n,i,a)}}function pm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new yE),i.forEach(function(c){var f=AE.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function On(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=n,_=i,C=_;e:for(;C!==null;){switch(C.tag){case 5:It=C.stateNode,Vn=!1;break e;case 3:It=C.stateNode.containerInfo,Vn=!0;break e;case 4:It=C.stateNode.containerInfo,Vn=!0;break e}C=C.return}if(It===null)throw Error(t(160));dm(m,_,f),It=null,Vn=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(z){et(f,i,z)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)mm(i,n),i=i.sibling}function mm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(On(i,n),Qn(n),c&4){try{oa(3,n,n.return),jl(3,n)}catch(ce){et(n,n.return,ce)}try{oa(5,n,n.return)}catch(ce){et(n,n.return,ce)}}break;case 1:On(i,n),Qn(n),c&512&&a!==null&&Ws(a,a.return);break;case 5:if(On(i,n),Qn(n),c&512&&a!==null&&Ws(a,a.return),n.flags&32){var f=n.stateNode;try{Pr(f,"")}catch(ce){et(n,n.return,ce)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,C=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&yo(f,m),Ro(C,_);var z=Ro(C,m);for(_=0;_<P.length;_+=2){var Y=P[_],Z=P[_+1];Y==="style"?So(f,Z):Y==="dangerouslySetInnerHTML"?wo(f,Z):Y==="children"?Pr(f,Z):q(f,Y,Z,z)}switch(C){case"input":vo(f,m);break;case"textarea":as(f,m);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var se=m.value;se!=null?ir(f,!!m.multiple,se,!1):X!==!!m.multiple&&(m.defaultValue!=null?ir(f,!!m.multiple,m.defaultValue,!0):ir(f,!!m.multiple,m.multiple?[]:"",!1))}f[Go]=m}catch(ce){et(n,n.return,ce)}}break;case 6:if(On(i,n),Qn(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(ce){et(n,n.return,ce)}}break;case 3:if(On(i,n),Qn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(i.containerInfo)}catch(ce){et(n,n.return,ce)}break;case 4:On(i,n),Qn(n);break;case 13:On(i,n),Qn(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(Ch=$e())),c&4&&pm(n);break;case 22:if(Y=a!==null&&a.memoizedState!==null,n.mode&1?(Lt=(z=Lt)||Y,On(i,n),Lt=z):On(i,n),Qn(n),c&8192){if(z=n.memoizedState!==null,(n.stateNode.isHidden=z)&&!Y&&(n.mode&1)!==0)for(le=n,Y=n.child;Y!==null;){for(Z=le=Y;le!==null;){switch(X=le,se=X.child,X.tag){case 0:case 11:case 14:case 15:oa(4,X,X.return);break;case 1:Ws(X,X.return);var ue=X.stateNode;if(typeof ue.componentWillUnmount=="function"){c=X,a=X.return;try{i=c,ue.props=i.memoizedProps,ue.state=i.memoizedState,ue.componentWillUnmount()}catch(ce){et(c,a,ce)}}break;case 5:Ws(X,X.return);break;case 22:if(X.memoizedState!==null){vm(Z);continue}}se!==null?(se.return=X,le=se):vm(Z)}Y=Y.sibling}e:for(Y=null,Z=n;;){if(Z.tag===5){if(Y===null){Y=Z;try{f=Z.stateNode,z?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=Z.stateNode,P=Z.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=To("display",_))}catch(ce){et(n,n.return,ce)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=z?"":Z.memoizedProps}catch(ce){et(n,n.return,ce)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:On(i,n),Qn(n),c&4&&pm(n);break;case 21:break;default:On(i,n),Qn(n)}}function Qn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(hm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Pr(f,""),c.flags&=-33);var m=fm(n);Th(n,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,C=fm(n);wh(n,C,_);break;default:throw Error(t(161))}}catch(P){et(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function _E(n,i,a){le=n,gm(n)}function gm(n,i,a){for(var c=(n.mode&1)!==0;le!==null;){var f=le,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||bl;if(!_){var C=f.alternate,P=C!==null&&C.memoizedState!==null||Lt;C=bl;var z=Lt;if(bl=_,(Lt=P)&&!z)for(le=f;le!==null;)_=le,P=_.child,_.tag===22&&_.memoizedState!==null?_m(f):P!==null?(P.return=_,le=P):_m(f);for(;m!==null;)le=m,gm(m),m=m.sibling;le=f,bl=C,Lt=z}ym(n)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,le=m):ym(n)}}function ym(n){for(;le!==null;){var i=le;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Lt||jl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Lt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Nn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&vp(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}vp(i,_,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var z=i.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&Pn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||i.flags&512&&Eh(i)}catch(X){et(i,i.return,X)}}if(i===n){le=null;break}if(a=i.sibling,a!==null){a.return=i.return,le=a;break}le=i.return}}function vm(n){for(;le!==null;){var i=le;if(i===n){le=null;break}var a=i.sibling;if(a!==null){a.return=i.return,le=a;break}le=i.return}}function _m(n){for(;le!==null;){var i=le;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{jl(4,i)}catch(P){et(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(P){et(i,f,P)}}var m=i.return;try{Eh(i)}catch(P){et(i,m,P)}break;case 5:var _=i.return;try{Eh(i)}catch(P){et(i,_,P)}}}catch(P){et(i,i.return,P)}if(i===n){le=null;break}var C=i.sibling;if(C!==null){C.return=i.return,le=C;break}le=i.return}}var EE=Math.ceil,Ul=ne.ReactCurrentDispatcher,Sh=ne.ReactCurrentOwner,vn=ne.ReactCurrentBatchConfig,Oe=0,_t=null,ot=null,Ct=0,on=0,qs=Ur(0),ft=0,aa=null,zi=0,zl=0,Ih=0,la=null,Qt=null,Ch=0,Ks=1/0,_r=null,Bl=!1,Rh=null,qr=null,$l=!1,Kr=null,Hl=0,ua=0,Ah=null,Wl=-1,ql=0;function Bt(){return(Oe&6)!==0?$e():Wl!==-1?Wl:Wl=$e()}function Qr(n){return(n.mode&1)===0?1:(Oe&2)!==0&&Ct!==0?Ct&-Ct:rE.transition!==null?(ql===0&&(ql=ki()),ql):(n=Pe,n!==0||(n=window.event,n=n===void 0?16:Fo(n.type)),n)}function Ln(n,i,a,c){if(50<ua)throw ua=0,Ah=null,Error(t(185));Nr(n,a,c),((Oe&2)===0||n!==_t)&&(n===_t&&((Oe&2)===0&&(zl|=a),ft===4&&Gr(n,Ct)),Gt(n,c),a===1&&Oe===0&&(i.mode&1)===0&&(Ks=$e()+500,El&&Br()))}function Gt(n,i){var a=n.callbackNode;ar(n,i);var c=Pi(n,n===_t?Ct:0);if(c===0)a!==null&&No(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&No(a),i===1)n.tag===0?nE(wm.bind(null,n)):op(wm.bind(null,n)),J_(function(){(Oe&6)===0&&Br()}),a=null;else{switch(Or(c)){case 1:a=Ri;break;case 4:a=kr;break;case 16:a=hn;break;case 536870912:a=qa;break;default:a=hn}a=km(a,Em.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Em(n,i){if(Wl=-1,ql=0,(Oe&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Qs()&&n.callbackNode!==a)return null;var c=Pi(n,n===_t?Ct:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=Kl(n,c);else{i=c;var f=Oe;Oe|=2;var m=Sm();(_t!==n||Ct!==i)&&(_r=null,Ks=$e()+500,$i(n,i));do try{SE();break}catch(C){Tm(n,C)}while(!0);Wc(),Ul.current=m,Oe=f,ot!==null?i=0:(_t=null,Ct=0,i=ft)}if(i!==0){if(i===2&&(f=en(n),f!==0&&(c=f,i=Ph(n,f))),i===1)throw a=aa,$i(n,0),Gr(n,c),Gt(n,$e()),a;if(i===6)Gr(n,c);else{if(f=n.current.alternate,(c&30)===0&&!wE(f)&&(i=Kl(n,c),i===2&&(m=en(n),m!==0&&(c=m,i=Ph(n,m))),i===1))throw a=aa,$i(n,0),Gr(n,c),Gt(n,$e()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Hi(n,Qt,_r);break;case 3:if(Gr(n,c),(c&130023424)===c&&(i=Ch+500-$e(),10<i)){if(Pi(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Bt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Oc(Hi.bind(null,n,Qt,_r),i);break}Hi(n,Qt,_r);break;case 4:if(Gr(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var _=31-jt(c);m=1<<_,_=i[_],_>f&&(f=_),c&=~m}if(c=f,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*EE(c/1960))-c,10<c){n.timeoutHandle=Oc(Hi.bind(null,n,Qt,_r),c);break}Hi(n,Qt,_r);break;case 5:Hi(n,Qt,_r);break;default:throw Error(t(329))}}}return Gt(n,$e()),n.callbackNode===a?Em.bind(null,n):null}function Ph(n,i){var a=la;return n.current.memoizedState.isDehydrated&&($i(n,i).flags|=256),n=Kl(n,i),n!==2&&(i=Qt,Qt=a,i!==null&&kh(i)),n}function kh(n){Qt===null?Qt=n:Qt.push.apply(Qt,n)}function wE(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(n,i){for(i&=~Ih,i&=~zl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-jt(i),c=1<<a;n[a]=-1,i&=~c}}function wm(n){if((Oe&6)!==0)throw Error(t(327));Qs();var i=Pi(n,0);if((i&1)===0)return Gt(n,$e()),null;var a=Kl(n,i);if(n.tag!==0&&a===2){var c=en(n);c!==0&&(i=c,a=Ph(n,c))}if(a===1)throw a=aa,$i(n,0),Gr(n,i),Gt(n,$e()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Hi(n,Qt,_r),Gt(n,$e()),null}function xh(n,i){var a=Oe;Oe|=1;try{return n(i)}finally{Oe=a,Oe===0&&(Ks=$e()+500,El&&Br())}}function Bi(n){Kr!==null&&Kr.tag===0&&(Oe&6)===0&&Qs();var i=Oe;Oe|=1;var a=vn.transition,c=Pe;try{if(vn.transition=null,Pe=1,n)return n()}finally{Pe=c,vn.transition=a,Oe=i,(Oe&6)===0&&Br()}}function Dh(){on=qs.current,qe(qs)}function $i(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,Y_(a)),ot!==null)for(a=ot.return;a!==null;){var c=a;switch(Uc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&vl();break;case 3:$s(),qe(Wt),qe(Nt),Zc();break;case 5:Yc(c);break;case 4:$s();break;case 13:qe(Xe);break;case 19:qe(Xe);break;case 10:qc(c.type._context);break;case 22:case 23:Dh()}a=a.return}if(_t=n,ot=n=Xr(n.current,null),Ct=on=i,ft=0,aa=null,Ih=zl=zi=0,Qt=la=null,bi!==null){for(i=0;i<bi.length;i++)if(a=bi[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}a.pending=c}bi=null}return n}function Tm(n,i){do{var a=ot;try{if(Wc(),xl.current=Ol,Dl){for(var c=Ye.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Dl=!1}if(Ui=0,vt=ht=Ye=null,ta=!1,na=0,Sh.current=null,a===null||a.return===null){ft=1,aa=i,ot=null;break}e:{var m=n,_=a.return,C=a,P=i;if(i=Ct,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var z=P,Y=C,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=Kp(_);if(se!==null){se.flags&=-257,Qp(se,_,C,m,i),se.mode&1&&qp(m,z,i),i=se,P=z;var ue=i.updateQueue;if(ue===null){var ce=new Set;ce.add(P),i.updateQueue=ce}else ue.add(P);break e}else{if((i&1)===0){qp(m,z,i),Nh();break e}P=Error(t(426))}}else if(Qe&&C.mode&1){var rt=Kp(_);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),Qp(rt,_,C,m,i),$c(Hs(P,C));break e}}m=P=Hs(P,C),ft!==4&&(ft=2),la===null?la=[m]:la.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var j=Hp(m,P,i);yp(m,j);break e;case 1:C=P;var N=m.type,U=m.stateNode;if((m.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(qr===null||!qr.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var te=Wp(m,C,i);yp(m,te);break e}}m=m.return}while(m!==null)}Cm(a)}catch(fe){i=fe,ot===a&&a!==null&&(ot=a=a.return);continue}break}while(!0)}function Sm(){var n=Ul.current;return Ul.current=Ol,n===null?Ol:n}function Nh(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||(zi&268435455)===0&&(zl&268435455)===0||Gr(_t,Ct)}function Kl(n,i){var a=Oe;Oe|=2;var c=Sm();(_t!==n||Ct!==i)&&(_r=null,$i(n,i));do try{TE();break}catch(f){Tm(n,f)}while(!0);if(Wc(),Oe=a,Ul.current=c,ot!==null)throw Error(t(261));return _t=null,Ct=0,ft}function TE(){for(;ot!==null;)Im(ot)}function SE(){for(;ot!==null&&!Ha();)Im(ot)}function Im(n){var i=Pm(n.alternate,n,on);n.memoizedProps=n.pendingProps,i===null?Cm(n):ot=i,Sh.current=null}function Cm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=mE(a,i,on),a!==null){ot=a;return}}else{if(a=gE(a,i),a!==null){a.flags&=32767,ot=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ft=6,ot=null;return}}if(i=i.sibling,i!==null){ot=i;return}ot=i=n}while(i!==null);ft===0&&(ft=5)}function Hi(n,i,a){var c=Pe,f=vn.transition;try{vn.transition=null,Pe=1,IE(n,i,a,c)}finally{vn.transition=f,Pe=c}return null}function IE(n,i,a,c){do Qs();while(Kr!==null);if((Oe&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(ze(n,m),n===_t&&(ot=_t=null,Ct=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||$l||($l=!0,km(hn,function(){return Qs(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=vn.transition,vn.transition=null;var _=Pe;Pe=1;var C=Oe;Oe|=4,Sh.current=null,vE(n,a),mm(a,n),H_(Nc),Mr=!!Dc,Nc=Dc=null,n.current=a,_E(a),mc(),Oe=C,Pe=_,vn.transition=m}else n.current=a;if($l&&($l=!1,Kr=n,Hl=f),m=n.pendingLanes,m===0&&(qr=null),Ka(a.stateNode),Gt(n,$e()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(Bl)throw Bl=!1,n=Rh,Rh=null,n;return(Hl&1)!==0&&n.tag!==0&&Qs(),m=n.pendingLanes,(m&1)!==0?n===Ah?ua++:(ua=0,Ah=n):ua=0,Br(),null}function Qs(){if(Kr!==null){var n=Or(Hl),i=vn.transition,a=Pe;try{if(vn.transition=null,Pe=16>n?16:n,Kr===null)var c=!1;else{if(n=Kr,Kr=null,Hl=0,(Oe&6)!==0)throw Error(t(331));var f=Oe;for(Oe|=4,le=n.current;le!==null;){var m=le,_=m.child;if((le.flags&16)!==0){var C=m.deletions;if(C!==null){for(var P=0;P<C.length;P++){var z=C[P];for(le=z;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:oa(8,Y,m)}var Z=Y.child;if(Z!==null)Z.return=Y,le=Z;else for(;le!==null;){Y=le;var X=Y.sibling,se=Y.return;if(cm(Y),Y===z){le=null;break}if(X!==null){X.return=se,le=X;break}le=se}}}var ue=m.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}le=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,le=_;else e:for(;le!==null;){if(m=le,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:oa(9,m,m.return)}var j=m.sibling;if(j!==null){j.return=m.return,le=j;break e}le=m.return}}var N=n.current;for(le=N;le!==null;){_=le;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,le=U;else e:for(_=N;le!==null;){if(C=le,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:jl(9,C)}}catch(fe){et(C,C.return,fe)}if(C===_){le=null;break e}var te=C.sibling;if(te!==null){te.return=C.return,le=te;break e}le=C.return}}if(Oe=f,Br(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ai,n)}catch{}c=!0}return c}finally{Pe=a,vn.transition=i}}return!1}function Rm(n,i,a){i=Hs(a,i),i=Hp(n,i,1),n=Hr(n,i,1),i=Bt(),n!==null&&(Nr(n,1,i),Gt(n,i))}function et(n,i,a){if(n.tag===3)Rm(n,n,a);else for(;i!==null;){if(i.tag===3){Rm(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(qr===null||!qr.has(c))){n=Hs(a,n),n=Wp(i,n,1),i=Hr(i,n,1),n=Bt(),i!==null&&(Nr(i,1,n),Gt(i,n));break}}i=i.return}}function CE(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Bt(),n.pingedLanes|=n.suspendedLanes&a,_t===n&&(Ct&a)===a&&(ft===4||ft===3&&(Ct&130023424)===Ct&&500>$e()-Ch?$i(n,0):Ih|=a),Gt(n,i)}function Am(n,i){i===0&&((n.mode&1)===0?i=1:(i=ys,ys<<=1,(ys&130023424)===0&&(ys=4194304)));var a=Bt();n=gr(n,i),n!==null&&(Nr(n,i,a),Gt(n,a))}function RE(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Am(n,a)}function AE(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Am(n,a)}var Pm;Pm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Wt.current)Kt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Kt=!1,pE(n,i,a);Kt=(n.flags&131072)!==0}else Kt=!1,Qe&&(i.flags&1048576)!==0&&ap(i,Tl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Fl(n,i),n=i.pendingProps;var f=Ms(i,Nt.current);Bs(i,a),f=nh(null,i,c,n,f,a);var m=rh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,qt(c)?(m=!0,_l(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Gc(i),f.updater=Ll,i.stateNode=f,f._reactInternals=i,uh(i,c,n,a),i=dh(null,i,c,!0,m,a)):(i.tag=0,Qe&&m&&jc(i),zt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Fl(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=kE(c),n=Nn(c,n),f){case 0:i=fh(null,i,c,n,a);break e;case 1:i=em(null,i,c,n,a);break e;case 11:i=Gp(null,i,c,n,a);break e;case 14:i=Xp(null,i,c,Nn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Nn(c,f),fh(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Nn(c,f),em(n,i,c,f,a);case 3:e:{if(tm(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,gp(n,i),Pl(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=Hs(Error(t(423)),i),i=nm(n,i,c,a,f);break e}else if(c!==f){f=Hs(Error(t(424)),i),i=nm(n,i,c,a,f);break e}else for(sn=jr(i.stateNode.containerInfo.firstChild),rn=i,Qe=!0,Dn=null,a=pp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),c===f){i=vr(n,i,a);break e}zt(n,i,c,a)}i=i.child}return i;case 5:return _p(i),n===null&&Bc(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,_=f.children,Vc(c,f)?_=null:m!==null&&Vc(c,m)&&(i.flags|=32),Zp(n,i),zt(n,i,_,a),i.child;case 6:return n===null&&Bc(i),null;case 13:return rm(n,i,a);case 4:return Xc(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Us(i,null,c,a):zt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Nn(c,f),Gp(n,i,c,f,a);case 7:return zt(n,i,i.pendingProps,a),i.child;case 8:return zt(n,i,i.pendingProps.children,a),i.child;case 12:return zt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,_=f.value,He(Cl,c._currentValue),c._currentValue=_,m!==null)if(xn(m.value,_)){if(m.children===f.children&&!Wt.current){i=vr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var C=m.dependencies;if(C!==null){_=m.child;for(var P=C.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=yr(-1,a&-a),P.tag=2;var z=m.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?P.next=P:(P.next=Y.next,Y.next=P),z.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Kc(m.return,a,i),C.lanes|=a;break}P=P.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,C=_.alternate,C!==null&&(C.lanes|=a),Kc(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}zt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Bs(i,a),f=gn(f),c=c(f),i.flags|=1,zt(n,i,c,a),i.child;case 14:return c=i.type,f=Nn(c,i.pendingProps),f=Nn(c.type,f),Xp(n,i,c,f,a);case 15:return Yp(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Nn(c,f),Fl(n,i),i.tag=1,qt(c)?(n=!0,_l(i)):n=!1,Bs(i,a),Bp(i,c,f),uh(i,c,f,a),dh(null,i,c,!0,n,a);case 19:return sm(n,i,a);case 22:return Jp(n,i,a)}throw Error(t(156,i.tag))};function km(n,i){return ms(n,i)}function PE(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,i,a,c){return new PE(n,i,a,c)}function Vh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kE(n){if(typeof n=="function")return Vh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===xt)return 14}return 2}function Xr(n,i){var a=n.alternate;return a===null?(a=_n(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Ql(n,i,a,c,f,m){var _=2;if(c=n,typeof n=="function")Vh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case k:return Wi(a.children,f,m,i);case I:_=8,f|=8;break;case R:return n=_n(12,a,i,f|2),n.elementType=R,n.lanes=m,n;case A:return n=_n(13,a,i,f),n.elementType=A,n.lanes=m,n;case tt:return n=_n(19,a,i,f),n.elementType=tt,n.lanes=m,n;case Ue:return Gl(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:_=10;break e;case V:_=9;break e;case F:_=11;break e;case xt:_=14;break e;case Dt:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=_n(_,a,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Wi(n,i,a,c){return n=_n(7,n,c,i),n.lanes=a,n}function Gl(n,i,a,c){return n=_n(22,n,c,i),n.elementType=Ue,n.lanes=a,n.stateNode={isHidden:!1},n}function Oh(n,i,a){return n=_n(6,n,null,i),n.lanes=a,n}function Lh(n,i,a){return i=_n(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function xE(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dr(0),this.expirationTimes=Dr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Mh(n,i,a,c,f,m,_,C,P){return n=new xE(n,i,a,C,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=_n(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gc(m),n}function DE(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function xm(n){if(!n)return zr;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(qt(a))return ip(n,a,i)}return i}function Dm(n,i,a,c,f,m,_,C,P){return n=Mh(a,c,!0,n,f,m,_,C,P),n.context=xm(null),a=n.current,c=Bt(),f=Qr(a),m=yr(c,f),m.callback=i??null,Hr(a,m,f),n.current.lanes=f,Nr(n,f,c),Gt(n,c),n}function Xl(n,i,a,c){var f=i.current,m=Bt(),_=Qr(f);return a=xm(a),i.context===null?i.context=a:i.pendingContext=a,i=yr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Hr(f,i,_),n!==null&&(Ln(n,f,_,m),Al(n,f,_)),_}function Yl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Nm(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Fh(n,i){Nm(n,i),(n=n.alternate)&&Nm(n,i)}function NE(){return null}var Vm=typeof reportError=="function"?reportError:function(n){console.error(n)};function bh(n){this._internalRoot=n}Jl.prototype.render=bh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Xl(n,i,null,null)},Jl.prototype.unmount=bh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Bi(function(){Xl(null,n,null,null)}),i[fr]=null}};function Jl(n){this._internalRoot=n}Jl.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ja();n={blockedOn:null,target:n,priority:i};for(var a=0;a<zn.length&&i!==0&&i<zn[a].priority;a++);zn.splice(a,0,n),a===0&&tl(n)}};function jh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Om(){}function VE(n,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var z=Yl(_);m.call(z)}}var _=Dm(i,c,n,0,null,!1,!1,"",Om);return n._reactRootContainer=_,n[fr]=_.current,Ko(n.nodeType===8?n.parentNode:n),Bi(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var C=c;c=function(){var z=Yl(P);C.call(z)}}var P=Mh(n,0,!1,null,null,!1,!1,"",Om);return n._reactRootContainer=P,n[fr]=P.current,Ko(n.nodeType===8?n.parentNode:n),Bi(function(){Xl(i,P,a,c)}),P}function eu(n,i,a,c,f){var m=a._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var C=f;f=function(){var P=Yl(_);C.call(P)}}Xl(i,_,n,f)}else _=VE(a,i,n,f,c);return Yl(_)}Xa=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=xr(i.pendingLanes);a!==0&&(Vr(i,a|1),Gt(i,$e()),(Oe&6)===0&&(Ks=$e()+500,Br()))}break;case 13:Bi(function(){var c=gr(n,1);if(c!==null){var f=Bt();Ln(c,n,1,f)}}),Fh(n,1)}},vs=function(n){if(n.tag===13){var i=gr(n,134217728);if(i!==null){var a=Bt();Ln(i,n,134217728,a)}Fh(n,134217728)}},Ya=function(n){if(n.tag===13){var i=Qr(n),a=gr(n,i);if(a!==null){var c=Bt();Ln(a,n,i,c)}Fh(n,i)}},Ja=function(){return Pe},Za=function(n,i){var a=Pe;try{return Pe=n,i()}finally{Pe=a}},us=function(n,i,a){switch(i){case"input":if(vo(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=yl(c);if(!f)throw Error(t(90));rs(c),vo(c,f)}}}break;case"textarea":as(n,a);break;case"select":i=a.value,i!=null&&ir(n,!!a.multiple,i,!1)}},Ti=xh,Po=Bi;var OE={usingClientEntryPoint:!1,Events:[Xo,Os,yl,jn,Ao,xh]},ca={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LE={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Do(n),n===null?null:n.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance||NE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Ai=tu.inject(LE),Zt=tu}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OE,Xt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(i))throw Error(t(200));return DE(n,i,null,a)},Xt.createRoot=function(n,i){if(!jh(n))throw Error(t(299));var a=!1,c="",f=Vm;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Mh(n,1,!1,null,null,a,!1,c,f),n[fr]=i.current,Ko(n.nodeType===8?n.parentNode:n),new bh(i)},Xt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Do(i),n=n===null?null:n.stateNode,n},Xt.flushSync=function(n){return Bi(n)},Xt.hydrate=function(n,i,a){if(!Zl(i))throw Error(t(200));return eu(null,n,i,!0,a)},Xt.hydrateRoot=function(n,i,a){if(!jh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",_=Vm;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=Dm(i,null,n,1,a??null,f,!1,m,_),n[fr]=i.current,Ko(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new Jl(i)},Xt.render=function(n,i,a){if(!Zl(i))throw Error(t(200));return eu(null,n,i,!1,a)},Xt.unmountComponentAtNode=function(n){if(!Zl(n))throw Error(t(40));return n._reactRootContainer?(Bi(function(){eu(null,null,n,!1,function(){n._reactRootContainer=null,n[fr]=null})}),!0):!1},Xt.unstable_batchedUpdates=xh,Xt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Zl(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return eu(n,i,a,!1,c)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var Bm;function $E(){if(Bm)return Bh.exports;Bm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bh.exports=BE(),Bh.exports}var $m;function HE(){if($m)return nu;$m=1;var r=$E();return nu.createRoot=r.createRoot,nu.hydrateRoot=r.hydrateRoot,nu}var WE=HE();const qE=gy(WE);var fa={},Hm;function KE(){if(Hm)return fa;Hm=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.parse=h,fa.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,D){const O=new u,H=T.length;if(H<2)return O;const L=(D==null?void 0:D.decode)||E;let W=0;do{const ee=T.indexOf("=",W);if(ee===-1)break;const q=T.indexOf(";",W),ne=q===-1?H:q;if(ee>ne){W=T.lastIndexOf(";",ee-1)+1;continue}const he=d(T,W,ee),de=g(T,ee,he),k=T.slice(he,de);if(O[k]===void 0){let I=d(T,ee+1,ne),R=g(T,ne,I);const x=L(T.slice(I,R));O[k]=x}W=ne+1}while(W<H);return O}function d(T,D,O){do{const H=T.charCodeAt(D);if(H!==32&&H!==9)return D}while(++D<O);return O}function g(T,D,O){for(;D>O;){const H=T.charCodeAt(--D);if(H!==32&&H!==9)return D+1}return O}function y(T,D,O){const H=(O==null?void 0:O.encode)||encodeURIComponent;if(!r.test(T))throw new TypeError(`argument name is invalid: ${T}`);const L=H(D);if(!e.test(L))throw new TypeError(`argument val is invalid: ${D}`);let W=T+"="+L;if(!O)return W;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);W+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);W+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);W+="; Path="+O.path}if(O.expires){if(!S(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);W+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(W+="; HttpOnly"),O.secure&&(W+="; Secure"),O.partitioned&&(W+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return W}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function S(T){return o.call(T)==="[object Date]"}return fa}KE();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wm="popstate";function QE(r={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return cf("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ta(o)}return XE(e,t,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GE(){return Math.random().toString(36).substring(2,10)}function qm(r,e){return{usr:r.state,key:r.key,idx:e}}function cf(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:t,key:e&&e.key||s||GE()}}function Ta({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function uo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function XE(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",g=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function S(){d="POP";let L=E(),W=L==null?null:L-y;y=L,g&&g({action:d,location:H.location,delta:W})}function T(L,W){d="PUSH";let ee=cf(H.location,L,W);y=E()+1;let q=qm(ee,y),ne=H.createHref(ee);try{h.pushState(q,"",ne)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ne)}u&&g&&g({action:d,location:H.location,delta:1})}function D(L,W){d="REPLACE";let ee=cf(H.location,L,W);y=E();let q=qm(ee,y),ne=H.createHref(ee);h.replaceState(q,"",ne),u&&g&&g({action:d,location:H.location,delta:0})}function O(L){let W=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof L=="string"?L:Ta(L);return ee=ee.replace(/ $/,"%20"),Je(W,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,W)}let H={get action(){return d},get location(){return r(o,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Wm,S),g=L,()=>{o.removeEventListener(Wm,S),g=null}},createHref(L){return e(o,L)},createURL:O,encodeLocation(L){let W=O(L);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:T,replace:D,go(L){return h.go(L)}};return H}function yy(r,e,t="/"){return YE(r,e,t,!1)}function YE(r,e,t,s){let o=typeof e=="string"?uo(e):e,u=oi(o.pathname||"/",t);if(u==null)return null;let h=vy(r);JE(h);let d=null;for(let g=0;d==null&&g<h.length;++g){let y=uw(u);d=aw(h[g],y,s)}return d}function vy(r,e=[],t=[],s=""){let o=(u,h,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Er([s,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),vy(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:sw(y,u.index),routesMeta:E})};return r.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let g of _y(u.path))o(u,h,g)}),e}function _y(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=_y(s.join("/")),d=[];return d.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&d.push(...h),d.map(g=>r.startsWith("/")&&g===""?"/":g)}function JE(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:ow(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var ZE=/^:[\w-]+$/,ew=3,tw=2,nw=1,rw=10,iw=-2,Km=r=>r==="*";function sw(r,e){let t=r.split("/"),s=t.length;return t.some(Km)&&(s+=iw),e&&(s+=tw),t.filter(o=>!Km(o)).reduce((o,u)=>o+(ZE.test(u)?ew:u===""?nw:rw),s)}function ow(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function aw(r,e,t=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let d=0;d<s.length;++d){let g=s[d],y=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=_u({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),T=g.route;if(!S&&y&&t&&!s[s.length-1].route.index&&(S=_u({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:Er([u,S.pathname]),pathnameBase:dw(Er([u,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(u=Er([u,S.pathnameBase]))}return h}function _u(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=lw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},T)=>{if(E==="*"){let O=d[T]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const D=d[T];return S&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function lw(r,e=!1,t=!0){Jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,g)=>(s.push({paramName:d,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function uw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function oi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function cw(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?uo(r):r;return{pathname:t?t.startsWith("/")?t:hw(t,e):e,search:pw(s),hash:mw(o)}}function hw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Wh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fw(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ey(r){let e=fw(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function wy(r,e,t,s=!1){let o;typeof r=="string"?o=uo(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Wh("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Wh("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Wh("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),S-=1;o.pathname=T.join("/")}d=S>=0?e[S]:"/"}let g=cw(o,d),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Er=r=>r.join("/").replace(/\/\/+/g,"/"),dw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),pw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ty=["POST","PUT","PATCH","DELETE"];new Set(Ty);var yw=["GET",...Ty];new Set(yw);var co=B.createContext(null);co.displayName="DataRouter";var Hu=B.createContext(null);Hu.displayName="DataRouterState";var Sy=B.createContext({isTransitioning:!1});Sy.displayName="ViewTransition";var vw=B.createContext(new Map);vw.displayName="Fetchers";var _w=B.createContext(null);_w.displayName="Await";var tr=B.createContext(null);tr.displayName="Navigation";var Va=B.createContext(null);Va.displayName="Location";var Rr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var jf=B.createContext(null);jf.displayName="RouteError";function Ew(r,{relative:e}={}){Je(Oa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(tr),{hash:o,pathname:u,search:h}=La(r,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:Er([t,u])),s.createHref({pathname:d,search:h,hash:o})}function Oa(){return B.useContext(Va)!=null}function mi(){return Je(Oa(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Va).location}var Iy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cy(r){B.useContext(tr).static||B.useLayoutEffect(r)}function ww(){let{isDataRoute:r}=B.useContext(Rr);return r?Ow():Tw()}function Tw(){Je(Oa(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(co),{basename:e,navigator:t}=B.useContext(tr),{matches:s}=B.useContext(Rr),{pathname:o}=mi(),u=JSON.stringify(Ey(s)),h=B.useRef(!1);return Cy(()=>{h.current=!0}),B.useCallback((g,y={})=>{if(Jn(h.current,Iy),!h.current)return;if(typeof g=="number"){t.go(g);return}let E=wy(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Er([e,E.pathname])),(y.replace?t.replace:t.push)(E,y.state,y)},[e,t,u,o,r])}B.createContext(null);function La(r,{relative:e}={}){let{matches:t}=B.useContext(Rr),{pathname:s}=mi(),o=JSON.stringify(Ey(t));return B.useMemo(()=>wy(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Sw(r,e){return Ry(r,e)}function Ry(r,e,t,s){var ee;Je(Oa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(tr),{matches:h}=B.useContext(Rr),d=h[h.length-1],g=d?d.params:{},y=d?d.pathname:"/",E=d?d.pathnameBase:"/",S=d&&d.route;{let q=S&&S.path||"";Ay(y,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=mi(),D;if(e){let q=typeof e=="string"?uo(e):e;Je(E==="/"||((ee=q.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${q.pathname}" was given in the \`location\` prop.`),D=q}else D=T;let O=D.pathname||"/",H=O;if(E!=="/"){let q=E.replace(/^\//,"").split("/");H="/"+O.replace(/^\//,"").split("/").slice(q.length).join("/")}let L=!u&&t&&t.matches&&t.matches.length>0?t.matches:yy(r,{pathname:H});Jn(S||L!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Jn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=Pw(L&&L.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:Er([E,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?E:Er([E,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),h,t,s);return e&&W?B.createElement(Va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},W):W}function Iw(){let r=Vw(),e=gw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,h)}var Cw=B.createElement(Iw,null),Rw=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Rr.Provider,{value:this.props.routeContext},B.createElement(jf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Aw({routeContext:r,match:e,children:t}){let s=B.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Rr.Provider,{value:r},t)}function Pw(r,e=[],t=null,s=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,d=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:E,errors:S}=t,T=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||T){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,T=!1,D=null,O=null;t&&(S=u&&y.route.id?u[y.route.id]:void 0,D=y.route.errorElement||Cw,h&&(d<0&&E===0?(Ay("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):d===E&&(T=!0,O=y.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),L=()=>{let W;return S?W=D:T?W=O:y.route.Component?W=B.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=g,B.createElement(Aw,{match:y,routeContext:{outlet:g,matches:H,isDataRoute:t!=null},children:W})};return t&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?B.createElement(Rw,{location:t.location,revalidation:t.revalidation,component:D,error:S,children:L(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):L()},null)}function Uf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kw(r){let e=B.useContext(co);return Je(e,Uf(r)),e}function xw(r){let e=B.useContext(Hu);return Je(e,Uf(r)),e}function Dw(r){let e=B.useContext(Rr);return Je(e,Uf(r)),e}function zf(r){let e=Dw(r),t=e.matches[e.matches.length-1];return Je(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Nw(){return zf("useRouteId")}function Vw(){var s;let r=B.useContext(jf),e=xw("useRouteError"),t=zf("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function Ow(){let{router:r}=kw("useNavigate"),e=zf("useNavigate"),t=B.useRef(!1);return Cy(()=>{t.current=!0}),B.useCallback(async(o,u={})=>{Jn(t.current,Iy),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Qm={};function Ay(r,e,t){!e&&!Qm[r]&&(Qm[r]=!0,Jn(!1,t))}B.memo(Lw);function Lw({routes:r,future:e,state:t}){return Ry(r,void 0,t,e)}function qi(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mw({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){Je(!Oa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=uo(t));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:T="default"}=t,D=B.useMemo(()=>{let O=oi(g,h);return O==null?null:{location:{pathname:O,search:y,hash:E,state:S,key:T},navigationType:s}},[h,g,y,E,S,T,s]);return Jn(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:B.createElement(tr.Provider,{value:d},B.createElement(Va.Provider,{children:e,value:D}))}function Fw({children:r,location:e}){return Sw(hf(r),e)}function hf(r,e=[]){let t=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){t.push.apply(t,hf(s.props.children,u));return}Je(s.type===qi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hf(s.props.children,u)),t.push(h)}),t}var hu="get",fu="application/x-www-form-urlencoded";function Wu(r){return r!=null&&typeof r.tagName=="string"}function bw(r){return Wu(r)&&r.tagName.toLowerCase()==="button"}function jw(r){return Wu(r)&&r.tagName.toLowerCase()==="form"}function Uw(r){return Wu(r)&&r.tagName.toLowerCase()==="input"}function zw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Bw(r,e){return r.button===0&&(!e||e==="_self")&&!zw(r)}var ru=null;function $w(){if(ru===null)try{new FormData(document.createElement("form"),0),ru=!1}catch{ru=!0}return ru}var Hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qh(r){return r!=null&&!Hw.has(r)?(Jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):r}function Ww(r,e){let t,s,o,u,h;if(jw(r)){let d=r.getAttribute("action");s=d?oi(d,e):null,t=r.getAttribute("method")||hu,o=qh(r.getAttribute("enctype"))||fu,u=new FormData(r)}else if(bw(r)||Uw(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||d.getAttribute("action");if(s=g?oi(g,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||hu,o=qh(r.getAttribute("formenctype"))||qh(d.getAttribute("enctype"))||fu,u=new FormData(d,r),!$w()){let{name:y,type:E,value:S}=r;if(E==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,S)}}else{if(Wu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hu,s=null,o=fu,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Bf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function qw(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Qw(r,e,t){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await qw(u,t);return h.links?h.links():[]}return[]}));return Jw(s.flat(1).filter(Kw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gm(r,e,t,s,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,d=(g,y)=>{var E;return t[y].pathname!==g.pathname||((E=t[y].route.path)==null?void 0:E.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||d(g,y)):u==="data"?e.filter((g,y)=>{var S;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(h(g,y)||d(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Gw(r,e,{includeHydrateFallback:t}={}){return Xw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Xw(r){return[...new Set(r)]}function Yw(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function Jw(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Yw(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function Zw(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function e0(){let r=B.useContext(co);return Bf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function t0(){let r=B.useContext(Hu);return Bf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $f=B.createContext(void 0);$f.displayName="FrameworkContext";function Py(){let r=B.useContext($f);return Bf(r,"You must render this element inside a <HydratedRouter> element"),r}function n0(r,e){let t=B.useContext($f),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:d,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,T=B.useRef(null);B.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let H=W=>{W.forEach(ee=>{h(ee.isIntersecting)})},L=new IntersectionObserver(H,{threshold:.5});return T.current&&L.observe(T.current),()=>{L.disconnect()}}},[r]),B.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let D=()=>{o(!0)},O=()=>{o(!1),h(!1)};return t?r!=="intent"?[u,T,{}]:[u,T,{onFocus:da(d,D),onBlur:da(g,O),onMouseEnter:da(y,D),onMouseLeave:da(E,O),onTouchStart:da(S,D)}]:[!1,T,{}]}function da(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function r0({page:r,...e}){let{router:t}=e0(),s=B.useMemo(()=>yy(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?B.createElement(s0,{page:r,matches:s,...e}):null}function i0(r){let{manifest:e,routeModules:t}=Py(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return Qw(r,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,t]),s}function s0({page:r,matches:e,...t}){let s=mi(),{manifest:o,routeModules:u}=Py(),{loaderData:h,matches:d}=t0(),g=B.useMemo(()=>Gm(r,e,d,o,s,"data"),[r,e,d,o,s]),y=B.useMemo(()=>Gm(r,e,d,o,s,"assets"),[r,e,d,o,s]),E=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,O=!1;if(e.forEach(L=>{var ee;let W=o.routes[L.route.id];!W||!W.hasLoader||(!g.some(q=>q.route.id===L.route.id)&&L.route.id in h&&((ee=u[L.route.id])!=null&&ee.shouldRevalidate)||W.hasClientLoader?O=!0:D.add(L.route.id))}),D.size===0)return[];let H=Zw(r);return O&&D.size>0&&H.searchParams.set("_routes",e.filter(L=>D.has(L.route.id)).map(L=>L.route.id).join(",")),[H.pathname+H.search]},[h,s,o,g,e,r,u]),S=B.useMemo(()=>Gw(y,o),[y,o]),T=i0(y);return B.createElement(B.Fragment,null,E.map(D=>B.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...t})),S.map(D=>B.createElement("link",{key:D,rel:"modulepreload",href:D,...t})),T.map(({key:D,link:O})=>B.createElement("link",{key:D,...O})))}function o0(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ky=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ky&&(window.__reactRouterVersion="7.2.0")}catch{}function a0({basename:r,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=QE({window:t,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),d=B.useCallback(g=>{B.startTransition(()=>h(g))},[h]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(Mw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var xy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dy=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:g,to:y,preventScrollReset:E,viewTransition:S,...T},D){let{basename:O}=B.useContext(tr),H=typeof y=="string"&&xy.test(y),L,W=!1;if(typeof y=="string"&&H&&(L=y,ky))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=oi(x.pathname,O);x.origin===R.origin&&V!=null?y=V+x.search+x.hash:W=!0}catch{Jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=Ew(y,{relative:o}),[q,ne,he]=n0(s,T),de=c0(y,{replace:h,state:d,target:g,preventScrollReset:E,relative:o,viewTransition:S});function k(R){e&&e(R),R.defaultPrevented||de(R)}let I=B.createElement("a",{...T,...he,href:L||ee,onClick:W||u?e:k,ref:o0(D,ne),target:g,"data-discover":!H&&t==="render"?"true":void 0});return q&&!H?B.createElement(B.Fragment,null,I,B.createElement(r0,{page:ee})):I});Dy.displayName="Link";var Jr=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:g,...y},E){let S=La(h,{relative:y.relative}),T=mi(),D=B.useContext(Hu),{navigator:O,basename:H}=B.useContext(tr),L=D!=null&&m0(S)&&d===!0,W=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,ee=T.pathname,q=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),q=q?q.toLowerCase():null,W=W.toLowerCase()),q&&H&&(q=oi(q,H)||q);const ne=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let he=ee===W||!o&&ee.startsWith(W)&&ee.charAt(ne)==="/",de=q!=null&&(q===W||!o&&q.startsWith(W)&&q.charAt(W.length)==="/"),k={isActive:he,isPending:de,isTransitioning:L},I=he?e:void 0,R;typeof s=="function"?R=s(k):R=[s,he?"active":null,de?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return B.createElement(Dy,{...y,"aria-current":I,className:R,ref:E,style:x,to:h,viewTransition:d},typeof g=="function"?g(k):g)});Jr.displayName="NavLink";var l0=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=hu,action:d,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...T},D)=>{let O=d0(),H=p0(d,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&xy.test(d),ee=q=>{if(g&&g(q),q.defaultPrevented)return;q.preventDefault();let ne=q.nativeEvent.submitter,he=(ne==null?void 0:ne.getAttribute("formmethod"))||h;O(ne||q.currentTarget,{fetcherKey:e,method:he,navigate:t,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return B.createElement("form",{ref:D,method:L,action:H,onSubmit:s?g:ee,...T,"data-discover":!W&&r==="render"?"true":void 0})});l0.displayName="Form";function u0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ny(r){let e=B.useContext(co);return Je(e,u0(r)),e}function c0(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=ww(),g=mi(),y=La(r,{relative:u});return B.useCallback(E=>{if(Bw(E,e)){E.preventDefault();let S=t!==void 0?t:Ta(g)===Ta(y);d(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,d,y,t,s,e,r,o,u,h])}var h0=0,f0=()=>`__${String(++h0)}__`;function d0(){let{router:r}=Ny("useSubmit"),{basename:e}=B.useContext(tr),t=Nw();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:g,body:y}=Ww(s,e);if(o.navigate===!1){let E=o.fetcherKey||f0();await r.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function p0(r,{relative:e}={}){let{basename:t}=B.useContext(tr),s=B.useContext(Rr);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...La(r||".",{relative:e})},h=mi();if(r==null){u.search=h.search;let d=new URLSearchParams(u.search),g=d.getAll("index");if(g.some(E=>E==="")){d.delete("index"),g.filter(S=>S).forEach(S=>d.append("index",S));let E=d.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Er([t,u.pathname])),Ta(u)}function m0(r,e={}){let t=B.useContext(Sy);Je(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ny("useViewTransitionState"),o=La(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=oi(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=oi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return _u(o.pathname,h)!=null||_u(o.pathname,u)!=null}new TextEncoder;const g0=()=>{const[r,e]=B.useState(0);return B.useEffect(()=>{const t=localStorage.getItem("books");t&&e(JSON.parse(t).length)},[]),K.jsxs("div",{className:"home-container",children:[K.jsx("h1",{children:" "}),K.jsxs("p",{className:"book-count",children:["  : ",r]})]})},y0=({author:r,time:e,text:t})=>K.jsxs("div",{className:"comment",children:[K.jsx("div",{className:"author",children:r}),K.jsx("div",{className:"time",children:e}),K.jsx("div",{className:"text",children:t})]}),v0=()=>{const[r,e]=B.useState([{author:"",time:"2025-02-26 14:30",text:"  1!"},{author:"",time:"2025-02-26 14:35",text:"  2!"},{author:"",time:"2025-02-26 14:40",text:"  3!"},{author:"",time:"2025-02-26 14:45",text:"  4!"},{author:"",time:"2025-02-26 14:50",text:"  5!"}]),[t,s]=B.useState({author:"",text:""}),o=d=>{const{name:g,value:y}=d.target;s(E=>({...E,[g]:y}))},u=d=>{if(d.preventDefault(),!t.author||!t.text)return;const g={...t,time:new Date().toISOString().slice(0,16).replace("T"," ")};e(y=>[g,...y]),s({author:"",text:""})},h=d=>{e(g=>g.filter((y,E)=>E!==d))};return K.jsxs("div",{className:"comments",children:[K.jsx("h2",{children:""}),K.jsxs("form",{onSubmit:u,children:[K.jsx("div",{children:K.jsxs("label",{children:[":",K.jsx("input",{type:"text",name:"author",value:t.author,onChange:o,placeholder:" '"})]})}),K.jsx("div",{children:K.jsxs("label",{children:[":",K.jsx("textarea",{name:"text",value:t.text,onChange:o,placeholder:" "})]})}),K.jsx("button",{type:"submit",children:" "})]}),r.map((d,g)=>K.jsxs("div",{children:[K.jsx(y0,{author:d.author,time:d.time,text:d.text}),K.jsx("button",{onClick:()=>h(g),children:""})]},g))]})},_0=()=>K.jsxs("div",{className:"page-container",children:[K.jsx("h1",{className:"page-title",children:"Welcome to the Comments Page"}),K.jsx("p",{className:"page-description"}),K.jsx(v0,{})]}),E0=()=>K.jsx("div",{children:K.jsx("h1",{children:"Profile Page"})}),Kh=({name:r,age:e,hobby:t})=>K.jsxs("div",{className:"user-profile",children:[K.jsx("h2",{className:"user-profile__name",children:r}),e&&K.jsxs("p",{className:"user-profile__age",children:["Age: ",e]}),t&&K.jsxs("p",{className:"user-profile__hobby",children:["Hobby: ",t]})]}),w0=()=>K.jsxs("div",{className:"users-container",children:[K.jsx("h1",{children:"Users Page"}),K.jsx(Kh,{name:"John Doe"}),K.jsx(Kh,{name:"Jane Smith",age:25}),K.jsx(Kh,{name:"Bob Wilson",age:30,hobby:"Photography"})]}),T0=({books:r})=>{const[e,t]=B.useState("title"),[s,o]=B.useState("asc"),[u,h]=B.useState(""),[d,g]=B.useState("all"),y=B.useMemo(()=>["all",...new Set(r.map(T=>T.genre||"uncategorized"))],[r]),E=B.useMemo(()=>r.filter(T=>{const D=T.title.toLowerCase().includes(u.toLowerCase())||T.author.toLowerCase().includes(u.toLowerCase()),O=d==="all"||T.genre===d;return D&&O}).sort((T,D)=>{const O=typeof T[e]=="string"?T[e].localeCompare(D[e]):T[e]-D[e];return s==="asc"?O:-O}),[r,e,s,u,d]),S=T=>{T===e?o(s==="asc"?"desc":"asc"):(t(T),o("asc"))};return K.jsxs("div",{className:"book-list",children:[K.jsxs("div",{className:"controls",children:[K.jsx("div",{className:"search-bar",children:K.jsx("input",{type:"text",placeholder:"Search books...",value:u,onChange:T=>h(T.target.value)})}),K.jsx("div",{className:"genre-filter",children:K.jsx("select",{value:d,onChange:T=>g(T.target.value),children:y.map(T=>K.jsx("option",{value:T,children:T.charAt(0).toUpperCase()+T.slice(1)},T))})})]}),K.jsx("div",{className:"sort-controls",children:["title","author","year","rating"].map(T=>K.jsxs("button",{onClick:()=>S(T),className:e===T?"active":"",children:[T.charAt(0).toUpperCase()+T.slice(1),e===T&&K.jsx("span",{className:"sort-indicator",children:s==="asc"?" ":" "})]},T))}),K.jsx("div",{className:"books-grid",children:E.map(T=>K.jsxs("div",{className:`book-card ${T.isAvailable?"":"unavailable"}`,children:[K.jsx("h3",{children:T.title}),K.jsxs("p",{children:["Author: ",T.author]}),K.jsxs("p",{children:["Year: ",T.year]}),T.genre&&K.jsxs("p",{children:["Genre: ",T.genre]}),T.rating&&K.jsxs("p",{className:"rating",children:["Rating: ",T.rating,K.jsxs("span",{className:"stars",children:["".repeat(Math.floor(T.rating)),"".repeat(5-Math.floor(T.rating))]})]}),K.jsx("div",{className:"availability"})]},T.id))})]})},Vy=[{id:1,title:" ",author:"  ",year:1925,genre:"",rating:4.5,isAvailable:!0},{id:2,title:"1984",author:" ",year:1949,genre:"",rating:4.8,isAvailable:!1},{id:3,title:" ",author:" ",year:1960,genre:"",rating:4.7,isAvailable:!0},{id:4,title:",    ",author:"   ",year:1937,genre:"",rating:4.9,isAvailable:!0},{id:5,title:"  ",author:" ",year:1813,genre:"",rating:4.6,isAvailable:!1},{id:6,title:" ,   ",author:" ",year:1851,genre:"",rating:4.3,isAvailable:!0},{id:7,title:"  ",author:"  ",year:1951,genre:"",rating:4.2,isAvailable:!0},{id:8,title:"  ",author:" ",year:1932,genre:" ",rating:4.4,isAvailable:!1},{id:9,title:"   ",author:" ",year:1595,genre:"",rating:4.7,isAvailable:!0}];localStorage.getItem("books")||localStorage.setItem("books",JSON.stringify(Vy));const S0=()=>K.jsxs("div",{className:"books-page",children:[K.jsx("h1",{children:"Books Collection"}),K.jsx(T0,{books:Vy})]}),I0=()=>{};var Xm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},C0=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ly={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,S=(u&3)<<4|d>>4;let T=(d&15)<<2|y>>6,D=y&63;g||(D=64,h||(T=64)),s.push(t[E],t[S],t[T],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Oy(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):C0(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||y==null||S==null)throw new R0;const T=u<<2|d>>4;if(s.push(T),y!==64){const D=d<<4&240|y>>2;if(s.push(D),S!==64){const O=y<<6&192|S;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class R0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A0=function(r){const e=Oy(r);return Ly.encodeByteArray(e,!0)},Eu=function(r){return A0(r).replace(/\./g,"")},P0=function(r){try{return Ly.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=()=>k0().__FIREBASE_DEFAULTS__,D0=()=>{if(typeof process>"u"||typeof Xm>"u")return;const r=Xm.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},N0=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&P0(r[1]);return e&&JSON.parse(e)},Hf=()=>{try{return I0()||x0()||D0()||N0()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},V0=r=>{var e,t;return(t=(e=Hf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},O0=r=>{const e=V0(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},My=()=>{var r;return(r=Hf())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Eu(JSON.stringify(t)),Eu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b0(){var r;const e=(r=Hf())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function j0(){return!b0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U0(){try{return typeof indexedDB=="object"}catch{return!1}}function z0(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="FirebaseError";class ho extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=B0,Object.setPrototypeOf(this,ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fy.prototype.create)}}class Fy{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?$0(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ho(o,d,s)}}function $0(r,e){return r.replace(H0,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const H0=/\{\$([^}]+)}/g;function wu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Ym(u)&&Ym(h)){if(!wu(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Ym(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r){return r&&r._delegate?r._delegate:r}class Sa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new L0;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K0(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q0(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function q0(r){return r===Ki?void 0:r}function K0(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new W0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const G0={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},X0=Ve.INFO,Y0={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},J0=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Y0[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=X0,this._logHandler=J0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Z0=(r,e)=>e.some(t=>r instanceof t);let Jm,Zm;function eT(){return Jm||(Jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tT(){return Zm||(Zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jy=new WeakMap,ff=new WeakMap,Uy=new WeakMap,Qh=new WeakMap,Wf=new WeakMap;function nT(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ti(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&jy.set(t,r)}).catch(()=>{}),Wf.set(e,r),e}function rT(r){if(ff.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ff.set(r,e)}let df={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return ff.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Uy.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ti(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function iT(r){df=r(df)}function sT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Gh(this),e,...t);return Uy.set(s,e.sort?e.sort():[e]),ti(s)}:tT().includes(r)?function(...e){return r.apply(Gh(this),e),ti(jy.get(this))}:function(...e){return ti(r.apply(Gh(this),e))}}function oT(r){return typeof r=="function"?sT(r):(r instanceof IDBTransaction&&rT(r),Z0(r,eT())?new Proxy(r,df):r)}function ti(r){if(r instanceof IDBRequest)return nT(r);if(Qh.has(r))return Qh.get(r);const e=oT(r);return e!==r&&(Qh.set(r,e),Wf.set(e,r)),e}const Gh=r=>Wf.get(r);function aT(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=ti(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ti(h.result),g.oldVersion,g.newVersion,ti(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const lT=["get","getKey","getAll","getAllKeys","count"],uT=["put","add","delete","clear"],Xh=new Map;function eg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=uT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||lT.includes(t)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&g.done]))[0]};return Xh.set(e,u),u}iT(r=>({...r,get:(e,t,s)=>eg(e,t)||r.get(e,t,s),has:(e,t)=>!!eg(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function hT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pf="@firebase/app",tg="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new by("@firebase/app"),fT="@firebase/app-compat",dT="@firebase/analytics-compat",pT="@firebase/analytics",mT="@firebase/app-check-compat",gT="@firebase/app-check",yT="@firebase/auth",vT="@firebase/auth-compat",_T="@firebase/database",ET="@firebase/data-connect",wT="@firebase/database-compat",TT="@firebase/functions",ST="@firebase/functions-compat",IT="@firebase/installations",CT="@firebase/installations-compat",RT="@firebase/messaging",AT="@firebase/messaging-compat",PT="@firebase/performance",kT="@firebase/performance-compat",xT="@firebase/remote-config",DT="@firebase/remote-config-compat",NT="@firebase/storage",VT="@firebase/storage-compat",OT="@firebase/firestore",LT="@firebase/vertexai",MT="@firebase/firestore-compat",FT="firebase",bT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="[DEFAULT]",jT={[pf]:"fire-core",[fT]:"fire-core-compat",[pT]:"fire-analytics",[dT]:"fire-analytics-compat",[gT]:"fire-app-check",[mT]:"fire-app-check-compat",[yT]:"fire-auth",[vT]:"fire-auth-compat",[_T]:"fire-rtdb",[ET]:"fire-data-connect",[wT]:"fire-rtdb-compat",[TT]:"fire-fn",[ST]:"fire-fn-compat",[IT]:"fire-iid",[CT]:"fire-iid-compat",[RT]:"fire-fcm",[AT]:"fire-fcm-compat",[PT]:"fire-perf",[kT]:"fire-perf-compat",[xT]:"fire-rc",[DT]:"fire-rc-compat",[NT]:"fire-gcs",[VT]:"fire-gcs-compat",[OT]:"fire-fst",[MT]:"fire-fst-compat",[LT]:"fire-vertex","fire-js":"fire-js",[FT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new Map,UT=new Map,gf=new Map;function ng(r,e){try{r.container.addComponent(e)}catch(t){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Su(r){const e=r.name;if(gf.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,r);for(const t of Tu.values())ng(t,r);for(const t of UT.values())ng(t,r);return!0}function zT(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function BT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new Fy("app","Firebase",$T);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=bT;function zy(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:mf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ni.create("bad-app-name",{appName:String(o)});if(t||(t=My()),!t)throw ni.create("no-options");const u=Tu.get(o);if(u){if(wu(t,u.options)&&wu(s,u.config))return u;throw ni.create("duplicate-app",{appName:o})}const h=new Q0(o);for(const g of gf.values())h.addComponent(g);const d=new HT(t,s,h);return Tu.set(o,d),d}function qT(r=mf){const e=Tu.get(r);if(!e&&r===mf&&My())return zy();if(!e)throw ni.create("no-app",{appName:r});return e}function Zs(r,e,t){var s;let o=(s=jT[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(d.join(" "));return}Su(new Sa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebase-heartbeat-database",QT=1,Ia="firebase-heartbeat-store";let Yh=null;function By(){return Yh||(Yh=aT(KT,QT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ia)}catch(t){console.warn(t)}}}}).catch(r=>{throw ni.create("idb-open",{originalErrorMessage:r.message})})),Yh}async function GT(r){try{const t=(await By()).transaction(Ia),s=await t.objectStore(Ia).get($y(r));return await t.done,s}catch(e){if(e instanceof ho)Tr.warn(e.message);else{const t=ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(t.message)}}}async function rg(r,e){try{const s=(await By()).transaction(Ia,"readwrite");await s.objectStore(Ia).put(e,$y(r)),await s.done}catch(t){if(t instanceof ho)Tr.warn(t.message);else{const s=ni.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Tr.warn(s.message)}}}function $y(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=1024,YT=30;class JT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ig();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>YT){const h=tS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Tr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ig(),{heartbeatsToSend:s,unsentEntries:o}=ZT(this._heartbeatsCache.heartbeats),u=Eu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Tr.warn(t),""}}}function ig(){return new Date().toISOString().substring(0,10)}function ZT(r,e=XT){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),sg(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),sg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class eS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U0()?z0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GT(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return rg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return rg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function sg(r){return Eu(JSON.stringify({version:2,heartbeats:r})).length}function tS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(r){Su(new Sa("platform-logger",e=>new cT(e),"PRIVATE")),Su(new Sa("heartbeat",e=>new JT(e),"PRIVATE")),Zs(pf,tg,r),Zs(pf,tg,"esm2017"),Zs("fire-js","")}nS("");var rS="firebase",iS="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(rS,iS,"app");var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ri,Hy;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function R(){}R.prototype=I.prototype,k.D=I.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(x,V,F){for(var A=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)A[tt-2]=arguments[tt];return I.prototype[V].apply(x,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,R){R||(R=0);var x=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)x[V]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=k.g[0],R=k.g[1],V=k.g[2];var F=k.g[3],A=I+(F^R&(V^F))+x[0]+3614090360&4294967295;I=R+(A<<7&4294967295|A>>>25),A=F+(V^I&(R^V))+x[1]+3905402710&4294967295,F=I+(A<<12&4294967295|A>>>20),A=V+(R^F&(I^R))+x[2]+606105819&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(I^V&(F^I))+x[3]+3250441966&4294967295,R=V+(A<<22&4294967295|A>>>10),A=I+(F^R&(V^F))+x[4]+4118548399&4294967295,I=R+(A<<7&4294967295|A>>>25),A=F+(V^I&(R^V))+x[5]+1200080426&4294967295,F=I+(A<<12&4294967295|A>>>20),A=V+(R^F&(I^R))+x[6]+2821735955&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(I^V&(F^I))+x[7]+4249261313&4294967295,R=V+(A<<22&4294967295|A>>>10),A=I+(F^R&(V^F))+x[8]+1770035416&4294967295,I=R+(A<<7&4294967295|A>>>25),A=F+(V^I&(R^V))+x[9]+2336552879&4294967295,F=I+(A<<12&4294967295|A>>>20),A=V+(R^F&(I^R))+x[10]+4294925233&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(I^V&(F^I))+x[11]+2304563134&4294967295,R=V+(A<<22&4294967295|A>>>10),A=I+(F^R&(V^F))+x[12]+1804603682&4294967295,I=R+(A<<7&4294967295|A>>>25),A=F+(V^I&(R^V))+x[13]+4254626195&4294967295,F=I+(A<<12&4294967295|A>>>20),A=V+(R^F&(I^R))+x[14]+2792965006&4294967295,V=F+(A<<17&4294967295|A>>>15),A=R+(I^V&(F^I))+x[15]+1236535329&4294967295,R=V+(A<<22&4294967295|A>>>10),A=I+(V^F&(R^V))+x[1]+4129170786&4294967295,I=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(I^R))+x[6]+3225465664&4294967295,F=I+(A<<9&4294967295|A>>>23),A=V+(I^R&(F^I))+x[11]+643717713&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^I&(V^F))+x[0]+3921069994&4294967295,R=V+(A<<20&4294967295|A>>>12),A=I+(V^F&(R^V))+x[5]+3593408605&4294967295,I=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(I^R))+x[10]+38016083&4294967295,F=I+(A<<9&4294967295|A>>>23),A=V+(I^R&(F^I))+x[15]+3634488961&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^I&(V^F))+x[4]+3889429448&4294967295,R=V+(A<<20&4294967295|A>>>12),A=I+(V^F&(R^V))+x[9]+568446438&4294967295,I=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(I^R))+x[14]+3275163606&4294967295,F=I+(A<<9&4294967295|A>>>23),A=V+(I^R&(F^I))+x[3]+4107603335&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^I&(V^F))+x[8]+1163531501&4294967295,R=V+(A<<20&4294967295|A>>>12),A=I+(V^F&(R^V))+x[13]+2850285829&4294967295,I=R+(A<<5&4294967295|A>>>27),A=F+(R^V&(I^R))+x[2]+4243563512&4294967295,F=I+(A<<9&4294967295|A>>>23),A=V+(I^R&(F^I))+x[7]+1735328473&4294967295,V=F+(A<<14&4294967295|A>>>18),A=R+(F^I&(V^F))+x[12]+2368359562&4294967295,R=V+(A<<20&4294967295|A>>>12),A=I+(R^V^F)+x[5]+4294588738&4294967295,I=R+(A<<4&4294967295|A>>>28),A=F+(I^R^V)+x[8]+2272392833&4294967295,F=I+(A<<11&4294967295|A>>>21),A=V+(F^I^R)+x[11]+1839030562&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^I)+x[14]+4259657740&4294967295,R=V+(A<<23&4294967295|A>>>9),A=I+(R^V^F)+x[1]+2763975236&4294967295,I=R+(A<<4&4294967295|A>>>28),A=F+(I^R^V)+x[4]+1272893353&4294967295,F=I+(A<<11&4294967295|A>>>21),A=V+(F^I^R)+x[7]+4139469664&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^I)+x[10]+3200236656&4294967295,R=V+(A<<23&4294967295|A>>>9),A=I+(R^V^F)+x[13]+681279174&4294967295,I=R+(A<<4&4294967295|A>>>28),A=F+(I^R^V)+x[0]+3936430074&4294967295,F=I+(A<<11&4294967295|A>>>21),A=V+(F^I^R)+x[3]+3572445317&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^I)+x[6]+76029189&4294967295,R=V+(A<<23&4294967295|A>>>9),A=I+(R^V^F)+x[9]+3654602809&4294967295,I=R+(A<<4&4294967295|A>>>28),A=F+(I^R^V)+x[12]+3873151461&4294967295,F=I+(A<<11&4294967295|A>>>21),A=V+(F^I^R)+x[15]+530742520&4294967295,V=F+(A<<16&4294967295|A>>>16),A=R+(V^F^I)+x[2]+3299628645&4294967295,R=V+(A<<23&4294967295|A>>>9),A=I+(V^(R|~F))+x[0]+4096336452&4294967295,I=R+(A<<6&4294967295|A>>>26),A=F+(R^(I|~V))+x[7]+1126891415&4294967295,F=I+(A<<10&4294967295|A>>>22),A=V+(I^(F|~R))+x[14]+2878612391&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~I))+x[5]+4237533241&4294967295,R=V+(A<<21&4294967295|A>>>11),A=I+(V^(R|~F))+x[12]+1700485571&4294967295,I=R+(A<<6&4294967295|A>>>26),A=F+(R^(I|~V))+x[3]+2399980690&4294967295,F=I+(A<<10&4294967295|A>>>22),A=V+(I^(F|~R))+x[10]+4293915773&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~I))+x[1]+2240044497&4294967295,R=V+(A<<21&4294967295|A>>>11),A=I+(V^(R|~F))+x[8]+1873313359&4294967295,I=R+(A<<6&4294967295|A>>>26),A=F+(R^(I|~V))+x[15]+4264355552&4294967295,F=I+(A<<10&4294967295|A>>>22),A=V+(I^(F|~R))+x[6]+2734768916&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~I))+x[13]+1309151649&4294967295,R=V+(A<<21&4294967295|A>>>11),A=I+(V^(R|~F))+x[4]+4149444226&4294967295,I=R+(A<<6&4294967295|A>>>26),A=F+(R^(I|~V))+x[11]+3174756917&4294967295,F=I+(A<<10&4294967295|A>>>22),A=V+(I^(F|~R))+x[2]+718787259&4294967295,V=F+(A<<15&4294967295|A>>>17),A=R+(F^(V|~I))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(V+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+F&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var R=I-this.blockSize,x=this.B,V=this.h,F=0;F<I;){if(V==0)for(;F<=R;)o(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<I;)if(x[V++]=k.charCodeAt(F++),V==this.blockSize){o(this,x),V=0;break}}else for(;F<I;)if(x[V++]=k[F++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var R=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=R&255,R/=256;for(this.u(k),k=Array(16),I=R=0;4>I;++I)for(var x=0;32>x;x+=8)k[R++]=this.g[I]>>>x&255;return k};function u(k,I){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=I(k)}function h(k,I){this.h=I;for(var R=[],x=!0,V=k.length-1;0<=V;V--){var F=k[V]|0;x&&F==I||(R[V]=F,x=!1)}this.g=R}var d={};function g(k){return-128<=k&&128>k?u(k,function(I){return new h([I|0],0>I?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return L(y(-k));for(var I=[],R=1,x=0;k>=R;x++)I[x]=k/R|0,R*=4294967296;return new h(I,0)}function E(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return L(E(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(I,8)),x=S,V=0;V<k.length;V+=8){var F=Math.min(8,k.length-V),A=parseInt(k.substring(V,V+F),I);8>F?(F=y(Math.pow(I,F)),x=x.j(F).add(y(A))):(x=x.j(R),x=x.add(y(A)))}return x}var S=g(0),T=g(1),D=g(16777216);r=h.prototype,r.m=function(){if(H(this))return-L(this).m();for(var k=0,I=1,R=0;R<this.g.length;R++){var x=this.i(R);k+=(0<=x?x:4294967296+x)*I,I*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(H(this))return"-"+L(this).toString(k);for(var I=y(Math.pow(k,6)),R=this,x="";;){var V=ne(R,I).g;R=W(R,V.j(I));var F=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,O(R))return F+x;for(;6>F.length;)F="0"+F;x=F+x}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function H(k){return k.h==-1}r.l=function(k){return k=W(this,k),H(k)?-1:O(k)?0:1};function L(k){for(var I=k.g.length,R=[],x=0;x<I;x++)R[x]=~k.g[x];return new h(R,~k.h).add(T)}r.abs=function(){return H(this)?L(this):this},r.add=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0,V=0;V<=I;V++){var F=x+(this.i(V)&65535)+(k.i(V)&65535),A=(F>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);x=A>>>16,F&=65535,A&=65535,R[V]=A<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function W(k,I){return k.add(L(I))}r.j=function(k){if(O(this)||O(k))return S;if(H(this))return H(k)?L(this).j(L(k)):L(L(this).j(k));if(H(k))return L(this.j(L(k)));if(0>this.l(D)&&0>k.l(D))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,R=[],x=0;x<2*I;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<k.g.length;V++){var F=this.i(x)>>>16,A=this.i(x)&65535,tt=k.i(V)>>>16,xt=k.i(V)&65535;R[2*x+2*V]+=A*xt,ee(R,2*x+2*V),R[2*x+2*V+1]+=F*xt,ee(R,2*x+2*V+1),R[2*x+2*V+1]+=A*tt,ee(R,2*x+2*V+1),R[2*x+2*V+2]+=F*tt,ee(R,2*x+2*V+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new h(R,0)};function ee(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function q(k,I){this.g=k,this.h=I}function ne(k,I){if(O(I))throw Error("division by zero");if(O(k))return new q(S,S);if(H(k))return I=ne(L(k),I),new q(L(I.g),L(I.h));if(H(I))return I=ne(k,L(I)),new q(L(I.g),I.h);if(30<k.g.length){if(H(k)||H(I))throw Error("slowDivide_ only works with positive integers.");for(var R=T,x=I;0>=x.l(k);)R=he(R),x=he(x);var V=de(R,1),F=de(x,1);for(x=de(x,2),R=de(R,2);!O(x);){var A=F.add(x);0>=A.l(k)&&(V=V.add(R),F=A),x=de(x,1),R=de(R,1)}return I=W(k,V.j(I)),new q(V,I)}for(V=S;0<=k.l(I);){for(R=Math.max(1,Math.floor(k.m()/I.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),F=y(R),A=F.j(I);H(A)||0<A.l(k);)R-=x,F=y(R),A=F.j(I);O(F)&&(F=T),V=V.add(F),k=W(k,A)}return new q(V,k)}r.A=function(k){return ne(this,k).h},r.and=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)&k.i(x);return new h(R,this.h&k.h)},r.or=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)|k.i(x);return new h(R,this.h|k.h)},r.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),R=[],x=0;x<I;x++)R[x]=this.i(x)^k.i(x);return new h(R,this.h^k.h)};function he(k){for(var I=k.g.length+1,R=[],x=0;x<I;x++)R[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(R,k.h)}function de(k,I){var R=I>>5;I%=32;for(var x=k.g.length-R,V=[],F=0;F<x;F++)V[F]=0<I?k.i(F+R)>>>I|k.i(F+R+1)<<32-I:k.i(F+R);return new h(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hy=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,ri=h}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});var iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wy,pa,qy,du,yf,Ky,Qy,Gy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,v){return l==Array.prototype||l==Object.prototype||(l[p]=v.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof iu=="object"&&iu];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var v=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var b=l[w];if(!(b in v))break e;v=v[b]}l=l[l.length-1],w=v[l],p=p(w),p!=w&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var v=0,w=!1,b={next:function(){if(!w&&v<l.length){var $=v++;return{value:p($,l[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function y(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function E(l,p,v){return l.call.apply(l.bind,arguments)}function S(l,p,v){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,w),l.apply(p,b)}}return function(){return l.apply(p,arguments)}}function T(l,p,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,T.apply(null,arguments)}function D(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function O(l,p){function v(){}v.prototype=p.prototype,l.aa=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(w,b,$){for(var re=Array(arguments.length-2),je=2;je<arguments.length;je++)re[je-2]=arguments[je];return p.prototype[b].apply(w,re)}}function H(l){const p=l.length;if(0<p){const v=Array(p);for(let w=0;w<p;w++)v[w]=l[w];return v}return[]}function L(l,p){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(g(w)){const b=l.length||0,$=w.length||0;l.length=b+$;for(let re=0;re<$;re++)l[b+re]=w[re]}else l.push(w)}}class W{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(l){return/^[\s\xa0]*$/.test(l)}function q(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function ne(l){return ne[" "](l),l}ne[" "]=function(){};var he=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function de(l,p,v){for(const w in l)p.call(v,l[w],w,l)}function k(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function I(l){const p={};for(const v in l)p[v]=l[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,p){let v,w;for(let b=1;b<arguments.length;b++){w=arguments[b];for(v in w)l[v]=w[v];for(let $=0;$<R.length;$++)v=R[$],Object.prototype.hasOwnProperty.call(w,v)&&(l[v]=w[v])}}function V(l){var p=1;l=l.split(":");const v=[];for(;0<p&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function F(l){d.setTimeout(()=>{throw l},0)}function A(){var l=ge;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,v){const w=xt.get();w.set(p,v),this.h?this.h.next=w:this.g=w,this.h=w}}var xt=new W(()=>new Dt,l=>l.reset());class Dt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ie=!1,ge=new tt,oe=()=>{const l=d.Promise.resolve(void 0);Ue=()=>{l.then(M)}};var M=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(v){F(v)}var p=xt;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ie=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return l}();function Ce(l,p){if(pe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(he){e:{try{ne(p.nodeName);var b=!0;break e}catch{}b=!1}b||(p=null)}}else v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}O(Ce,pe);var xe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,p,v,w,b){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!w,this.ha=b,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function nr(l){this.src=l,this.g={},this.h=0}nr.prototype.add=function(l,p,v,w,b){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var re=Ar(l,p,w,b);return-1<re?(p=l[re],v||(p.fa=!1)):(p=new Be(p,this.src,$,!!w,b),p.fa=v,l.push(p)),p};function rs(l,p){var v=p.type;if(v in l.g){var w=l.g[v],b=Array.prototype.indexOf.call(w,p,void 0),$;($=0<=b)&&Array.prototype.splice.call(w,b,1),$&&(gt(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function Ar(l,p,v,w){for(var b=0;b<l.length;++b){var $=l[b];if(!$.da&&$.listener==p&&$.capture==!!v&&$.ha==w)return b}return-1}var vi="closure_lm_"+(1e6*Math.random()|0),is={};function yo(l,p,v,w,b){if(Array.isArray(p)){for(var $=0;$<p.length;$++)yo(l,p[$],v,w,b);return null}return v=Eo(v),l&&l[Me]?l.K(p,v,y(w)?!!w.capture:!1,b):vo(l,p,v,!1,w,b)}function vo(l,p,v,w,b,$){if(!p)throw Error("Invalid event type");var re=y(b)?!!b.capture:!!b,je=os(l);if(je||(l[vi]=je=new nr(l)),v=je.add(p,v,w,re,$),v.proxy)return v;if(w=za(),v.proxy=w,w.src=l,w.listener=v,l.addEventListener)Ie||(b=re),b===void 0&&(b=!1),l.addEventListener(p.toString(),w,b);else if(l.attachEvent)l.attachEvent(ir(p.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function za(){function l(v){return p.call(l.src,l.listener,v)}const p=_o;return l}function ss(l,p,v,w,b){if(Array.isArray(p))for(var $=0;$<p.length;$++)ss(l,p[$],v,w,b);else w=y(w)?!!w.capture:!!w,v=Eo(v),l&&l[Me]?(l=l.i,p=String(p).toString(),p in l.g&&($=l.g[p],v=Ar($,v,w,b),-1<v&&(gt($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete l.g[p],l.h--)))):l&&(l=os(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Ar(p,v,w,b)),(v=-1<l?p[l]:null)&&rr(v))}function rr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Me])rs(p.i,l);else{var v=l.type,w=l.proxy;p.removeEventListener?p.removeEventListener(v,w,l.capture):p.detachEvent?p.detachEvent(ir(v),w):p.addListener&&p.removeListener&&p.removeListener(w),(v=os(p))?(rs(v,l),v.h==0&&(v.src=null,p[vi]=null)):gt(l)}}}function ir(l){return l in is?is[l]:is[l]="on"+l}function _o(l,p){if(l.da)l=!0;else{p=new Ce(p,this);var v=l.listener,w=l.ha||l.src;l.fa&&rr(l),l=v.call(w,p)}return l}function os(l){return l=l[vi],l instanceof nr?l:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eo(l){return typeof l=="function"?l:(l[as]||(l[as]=function(p){return l.handleEvent(p)}),l[as])}function lt(){G.call(this),this.i=new nr(this),this.M=this,this.F=null}O(lt,G),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,p,v,w){ss(this,l,p,v,w)};function ut(l,p){var v,w=l.F;if(w)for(v=[];w;w=w.F)v.push(w);if(l=l.M,w=p.type||p,typeof p=="string")p=new pe(p,l);else if(p instanceof pe)p.target=p.target||l;else{var b=p;p=new pe(w,l),x(p,b)}if(b=!0,v)for(var $=v.length-1;0<=$;$--){var re=p.g=v[$];b=sr(re,w,!0,p)&&b}if(re=p.g=l,b=sr(re,w,!0,p)&&b,b=sr(re,w,!1,p)&&b,v)for($=0;$<v.length;$++)re=p.g=v[$],b=sr(re,w,!1,p)&&b}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var v=l.g[p],w=0;w<v.length;w++)gt(v[w]);delete l.g[p],l.h--}}this.F=null},lt.prototype.K=function(l,p,v,w){return this.i.add(String(l),p,!1,v,w)},lt.prototype.L=function(l,p,v,w){return this.i.add(String(l),p,!0,v,w)};function sr(l,p,v,w){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var b=!0,$=0;$<p.length;++$){var re=p[$];if(re&&!re.da&&re.capture==v){var je=re.listener,ct=re.ha||re.src;re.fa&&rs(l.i,re),b=je.call(ct,w)!==!1&&b}}return b&&!w.defaultPrevented}function wo(l,p,v){if(typeof l=="function")v&&(l=T(l,v));else if(l&&typeof l.handleEvent=="function")l=T(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function Pr(l){l.g=wo(()=>{l.g=null,l.i&&(l.i=!1,Pr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class _i extends G{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Pr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(l){G.call(this),this.h=l,this.g={}}O(Ei,G);var To=[];function So(l){de(l.g,function(p,v){this.g.hasOwnProperty(v)&&rr(p)},l),l.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),So(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=d.JSON.stringify,Co=d.JSON.parse,Ro=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function wi(){}wi.prototype.h=null;function ls(l){return l.h||(l.h=l.i())}function us(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bn(){pe.call(this,"d")}O(bn,pe);function cs(){pe.call(this,"c")}O(cs,pe);var jn={},Ao=null;function Ti(){return Ao=Ao||new lt}jn.La="serverreachability";function Po(l){pe.call(this,jn.La,l)}O(Po,pe);function or(l){const p=Ti();ut(p,new Po(p))}jn.STAT_EVENT="statevent";function ko(l,p){pe.call(this,jn.STAT_EVENT,l),this.stat=p}O(ko,pe);function nt(l){const p=Ti();ut(p,new ko(p,l))}jn.Ma="timingevent";function hs(l,p){pe.call(this,jn.Ma,l),this.size=p}O(hs,pe);function wn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Si(){this.g=!0}Si.prototype.xa=function(){this.g=!1};function Ii(l,p,v,w,b,$){l.info(function(){if(l.g)if($)for(var re="",je=$.split("&"),ct=0;ct<je.length;ct++){var De=je[ct].split("=");if(1<De.length){var yt=De[0];De=De[1];var st=yt.split("_");re=2<=st.length&&st[1]=="type"?re+(yt+"="+De+"&"):re+(yt+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+w+") [attempt "+b+"]: "+p+`
`+v+`
`+re})}function fs(l,p,v,w,b,$,re){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+b+"]: "+p+`
`+v+`
`+$+" "+re})}function Tn(l,p,v,w){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+pc(l,v)+(w?" "+w:"")})}function xo(l,p){l.info(function(){return"TIMEOUT: "+p})}Si.prototype.info=function(){};function pc(l,p){if(!l.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var w=v[l];if(!(2>w.length)){var b=w[1];if(Array.isArray(b)&&!(1>b.length)){var $=b[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<b.length;re++)b[re]=""}}}}return Io(v)}catch{return p}}var ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Ci(){}O(Ci,wi),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},Sn=new Ci;function In(l,p,v,w){this.j=l,this.i=p,this.l=v,this.R=w||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $a}function $a(){this.i=null,this.g="",this.h=!1}var Do={},ps={};function ms(l,p,v){l.L=1,l.v=Vr(en(p)),l.m=v,l.P=!0,No(l,null)}function No(l,p){l.F=Date.now(),$e(l),l.A=en(l.v);var v=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Lr(v.i,"t",w),l.C=0,v=l.j.J,l.h=new $a,l.g=al(l.j,v?p:null,!l.m),0<l.O&&(l.M=new _i(T(l.Y,l,l.g),l.O)),p=l.U,v=l.g,w=l.ca;var b="readystatechange";Array.isArray(b)||(b&&(To[0]=b.toString()),b=To);for(var $=0;$<b.length;$++){var re=yo(v,b[$],w||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),or(),Ii(l.i,l.u,l.A,l.l,l.R,l.m)}In.prototype.ca=function(l){l=l.target;const p=this.M;p&&Ht(l)==3?p.j():this.Y(l)},In.prototype.Y=function(l){try{if(l==this.g)e:{const st=Ht(this.g);var p=this.g.Ba();const dn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||bo(this.g)))){this.J||st!=4||p==7||(p==8||0>=dn?or(3):or(2)),Ri(this);var v=this.g.Z();this.X=v;t:if(Ha(this)){var w=bo(this.g);l="";var b=w.length,$=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),kr(this);var re="";break t}this.h.i=new d.TextDecoder}for(p=0;p<b;p++)this.h.h=!0,l+=this.h.i.decode(w[p],{stream:!($&&p==b-1)});w.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,fs(this.i,this.u,this.A,this.l,this.R,st,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,ct=this.g;if((je=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(je)){var De=je;break t}}De=null}if(v=De)Tn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vo(this,v);else{this.o=!1,this.s=3,nt(12),hn(this),kr(this);break e}}if(this.P){v=!0;let nn;for(;!this.J&&this.C<re.length;)if(nn=mc(this,re),nn==ps){st==4&&(this.s=4,nt(14),v=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==Do){this.s=4,nt(15),Tn(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else Tn(this.i,this.l,nn,null),Vo(this,nn);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||re.length!=0||this.h.h||(this.s=1,nt(16),v=!1),this.o=this.o&&v,!v)Tn(this.i,this.l,re,"[Invalid Chunked Response]"),hn(this),kr(this);else if(0<re.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Uo(yt),yt.M=!0,nt(11))}}else Tn(this.i,this.l,re,null),Vo(this,re);st==4&&hn(this),this.o&&!this.J&&(st==4?Rs(this.j,this):(this.o=!1,$e(this)))}else ws(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),hn(this),kr(this)}}}catch{}finally{}};function Ha(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function mc(l,p){var v=l.C,w=p.indexOf(`
`,v);return w==-1?ps:(v=Number(p.substring(v,w)),isNaN(v)?Do:(w+=1,w+v>p.length?ps:(p=p.slice(w,w+v),l.C=w+v,p)))}In.prototype.cancel=function(){this.J=!0,hn(this)};function $e(l){l.S=Date.now()+l.I,Wa(l,l.I)}function Wa(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=wn(T(l.ba,l),p)}function Ri(l){l.B&&(d.clearTimeout(l.B),l.B=null)}In.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(xo(this.i,this.A),this.L!=2&&(or(),nt(17)),hn(this),this.s=2,kr(this)):Wa(this,this.S-l)};function kr(l){l.j.G==0||l.J||Rs(l.j,l)}function hn(l){Ri(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,So(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Vo(l,p){try{var v=l.j;if(v.G!=0&&(v.g==l||jt(v.h,l))){if(!l.K&&jt(v.h,l)&&v.G==3){try{var w=v.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var b=w;if(b[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Cs(v),kn(v);else break e;Is(v),nt(18)}}else v.za=b[1],0<v.za-v.T&&37500>b[2]&&v.F&&v.v==0&&!v.C&&(v.C=wn(T(v.Za,v),6e3));if(1>=Ka(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else hr(v,11)}else if((l.K||v.g==l)&&Cs(v),!ee(p))for(b=v.Da.g.parse(p),p=0;p<b.length;p++){let De=b[p];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const yt=De[3];yt!=null&&(v.la=yt,v.j.info("VER="+v.la));const st=De[4];st!=null&&(v.Aa=st,v.j.info("SVER="+v.Aa));const dn=De[5];dn!=null&&typeof dn=="number"&&0<dn&&(w=1.5*dn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const nn=l.g;if(nn){const Vi=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vi){var $=w.h;$.g||Vi.indexOf("spdy")==-1&&Vi.indexOf("quic")==-1&&Vi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Oo($,$.h),$.h=null))}if(w.D){const Ps=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(w.ya=Ps,ze(w.I,w.D,Ps))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var re=l;if(w.qa=ol(w,w.J?w.ia:null,w.W),re.K){Qa(w.h,re);var je=re,ct=w.L;ct&&(je.I=ct),je.B&&(Ri(je),$e(je)),w.g=re}else Ni(w);0<v.i.length&&$n(v)}else De[0]!="stop"&&De[0]!="close"||hr(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?hr(v,7):St(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}or(4)}catch{}}var qa=class{constructor(l,p){this.g=l,this.map=p}};function Ai(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ka(l){return l.h?1:l.g?l.g.size:0}function jt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Oo(l,p){l.g?l.g.add(p):l.h=p}function Qa(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Ai.prototype.cancel=function(){if(this.i=Ga(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ga(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.D);return p}return H(l.i)}function gs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],v=l.length,w=0;w<v;w++)p.push(l[w]);return p}p=[],v=0;for(w in l)p[v++]=l[w];return p}function ys(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var v=0;v<l;v++)p.push(v);return p}p=[],v=0;for(const w in l)p[v++]=w;return p}}}function xr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var v=ys(l),w=gs(l),b=w.length,$=0;$<b;$++)p.call(void 0,w[$],v&&v[$],l)}var Pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(l,p){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var w=l[v].indexOf("="),b=null;if(0<=w){var $=l[v].substring(0,w);b=l[v].substring(w+1)}else $=l[v];p($,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function ar(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ar){this.h=l.h,ki(this,l.j),this.o=l.o,this.g=l.g,Dr(this,l.s),this.l=l.l;var p=l.i,v=new Un;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Nr(this,v),this.m=l.m}else l&&(p=String(l).match(Pi))?(this.h=!1,ki(this,p[1]||"",!0),this.o=Pe(p[2]||""),this.g=Pe(p[3]||"",!0),Dr(this,p[4]),this.l=Pe(p[5]||"",!0),Nr(this,p[6]||"",!0),this.m=Pe(p[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}ar.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Or(p,vs,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Or(p,vs,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(Or(v,v.charAt(0)=="/"?Ja:Ya,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",Or(v,Lo)),l.join("")};function en(l){return new ar(l)}function ki(l,p,v){l.j=v?Pe(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Dr(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Nr(l,p,v){p instanceof Un?(l.i=p,zn(l.i,l.h)):(v||(p=Or(p,Za)),l.i=new Un(p,l.h))}function ze(l,p,v){l.i.set(p,v)}function Vr(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Or(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,Xa),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Xa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var vs=/[#\/\?@]/g,Ya=/[#\?:]/g,Ja=/[#\?]/g,Za=/[#\?@]/g,Lo=/#/g;function Un(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&gc(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=Un.prototype,r.add=function(l,p){Tt(this),this.i=null,l=fn(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function Cn(l,p){Tt(l),p=fn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Rn(l,p){return Tt(l),p=fn(l,p),l.g.has(p)}r.forEach=function(l,p){Tt(this),this.g.forEach(function(v,w){v.forEach(function(b){l.call(p,b,w,this)},this)},this)},r.na=function(){Tt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let w=0;w<p.length;w++){const b=l[w];for(let $=0;$<b.length;$++)v.push(p[w])}return v},r.V=function(l){Tt(this);let p=[];if(typeof l=="string")Rn(this,l)&&(p=p.concat(this.g.get(fn(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)p=p.concat(l[v])}return p},r.set=function(l,p){return Tt(this),this.i=null,l=fn(this,l),Rn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function Lr(l,p,v){Cn(l,p),0<v.length&&(l.i=null,l.g.set(fn(l,p),H(v)),l.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var w=p[v];const $=encodeURIComponent(String(w)),re=this.V(w);for(w=0;w<re.length;w++){var b=$;re[w]!==""&&(b+="="+encodeURIComponent(String(re[w]))),l.push(b)}}return this.i=l.join("&")};function fn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function zn(l,p){p&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(v,w){var b=w.toLowerCase();w!=b&&(Cn(this,w),Lr(this,b,v))},l)),l.j=p}function yc(l,p){const v=new Si;if(d.Image){const w=new Image;w.onload=D($t,v,"TestLoadImage: loaded",!0,p,w),w.onerror=D($t,v,"TestLoadImage: error",!1,p,w),w.onabort=D($t,v,"TestLoadImage: abort",!1,p,w),w.ontimeout=D($t,v,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else p(!1)}function el(l,p){const v=new Si,w=new AbortController,b=setTimeout(()=>{w.abort(),$t(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:w.signal}).then($=>{clearTimeout(b),$.ok?$t(v,"TestPingServer: ok",!0,p):$t(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(b),$t(v,"TestPingServer: error",!1,p)})}function $t(l,p,v,w,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),w(v)}catch{}}function vc(){this.g=new Ro}function tl(l,p,v){const w=v||"";try{xr(l,function(b,$){let re=b;y(b)&&(re=Io(b)),p.push(w+$+"="+encodeURIComponent(re))})}catch(b){throw p.push(w+"type="+encodeURIComponent("_badmap")),b}}function lr(l){this.l=l.Ub||null,this.j=l.eb||!1}O(lr,wi),lr.prototype.g=function(){return new xi(this.l,this.j)},lr.prototype.i=function(l){return function(){return l}}({});function xi(l,p){lt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(xi,lt),r=xi.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Pn(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?An(this):Pn(this),this.readyState==3&&nl(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,An(this))},r.Qa=function(l){this.g&&(this.response=l,An(this))},r.ga=function(){this.g&&An(this)};function An(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Pn(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Pn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ur(l){let p="";return de(l,function(v,w){p+=w,p+=":",p+=v,p+=`\r
`}),p}function Mr(l,p,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=ur(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):ze(l,p,v))}function Ke(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ke,lt);var _c=/^https?$/i,Mo=["POST","PUT"];r=Ke.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?ls(this.o):ls(Sn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch($){Di(this,$);return}if(l=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var b in w)v.set(b,w[b]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())v.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),b=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Mo,p,void 0))||w||b||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of v)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(l),this.u=!1}catch($){Di(this,$)}};function Di(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,_s(l),tn(l)}function _s(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),tn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},r.bb=function(){Fo(this)};function Fo(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)wo(l.Ea,0,l);else if(ut(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var w;if(w=re===0){var b=String(l.D).match(Pi)[1]||null;!b&&d.self&&d.self.location&&(b=d.self.location.protocol.slice(0,-1)),w=!_c.test(b?b.toLowerCase():"")}v=w}if(v)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var $=2<Ht(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",_s(l)}}finally{tn(l)}}}}function tn(l,p){if(l.g){Es(l);const v=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||ut(l,"ready");try{v.onreadystatechange=w}catch{}}}function Es(l){l.I&&(d.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Co(p)}};function bo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ws(l){const p={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(ee(l[w]))continue;var v=V(l[w]);const b=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=p[b]||[];p[b]=$,$.push(v)}k(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bn(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function jo(l){this.Aa=0,this.i=[],this.j=new Si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bn("baseRetryDelayMs",5e3,l),this.cb=Bn("retryDelaySeedMs",1e4,l),this.Wa=Bn("forwardChannelMaxRetries",2,l),this.wa=Bn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(l&&l.concurrentRequestLimit),this.Da=new vc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=jo.prototype,r.la=8,r.G=1,r.connect=function(l,p,v,w){nt(0),this.W=l,this.H=p||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=ol(this,null,this.W),$n(this)};function St(l){if(Ts(l),l.G==3){var p=l.U++,v=en(l.I);if(ze(v,"SID",l.K),ze(v,"RID",p),ze(v,"TYPE","terminate"),cr(l,v),p=new In(l,l.j,p),p.L=2,p.v=Vr(en(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.v,v=!0),v||(p.g=al(p.j,null),p.g.ea(p.v)),p.F=Date.now(),$e(p)}sl(l)}function kn(l){l.g&&(Uo(l),l.g.cancel(),l.g=null)}function Ts(l){kn(l),l.u&&(d.clearTimeout(l.u),l.u=null),Cs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function $n(l){if(!Zt(l.h)&&!l.s){l.s=!0;var p=l.Ga;Ue||oe(),ie||(Ue(),ie=!0),ge.add(p,l),l.B=0}}function Ec(l,p){return Ka(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=wn(T(l.Ga,l,p),il(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const b=new In(this,this.j,l);let $=this.o;if(this.S&&($?($=I($),x($,this.S)):$=this.S),this.m!==null||this.O||(b.H=$,$=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Fr(this,b,p),v=en(this.I),ze(v,"RID",l),ze(v,"CVER",22),this.D&&ze(v,"X-HTTP-Session-Id",this.D),cr(this,v),$&&(this.O?p="headers="+encodeURIComponent(String(ur($)))+"&"+p:this.m&&Mr(v,this.m,$)),Oo(this.h,b),this.Ua&&ze(v,"TYPE","init"),this.P?(ze(v,"$req",p),ze(v,"SID","null"),b.T=!0,ms(b,v,null)):ms(b,v,p),this.G=2}}else this.G==3&&(l?Ss(this,l):this.i.length==0||Zt(this.h)||Ss(this))};function Ss(l,p){var v;p?v=p.l:v=l.U++;const w=en(l.I);ze(w,"SID",l.K),ze(w,"RID",v),ze(w,"AID",l.T),cr(l,w),l.m&&l.o&&Mr(w,l.m,l.o),v=new In(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Fr(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Oo(l.h,v),ms(v,w,p)}function cr(l,p){l.H&&de(l.H,function(v,w){ze(p,w,v)}),l.l&&xr({},function(v,w){ze(p,w,v)})}function Fr(l,p,v){v=Math.min(l.i.length,v);var w=l.l?T(l.l.Na,l.l,l):null;e:{var b=l.i;let $=-1;for(;;){const re=["count="+v];$==-1?0<v?($=b[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let je=!0;for(let ct=0;ct<v;ct++){let De=b[ct].g;const yt=b[ct].map;if(De-=$,0>De)$=Math.max(0,b[ct].g-100),je=!1;else try{tl(yt,re,"req"+De+"_")}catch{w&&w(yt)}}if(je){w=re.join("&");break e}}}return l=l.i.splice(0,v),p.D=l,w}function Ni(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Ue||oe(),ie||(Ue(),ie=!0),ge.add(p,l),l.v=0}}function Is(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=wn(T(l.Fa,l),il(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,rl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wn(T(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),kn(this),rl(this))};function Uo(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function rl(l){l.g=new In(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=en(l.qa);ze(p,"RID","rpc"),ze(p,"SID",l.K),ze(p,"AID",l.T),ze(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(p,"TO",l.ja),ze(p,"TYPE","xmlhttp"),cr(l,p),l.m&&l.o&&Mr(p,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=Vr(en(p)),v.m=null,v.P=!0,No(v,l)}r.Za=function(){this.C!=null&&(this.C=null,kn(this),Is(this),nt(19))};function Cs(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function Rs(l,p){var v=null;if(l.g==p){Cs(l),Uo(l),l.g=null;var w=2}else if(jt(l.h,p))v=p.D,Qa(l.h,p),w=1;else return;if(l.G!=0){if(p.o)if(w==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var b=l.B;w=Ti(),ut(w,new hs(w,v)),$n(l)}else Ni(l);else if(b=p.s,b==3||b==0&&0<p.X||!(w==1&&Ec(l,p)||w==2&&Is(l)))switch(v&&0<v.length&&(p=l.h,p.i=p.i.concat(v)),b){case 1:hr(l,5);break;case 4:hr(l,10);break;case 3:hr(l,6);break;default:hr(l,2)}}}function il(l,p){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*p}function hr(l,p){if(l.j.info("Error code "+p),p==2){var v=T(l.fb,l),w=l.Xa;const b=!w;w=new ar(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ki(w,"https"),Vr(w),b?yc(w.toString(),v):el(w.toString(),v)}else nt(2);l.G=0,l.l&&l.l.sa(p),sl(l),Ts(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function sl(l){if(l.G=0,l.ka=[],l.l){const p=Ga(l.h);(p.length!=0||l.i.length!=0)&&(L(l.ka,p),L(l.ka,l.i),l.h.i.length=0,H(l.i),l.i.length=0),l.l.ra()}}function ol(l,p,v){var w=v instanceof ar?en(v):new ar(v);if(w.g!="")p&&(w.g=p+"."+w.g),Dr(w,w.s);else{var b=d.location;w=b.protocol,p=p?p+"."+b.hostname:b.hostname,b=+b.port;var $=new ar(null);w&&ki($,w),p&&($.g=p),b&&Dr($,b),v&&($.l=v),w=$}return v=l.D,p=l.ya,v&&p&&ze(w,v,p),ze(w,"VER",l.la),cr(l,w),w}function al(l,p,v){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new Ke(new lr({eb:v})):new Ke(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}r=zo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function As(){}As.prototype.g=function(l,p){return new Ut(l,p)};function Ut(l,p){lt.call(this),this.g=new jo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!ee(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Hn(this)}O(Ut,lt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){St(this.g)},Ut.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=Io(l),l=v);p.i.push(new qa(p.Ya++,l)),p.G==3&&$n(p)},Ut.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,Ut.aa.N.call(this)};function ll(l){bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}O(ll,bn);function ul(){cs.call(this),this.status=1}O(ul,cs);function Hn(l){this.g=l}O(Hn,zo),Hn.prototype.ua=function(){ut(this.g,"a")},Hn.prototype.ta=function(l){ut(this.g,new ll(l))},Hn.prototype.sa=function(l){ut(this.g,new ul)},Hn.prototype.ra=function(){ut(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Gy=function(){return new As},Qy=function(){return Ti()},Ky=jn,yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,du=ds,Ba.COMPLETE="complete",qy=Ba,us.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,pa=us,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,Wy=Ke}).apply(typeof iu<"u"?iu:typeof self<"u"?self:typeof window<"u"?window:{});const ag="@firebase/firestore",lg="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new by("@firebase/firestore");function Gs(){return Xi.logLevel}function ae(r,...e){if(Xi.logLevel<=Ve.DEBUG){const t=e.map(qf);Xi.debug(`Firestore (${fo}): ${r}`,...t)}}function Sr(r,...e){if(Xi.logLevel<=Ve.ERROR){const t=e.map(qf);Xi.error(`Firestore (${fo}): ${r}`,...t)}}function to(r,...e){if(Xi.logLevel<=Ve.WARN){const t=e.map(qf);Xi.warn(`Firestore (${fo}): ${r}`,...t)}}function qf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+r;throw Sr(e),new Error(e)}function be(r,e){r||Ee()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ho{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}}class oS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aS{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ii,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ii)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new Xy(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ft(e)}}class lS{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uS{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new lS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ug{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cS{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,BT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){be(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ug(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string"),this.R=t.token,new ug(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function no(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-62135596800,hg=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*hg);return new pt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cg)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hg}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new pt(0,0))}static max(){return new Te(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="__name__";class Gn{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(),s===void 0?s=e.length-t:s>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Gn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gn?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Gn.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Gn.isNumericId(e),o=Gn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Gn.extractNumericId(e).compare(Gn.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ri.fromString(e.substring(4,e.length-2))}}class Ge extends Gn{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}const fS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends Gn{construct(e,t,s){return new Pt(e,t,s)}static isValidIdentifier(e){return fS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fg}static keyField(){return new Pt([fg])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(t)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ge.fromString(e))}static fromName(e){return new _e(Ge.fromString(e).popFirst(5))}static empty(){return new _e(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=-1;function dS(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new pt(t+1,0):new pt(t,s));return new li(o,_e.empty(),e)}function pS(r){return new li(r.readTime,r.key,Ca)}class li{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new li(Te.min(),_e.empty(),Ca)}static max(){return new li(Te.max(),_e.empty(),Ca)}}function mS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==gS)throw r;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,s)=>{t(e)})}static reject(e){return new Q((t,s)=>{s(e)})}static waitFor(e){return new Q((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=Q.resolve(!1);for(const s of e)t=t.next(o=>o?Q.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Q((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(E=>{h[y]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new Q((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function vS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=-1;function Ku(r){return r==null}function Iu(r){return r===0&&1/r==-1/0}function _S(r){return typeof r=="number"&&Number.isInteger(r)&&!Iu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="";function ES(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dg(e)),e=wS(r.get(t),e);return dg(e)}function wS(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case Jy:t+="";break;default:t+=u}}return t}function dg(r){return r+Jy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function gi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Zy(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,t){this.comparator=e,this.root=t||At.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??At.RED,this.left=o??At.EMPTY,this.right=u??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new At(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return At.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,s,o,u){return this}insert(e,t,s){return new At(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mg(this.data.getIterator())}getIteratorFrom(e){return new mg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class mg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new an([])}unionWith(e){let t=new mt(Pt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new an(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ev("Invalid base64 string: "+u):u}}(e);return new kt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const TS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(r){if(be(!!r),typeof r=="string"){let e=0;const t=TS.exec(r);if(be(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(r.seconds),nanos:it(r.nanos)}}function it(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ci(r){return typeof r=="string"?kt.fromBase64String(r):kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="server_timestamp",nv="__type__",rv="__previous_value__",iv="__local_write_time__";function Qf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[nv])===null||t===void 0?void 0:t.stringValue)===tv}function Qu(r){const e=r.mapValue.fields[rv];return Qf(e)?Qu(e):e}function Ra(r){const e=ui(r.mapValue.fields[iv].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,s,o,u,h,d,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=y}}const Cu="(default)";class Aa{constructor(e,t){this.projectId=e,this.database=t||Cu}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database===Cu}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="__type__",IS="__max__",ou={mapValue:{}},ov="__vector__",Ru="value";function hi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qf(r)?4:RS(r)?9007199254740991:CS(r)?10:11:Ee()}function Zn(r,e){if(r===e)return!0;const t=hi(r);if(t!==hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ra(r).isEqual(Ra(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ui(o.timestampValue),d=ui(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ci(o.bytesValue).isEqual(ci(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return it(o.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(o.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return it(o.integerValue)===it(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=it(o.doubleValue),d=it(u.doubleValue);return h===d?Iu(h)===Iu(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return no(r.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(pg(h)!==pg(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!Zn(h[g],d[g])))return!1;return!0}(r,e);default:return Ee()}}function Pa(r,e){return(r.values||[]).find(t=>Zn(t,e))!==void 0}function ro(r,e){if(r===e)return 0;const t=hi(r),s=hi(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return gg(r.timestampValue,e.timestampValue);case 4:return gg(Ra(r),Ra(e));case 5:return ke(r.stringValue,e.stringValue);case 6:return function(u,h){const d=ci(u),g=ci(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let y=0;y<d.length&&y<g.length;y++){const E=ke(d[y],g[y]);if(E!==0)return E}return ke(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=ke(it(u.latitude),it(h.latitude));return d!==0?d:ke(it(u.longitude),it(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return yg(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,y,E;const S=u.fields||{},T=h.fields||{},D=(d=S[Ru])===null||d===void 0?void 0:d.arrayValue,O=(g=T[Ru])===null||g===void 0?void 0:g.arrayValue,H=ke(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((E=O==null?void 0:O.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:yg(D,O)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===ou.mapValue&&h===ou.mapValue)return 0;if(u===ou.mapValue)return 1;if(h===ou.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),y=h.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const T=ke(g[S],E[S]);if(T!==0)return T;const D=ro(d[g[S]],y[E[S]]);if(D!==0)return D}return ke(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function gg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const t=ui(r),s=ui(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function yg(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=ro(t[o],s[o]);if(u)return u}return ke(t.length,s.length)}function io(r){return vf(r)}function vf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=ui(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return ci(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return _e.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=vf(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${vf(t.fields[h])}`;return o+"}"}(r.mapValue):Ee()}function pu(r){switch(hi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qu(r);return e?16+pu(e):16;case 5:return 2*r.stringValue.length;case 6:return ci(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+pu(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return gi(s.fields,(u,h)=>{o+=u.length+pu(h)}),o}(r.mapValue);default:throw Ee()}}function _f(r){return!!r&&"integerValue"in r}function Gf(r){return!!r&&"arrayValue"in r}function vg(r){return!!r&&"nullValue"in r}function _g(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mu(r){return!!r&&"mapValue"in r}function CS(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sv])===null||t===void 0?void 0:t.stringValue)===ov}function va(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return gi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=va(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=va(r.arrayValue.values[t]);return e}return Object.assign({},r)}function RS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===IS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!mu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(t)}setAll(e){let t=Pt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=va(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());mu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){gi(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Jt(va(this.value))}}function av(r){const e=[];return gi(r.fields,(t,s)=>{const o=new Pt([t]);if(mu(s)){const u=av(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new bt(e,0,Te.min(),Te.min(),Te.min(),Jt.empty(),0)}static newFoundDocument(e,t,s,o){return new bt(e,1,t,Te.min(),s,o,0)}static newNoDocument(e,t){return new bt(e,2,t,Te.min(),Te.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new bt(e,3,t,Te.min(),Te.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.position=e,this.inclusive=t}}function Eg(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=ro(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function wg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Zn(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t="asc"){this.field=e,this.dir=t}}function AS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{}class dt extends lv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new kS(e,t,s):t==="array-contains"?new NS(e,s):t==="in"?new VS(e,s):t==="not-in"?new OS(e,s):t==="array-contains-any"?new LS(e,s):new dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new xS(e,s):new DS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ro(t,this.value)):t!==null&&hi(this.value)===hi(t)&&this.matchesComparison(ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends lv{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new er(e,t)}matches(e){return uv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uv(r){return r.op==="and"}function cv(r){return PS(r)&&uv(r)}function PS(r){for(const e of r.filters)if(e instanceof er)return!1;return!0}function Ef(r){if(r instanceof dt)return r.field.canonicalString()+r.op.toString()+io(r.value);if(cv(r))return r.filters.map(e=>Ef(e)).join(",");{const e=r.filters.map(t=>Ef(t)).join(",");return`${r.op}(${e})`}}function hv(r,e){return r instanceof dt?function(s,o){return o instanceof dt&&s.op===o.op&&s.field.isEqual(o.field)&&Zn(s.value,o.value)}(r,e):r instanceof er?function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&hv(h,o.filters[d]),!0):!1}(r,e):void Ee()}function fv(r){return r instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${io(t.value)}`}(r):r instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(fv).join(" ,")+"}"}(r):"Filter"}class kS extends dt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class xS extends dt{constructor(e,t){super(e,"in",t),this.keys=dv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class DS extends dt{constructor(e,t){super(e,"not-in",t),this.keys=dv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class NS extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gf(t)&&Pa(t.arrayValue,this.value)}}class VS extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pa(this.value.arrayValue,t)}}class OS extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pa(this.value.arrayValue,t)}}class LS extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Pa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function Tg(r,e=null,t=[],s=[],o=null,u=null,h=null){return new MS(r,e,t,s,o,u,h)}function Xf(r){const e=Se(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Ef(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ku(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>io(s)).join(",")),e.le=t}return e.le}function Yf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!AS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hv(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wg(r.startAt,e.startAt)&&wg(r.endAt,e.endAt)}function wf(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function FS(r,e,t,s,o,u,h,d){return new Gu(r,e,t,s,o,u,h,d)}function pv(r){return new Gu(r)}function Sg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bS(r){return r.collectionGroup!==null}function _a(r){const e=Se(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new mt(Pt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Pu(u,s))}),t.has(Pt.keyField().canonicalString())||e.he.push(new Pu(Pt.keyField(),s))}return e.he}function Xn(r){const e=Se(r);return e.Pe||(e.Pe=jS(e,_a(r))),e.Pe}function jS(r,e){if(r.limitType==="F")return Tg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Pu(o.field,u)});const t=r.endAt?new Au(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Au(r.startAt.position,r.startAt.inclusive):null;return Tg(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Tf(r,e,t){return new Gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Xu(r,e){return Yf(Xn(r),Xn(e))&&r.limitType===e.limitType}function mv(r){return`${Xf(Xn(r))}|lt:${r.limitType}`}function Xs(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>fv(o)).join(", ")}]`),Ku(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>io(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(Xn(r))}; limitType=${r.limitType})`}function Yu(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of _a(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const y=Eg(h,d,g);return h.inclusive?y<=0:y<0}(s.startAt,_a(s),o)||s.endAt&&!function(h,d,g){const y=Eg(h,d,g);return h.inclusive?y>=0:y>0}(s.endAt,_a(s),o))}(r,e)}function US(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gv(r){return(e,t)=>{let s=!1;for(const o of _a(r)){const u=zS(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zS(r,e,t){const s=r.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,d){const g=h.data.field(u),y=d.data.field(u);return g!==null&&y!==null?ro(g,y):Ee()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Zy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Ze(_e.comparator);function Ir(){return BS}const yv=new Ze(_e.comparator);function ma(...r){let e=yv;for(const t of r)e=e.insert(t.key,t);return e}function vv(r){let e=yv;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Gi(){return Ea()}function _v(){return Ea()}function Ea(){return new ts(r=>r.toString(),(r,e)=>r.isEqual(e))}const $S=new Ze(_e.comparator),HS=new mt(_e.comparator);function Ae(...r){let e=HS;for(const t of r)e=e.add(t);return e}const WS=new mt(ke);function qS(){return WS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Iu(e)?"-0":e}}function Ev(r){return{integerValue:""+r}}function KS(r,e){return _S(e)?Ev(e):Jf(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this._=void 0}}function QS(r,e,t){return r instanceof ku?function(o,u){const h={fields:{[nv]:{stringValue:tv},[iv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qf(u)&&(u=Qu(u)),u&&(h.fields[rv]=u),{mapValue:h}}(t,e):r instanceof ka?Tv(r,e):r instanceof xa?Sv(r,e):function(o,u){const h=wv(o,u),d=Ig(h)+Ig(o.Ie);return _f(h)&&_f(o.Ie)?Ev(d):Jf(o.serializer,d)}(r,e)}function GS(r,e,t){return r instanceof ka?Tv(r,e):r instanceof xa?Sv(r,e):t}function wv(r,e){return r instanceof xu?function(s){return _f(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ku extends Ju{}class ka extends Ju{constructor(e){super(),this.elements=e}}function Tv(r,e){const t=Iv(e);for(const s of r.elements)t.some(o=>Zn(o,s))||t.push(s);return{arrayValue:{values:t}}}class xa extends Ju{constructor(e){super(),this.elements=e}}function Sv(r,e){let t=Iv(e);for(const s of r.elements)t=t.filter(o=>!Zn(o,s));return{arrayValue:{values:t}}}class xu extends Ju{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ig(r){return it(r.integerValue||r.doubleValue)}function Iv(r){return Gf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function XS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ka&&o instanceof ka||s instanceof xa&&o instanceof xa?no(s.elements,o.elements,Zn):s instanceof xu&&o instanceof xu?Zn(s.Ie,o.Ie):s instanceof ku&&o instanceof ku}(r.transform,e.transform)}class YS{constructor(e,t){this.version=e,this.transformResults=t}}class Fn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zu{}function Cv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zf(r.key,Fn.none()):new Ma(r.key,r.data,Fn.none());{const t=r.data,s=Jt.empty();let o=new mt(Pt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new yi(r.key,s,new an(o.toArray()),Fn.none())}}function JS(r,e,t){r instanceof Ma?function(o,u,h){const d=o.value.clone(),g=Rg(o.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof yi?function(o,u,h){if(!gu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Rg(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Rv(o)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function wa(r,e,t,s){return r instanceof Ma?function(u,h,d,g){if(!gu(u.precondition,h))return d;const y=u.value.clone(),E=Ag(u.fieldTransforms,g,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof yi?function(u,h,d,g){if(!gu(u.precondition,h))return d;const y=Ag(u.fieldTransforms,g,h),E=h.data;return E.setAll(Rv(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(u,h,d){return gu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function ZS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=wv(s.transform,o||null);u!=null&&(t===null&&(t=Jt.empty()),t.set(s.field,u))}return t||null}function Cg(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,(u,h)=>XS(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ma extends Zu{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yi extends Zu{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Rv(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Rg(r,e,t){const s=new Map;be(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,GS(h,d,t[o]))}return s}function Ag(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,QS(u,h,e))}return s}class Zf extends Zu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e1 extends Zu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JS(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=wa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=wa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=_v();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const g=Cv(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(t,s)=>Cg(t,s))&&no(this.baseMutations,e.baseMutations,(t,s)=>Cg(t,s))}}class ed{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){be(e.mutations.length===s.length);let o=function(){return $S}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new ed(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ne;function i1(r){switch(r){case J.OK:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee()}}function Av(r){if(r===void 0)return Sr("GRPC error has no .code"),J.UNKNOWN;switch(r){case at.OK:return J.OK;case at.CANCELLED:return J.CANCELLED;case at.UNKNOWN:return J.UNKNOWN;case at.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case at.INTERNAL:return J.INTERNAL;case at.UNAVAILABLE:return J.UNAVAILABLE;case at.UNAUTHENTICATED:return J.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case at.NOT_FOUND:return J.NOT_FOUND;case at.ALREADY_EXISTS:return J.ALREADY_EXISTS;case at.PERMISSION_DENIED:return J.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case at.ABORTED:return J.ABORTED;case at.OUT_OF_RANGE:return J.OUT_OF_RANGE;case at.UNIMPLEMENTED:return J.UNIMPLEMENTED;case at.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(Ne=at||(at={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new ri([4294967295,4294967295],0);function Pg(r){const e=s1().encode(r),t=new Hy;return t.update(e),new Uint8Array(t.digest())}function kg(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ri([t,s],0),new ri([o,u],0)]}class td{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ga(`Invalid padding: ${t}`);if(s<0)throw new ga(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ga(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ga(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ri.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ri.fromNumber(s)));return o.compare(o1)===1&&(o=new ri([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Pg(e),[s,o]=kg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new td(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=Pg(e),[s,o]=kg(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ec(Te.min(),o,new Ze(ke),Ir(),Ae())}}class Fa{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Fa(s,t,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class Pv{constructor(e,t){this.targetId=e,this.ge=t}}class kv{constructor(e,t,s=kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class xg{constructor(){this.pe=0,this.ye=Dg(),this.we=kt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ae(),t=Ae(),s=Ae();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new Fa(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=Dg()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,be(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class a1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ir(),this.$e=au(),this.Ke=au(),this.Ue=new Ze(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(wf(u))if(s===0){const h=new _e(u.path);this.ze(t,h,bt.newNoDocument(h,Te.min()))}else be(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),g=d?this.nt(d,e,h):1;if(g!==0){this.Ye(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ci(s).toUint8Array()}catch(g){if(g instanceof ev)return to("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new td(h,o,u)}catch(g){return to(g instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&wf(d.target)){const g=new _e(d.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,bt.newNoDocument(g,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Ae();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new ec(e,t,this.Ue,this.Qe,s);return this.Qe=Ir(),this.$e=au(),this.Ke=au(),this.Ue=new Ze(ke),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new xg,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new mt(ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new mt(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xg),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function au(){return new Ze(_e.comparator)}function Dg(){return new Ze(_e.comparator)}const l1={asc:"ASCENDING",desc:"DESCENDING"},u1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c1={and:"AND",or:"OR"};class h1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sf(r,e){return r.useProto3Json||Ku(e)?e:{value:e}}function Du(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function f1(r,e){return Du(r,e.toTimestamp())}function Yn(r){return be(!!r),Te.fromTimestamp(function(t){const s=ui(t);return new pt(s.seconds,s.nanos)}(r))}function nd(r,e){return If(r,e).canonicalString()}function If(r,e){const t=function(o){return new Ge(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Dv(r){const e=Ge.fromString(r);return be(Mv(e)),e}function Cf(r,e){return nd(r.databaseId,e.path)}function Jh(r,e){const t=Dv(e);if(t.get(1)!==r.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(Vv(t))}function Nv(r,e){return nd(r.databaseId,e)}function d1(r){const e=Dv(r);return e.length===4?Ge.emptyPath():Vv(e)}function Rf(r){return new Ge(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Vv(r){return be(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Ng(r,e,t){return{name:Cf(r,e),fields:t.value.mapValue.fields}}function p1(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(be(E===void 0||typeof E=="string"),kt.fromBase64String(E||"")):(be(E===void 0||E instanceof Buffer||E instanceof Uint8Array),kt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(y){const E=y.code===void 0?J.UNKNOWN:Av(y.code);return new me(E,y.message||"")}(h);t=new kv(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jh(r,s.document.name),u=Yn(s.document.updateTime),h=s.document.createTime?Yn(s.document.createTime):Te.min(),d=new Jt({mapValue:{fields:s.document.fields}}),g=bt.newFoundDocument(o,u,h,d),y=s.targetIds||[],E=s.removedTargetIds||[];t=new yu(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jh(r,s.document),u=s.readTime?Yn(s.readTime):Te.min(),h=bt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new yu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jh(r,s.document),u=s.removedTargetIds||[];t=new yu([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new r1(o,u),d=s.targetId;t=new Pv(d,h)}}return t}function m1(r,e){let t;if(e instanceof Ma)t={update:Ng(r,e.key,e.value)};else if(e instanceof Zf)t={delete:Cf(r,e.key)};else if(e instanceof yi)t={update:Ng(r,e.key,e.data),updateMask:I1(e.fieldMask)};else{if(!(e instanceof e1))return Ee();t={verify:Cf(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof ku)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ka)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xu)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Ee()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:f1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),t}function g1(r,e){return r&&r.length>0?(be(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Yn(o.updateTime):Yn(u);return h.isEqual(Te.min())&&(h=Yn(u)),new YS(h,o.transformResults||[])}(t,e))):[]}function y1(r,e){return{documents:[Nv(r,e.path)]}}function v1(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Nv(r,o);const u=function(y){if(y.length!==0)return Lv(er.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(E=>function(T){return{field:Ys(T.field),direction:w1(T.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Sf(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function _1(r){let e=d1(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){be(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const T=Ov(S);return T instanceof er&&cv(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(T=>function(O){return new Pu(Js(O.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(S){let T;return T=typeof S=="object"?S.value:S,Ku(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(S){const T=!!S.before,D=S.values||[];return new Au(D,T)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const T=!S.before,D=S.values||[];return new Au(D,T)}(t.endAt)),FS(e,o,h,u,d,"F",g,y)}function E1(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ov(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Js(t.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Js(t.unaryFilter.field);return dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Js(t.unaryFilter.field);return dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Js(t.unaryFilter.field);return dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(t){return dt.create(Js(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(s=>Ov(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(r):Ee()}function w1(r){return l1[r]}function T1(r){return u1[r]}function S1(r){return c1[r]}function Ys(r){return{fieldPath:r.canonicalString()}}function Js(r){return Pt.fromServerFormat(r.fieldPath)}function Lv(r){return r instanceof dt?function(t){if(t.op==="=="){if(_g(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NAN"}};if(vg(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_g(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NAN"}};if(vg(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(t.field),op:T1(t.op),value:t.value}}}(r):r instanceof er?function(t){const s=t.getFilters().map(o=>Lv(o));return s.length===1?s[0]:{compositeFilter:{op:S1(t.op),filters:s}}}(r):Ee()}function I1(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t,s,o,u=Te.min(),h=Te.min(),d=kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.Tt=e}}function R1(r){const e=_1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.Tn=new P1}addToCollectionParentIndex(e,t){return this.Tn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(li.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(li.min())}updateCollectionGroup(e,t,s){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class P1{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new mt(Ge.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new mt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fv=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(Fv,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new so(0)}static Un(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LruGarbageCollector",k1=1048576;function Lg([r,e],[t,s]){const o=ke(r,t);return o===0?ke(e,s):o}class x1{constructor(e){this.Hn=e,this.buffer=new mt(Lg),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Lg(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class D1{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(Og,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){mo(t)?ae(Og,"Ignoring IndexedDB error during garbage collection: ",t):await po(t)}await this.er(3e5)})}}class N1{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(qu.ae);const s=new x1(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Vg)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vg):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,d=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),Gs()<=Ve.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function V1(r,e){return new N1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.changes=new ts(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Q.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&wa(s.mutation,o,an.empty(),pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ae()){const o=Gi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=ma();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Gi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ae()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=Ir();const h=Ea(),d=function(){return Ea()}();return t.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof yi)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),wa(E.mutation,y,E.mutation.getFieldMask(),pt.now())):h.set(y.key,an.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>h.set(y,E)),t.forEach((y,E)=>{var S;return d.set(y,new L1(E,(S=h.get(y))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Ea();let o=new Ze((h,d)=>h-d),u=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let E=s.get(g)||an.empty();E=d.applyToLocalView(y,E),s.set(g,E);const S=(o.get(d.batchId)||Ae()).add(g);o=o.insert(d.batchId,S)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),y=g.key,E=g.value,S=_v();E.forEach(T=>{if(!u.has(T)){const D=Cv(t.get(T),s.get(T));D!==null&&S.set(T,D),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Q.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Q.resolve(Gi());let d=Ca,g=u;return h.next(y=>Q.forEach(y,(E,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),u.get(E)?Q.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{g=g.insert(E,T)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Ae())).next(E=>({batchId:d,changes:vv(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=ma();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=ma();return this.indexManager.getCollectionParents(e,u).next(d=>Q.forEach(d,g=>{const y=function(S,T){return new Gu(T,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,T)=>{h=h.insert(S,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,bt.newInvalidDocument(E)))});let d=ma();return h.forEach((g,y)=>{const E=u.get(g);E!==void 0&&wa(E.mutation,y,an.empty(),pt.now()),Yu(t,y)&&(d=d.insert(g,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Q.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Yn(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:R1(o.bundledQuery),readTime:Yn(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.overlays=new Ze(_e.comparator),this.Rr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Gi();return Q.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Q.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(e,t,s){const o=Gi(),u=t.length+1,h=new _e(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new Ze((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Gi(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const d=Gi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>d.set(y,E)),!(d.size()>=o)););return Q.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new n1(t,s));let u=this.Rr.get(t);u===void 0&&(u=Ae(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.Vr=new mt(wt.mr),this.gr=new mt(wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new wt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new wt(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new _e(new Ge([])),s=new wt(t,e),o=new wt(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new Ge([])),s=new wt(t,e),o=new wt(t,e+1);let u=Ae();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new wt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(wt.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new t1(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new wt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Kf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wt(t,0),o=new wt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new mt(ke);return t.forEach(o=>{const u=new wt(o,0),h=new wt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new wt(new _e(u),0);let d=new mt(ke);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(g.Cr)),!0)},h),Q.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){be(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(t.mutations,o=>{const u=new wt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new wt(t,0),o=this.Mr.firstAfterOrEqual(s);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.kr=e,this.docs=function(){return new Ze(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Q.resolve(s?s.document.mutableCopy():bt.newInvalidDocument(t))}getEntries(e,t){let s=Ir();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():bt.newInvalidDocument(o))}),Q.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Ir();const h=t.path,d=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||mS(pS(E),s)<=0||(o.has(E.key)||Yu(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return Q.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee()}qr(e,t){return Q.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new B1(this)}getSize(e){return Q.resolve(this.size)}}class B1 extends O1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Q.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.persistence=e,this.Qr=new ts(t=>Xf(t),Yf),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.$r=0,this.Kr=new rd,this.targetCount=0,this.Ur=so.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Q.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new so(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.zn(t),Q.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Q.waitFor(u).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Q.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),Q.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return Q.resolve(s)}containsKey(e,t){return Q.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new qu(0),this.zr=!1,this.zr=!0,this.jr=new j1,this.referenceDelegate=e(this),this.Hr=new $1(this),this.indexManager=new A1,this.remoteDocumentCache=function(o){return new z1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new C1(t),this.Yr=new F1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new U1(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ae("MemoryPersistence","Starting transaction:",e);const o=new H1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class H1 extends yS{constructor(e){super(),this.currentSequenceNumber=e}}class id{constructor(e){this.persistence=e,this.ti=new rd,this.ni=null}static ri(e){return new id(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Q.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Q.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const o=_e.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Te.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Q.or([()=>Q.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Nu{constructor(e,t){this.persistence=e,this.oi=new ts(s=>ES(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=V1(this,t)}static ri(e,t){return new Nu(e,t)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Q.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Q.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Q.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pu(e.data.value)),t}ar(e,t,s){return Q.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Q.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ae(),o=Ae();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sd(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return j0()?8:vS(F0())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new W1;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Gs()<=Ve.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Gs()<=Ve.DEBUG&&ae("QueryEngine","Query:",Xs(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Gs()<=Ve.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(t))):Q.resolve())}rs(e,t){if(Sg(t))return Q.resolve(null);let s=Xn(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Tf(t,null,"F"),s=Xn(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ae(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.cs(t,d);return this.ls(t,y,h,g.readTime)?this.rs(e,Tf(t,null,"F")):this.hs(e,y,t,g)}))})))}ss(e,t,s,o){return Sg(t)||o.isEqual(Te.min())?Q.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Q.resolve(null):(Gs()<=Ve.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xs(t)),this.hs(e,h,t,dS(o,Ca)).next(d=>d))})}cs(e,t){let s=new mt(gv(e));return t.forEach((o,u)=>{Yu(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Gs()<=Ve.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Xs(t)),this.ns.getDocumentsMatchingQuery(e,t,li.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="LocalStore",K1=3e8;class Q1{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ze(ke),this.Is=new ts(u=>Xf(u),Yf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function G1(r,e,t,s){return new Q1(r,e,t,s)}async function jv(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=Ae();for(const y of o){h.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:h,addedBatchIds:d}))})})}function X1(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,g,y,E){const S=y.batch,T=S.keys();let D=Q.resolve();return T.forEach(O=>{D=D.next(()=>E.getEntry(g,O)).next(H=>{const L=y.docVersions.get(O);be(L!==null),H.version.compareTo(L)<0&&(S.applyToRemoteDocument(H,y),H.isValidDocument()&&(H.setReadTime(y.commitVersion),E.addEntry(H)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(g,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let g=Ae();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(g=g.add(d.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Uv(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Y1(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,S)=>{const T=o.get(S);if(!T)return;d.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,S)));let D=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(S,D),function(H,L,W){return H.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=K1?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,D,E)&&d.push(t.Hr.updateTargetData(u,D))});let g=Ir(),y=Ae();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(J1(u,h,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!s.isEqual(Te.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(S=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return Q.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.Ts=o,u))}function J1(r,e,t){let s=Ae(),o=Ae();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Ir();return t.forEach((d,g)=>{const y=u.get(d);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):ae(od,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",g.version)}),{Vs:h,fs:o}})}function Z1(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Kf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function eI(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Q.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new Zr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Af(r,e,t){const s=Se(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!mo(h))throw h;ae(od,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Mg(r,e,t){const s=Se(r);let o=Te.min(),u=Ae();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,E){const S=Se(g),T=S.Is.get(E);return T!==void 0?Q.resolve(S.Ts.get(T)):S.Hr.getTargetData(y,E)}(s,h,Xn(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Te.min(),t?u:Ae())).next(d=>(tI(s,US(e),d),{documents:d,gs:u})))}function tI(r,e,t){let s=r.Es.get(e)||Te.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Fg{constructor(){this.activeTargetIds=qS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nI{constructor(){this.ho=new Fg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Fg,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="ConnectivityMonitor";class jg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(bg,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(bg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function Pf(){return lu===null?lu=function(){return 268435456+Math.round(2147483648*Math.random())}():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="RestConnection",iI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Cu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,t,s,o,u){const h=Pf(),d=this.So(e,t.toUriEncodedString());ae(Zh,`Sending RPC '${e}' ${h}:`,d,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,d,g,s).then(y=>(ae(Zh,`Received RPC '${e}' ${h}: `,y),y),y=>{throw to(Zh,`RPC '${e}' ${h} failed with error: `,y,"url: ",d,"request:",s),y})}Co(e,t,s,o,u,h){return this.bo(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,t){const s=iI[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class aI extends sI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=Pf();return new Promise((h,d)=>{const g=new Wy;g.setWithCredentials(!0),g.listenOnce(qy.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case du.NO_ERROR:const E=g.getResponseJson();ae(Mt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case du.TIMEOUT:ae(Mt,`RPC '${e}' ${u} timed out`),d(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const S=g.getStatus();if(ae(Mt,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const D=T==null?void 0:T.error;if(D&&D.status&&D.message){const O=function(L){const W=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN}(D.status);d(new me(O,D.message))}else d(new me(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new me(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ae(Mt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ae(Mt,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",y,s,15)})}Wo(e,t,s){const o=Pf(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Gy(),d=Qy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ae(Mt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=h.createWebChannel(E,g);let T=!1,D=!1;const O=new oI({Fo:L=>{D?ae(Mt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(ae(Mt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),T=!0),ae(Mt,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},Mo:()=>S.close()}),H=(L,W,ee)=>{L.listen(W,q=>{try{ee(q)}catch(ne){setTimeout(()=>{throw ne},0)}})};return H(S,pa.EventType.OPEN,()=>{D||(ae(Mt,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),H(S,pa.EventType.CLOSE,()=>{D||(D=!0,ae(Mt,`RPC '${e}' stream ${o} transport closed`),O.Ko())}),H(S,pa.EventType.ERROR,L=>{D||(D=!0,to(Mt,`RPC '${e}' stream ${o} transport errored:`,L),O.Ko(new me(J.UNAVAILABLE,"The operation could not be completed")))}),H(S,pa.EventType.MESSAGE,L=>{var W;if(!D){const ee=L.data[0];be(!!ee);const q=ee,ne=(q==null?void 0:q.error)||((W=q[0])===null||W===void 0?void 0:W.error);if(ne){ae(Mt,`RPC '${e}' stream ${o} received error:`,ne);const he=ne.status;let de=function(R){const x=at[R];if(x!==void 0)return Av(x)}(he),k=ne.message;de===void 0&&(de=J.INTERNAL,k="Unknown error status: "+he+" with message "+ne.message),D=!0,O.Ko(new me(de,k)),S.close()}else ae(Mt,`RPC '${e}' stream ${o} received:`,ee),O.Uo(ee)}}),H(d,Ky.STAT_EVENT,L=>{L.stat===yf.PROXY?ae(Mt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===yf.NOPROXY&&ae(Mt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(r){return new h1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="PersistentStream";class Bv{constructor(e,t,s,o,u,h,d,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zv(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new me(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(Ug,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ae(Ug,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lI extends Bv{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=p1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Yn(h.readTime):Te.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Rf(this.serializer),t.addTarget=function(u,h){let d;const g=h.target;if(d=wf(g)?{documents:y1(u,g)}:{query:v1(u,g).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=xv(u,h.resumeToken);const y=Sf(u,h.expectedCount);y!==null&&(d.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){d.readTime=Du(u,h.snapshotVersion.toTimestamp());const y=Sf(u,h.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const s=E1(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Rf(this.serializer),t.removeTarget=e,this.I_(t)}}class uI extends Bv{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=g1(e.writeResults,e.commitTime),s=Yn(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Rf(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>m1(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{}class hI extends cI{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.bo(e,If(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(J.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,If(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(J.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sr(t),this.N_=!1):ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="RemoteStore";class dI{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ns(this)&&(ae(Yi,"Restarting streams for network reachability change."),await async function(g){const y=Se(g);y.W_.add(4),await ba(y),y.j_.set("Unknown"),y.W_.delete(4),await nc(y)}(this))})}),this.j_=new fI(s,o)}}async function nc(r){if(ns(r))for(const e of r.G_)await e(!0)}async function ba(r){for(const e of r.G_)await e(!1)}function $v(r,e){const t=Se(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),cd(t)?ud(t):go(t).c_()&&ld(t,e))}function ad(r,e){const t=Se(r),s=go(t);t.U_.delete(e),s.c_()&&Hv(t,e),t.U_.size===0&&(s.c_()?s.P_():ns(t)&&t.j_.set("Unknown"))}function ld(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}go(r).y_(e)}function Hv(r,e){r.H_.Ne(e),go(r).w_(e)}function ud(r){r.H_=new a1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),go(r).start(),r.j_.B_()}function cd(r){return ns(r)&&!go(r).u_()&&r.U_.size>0}function ns(r){return Se(r).W_.size===0}function Wv(r){r.H_=void 0}async function pI(r){r.j_.set("Online")}async function mI(r){r.U_.forEach((e,t)=>{ld(r,e)})}async function gI(r,e){Wv(r),cd(r)?(r.j_.q_(e),ud(r)):r.j_.set("Unknown")}async function yI(r,e,t){if(r.j_.set("Online"),e instanceof kv&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(r,e)}catch(s){ae(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vu(r,s)}else if(e instanceof yu?r.H_.We(e):e instanceof Pv?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Te.min()))try{const s=await Uv(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,y)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(kt.EMPTY_BYTE_STRING,E.snapshotVersion)),Hv(u,g);const S=new Zr(E.target,g,y,E.sequenceNumber);ld(u,S)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){ae(Yi,"Failed to raise snapshot:",s),await Vu(r,s)}}async function Vu(r,e,t){if(!mo(e))throw e;r.W_.add(1),await ba(r),r.j_.set("Offline"),t||(t=()=>Uv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ae(Yi,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await nc(r)})}function qv(r,e){return e().catch(t=>Vu(r,t,e))}async function rc(r){const e=Se(r),t=fi(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Kf;for(;vI(e);)try{const o=await Z1(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,_I(e,o)}catch(o){await Vu(e,o)}Kv(e)&&Qv(e)}function vI(r){return ns(r)&&r.K_.length<10}function _I(r,e){r.K_.push(e);const t=fi(r);t.c_()&&t.b_&&t.S_(e.mutations)}function Kv(r){return ns(r)&&!fi(r).u_()&&r.K_.length>0}function Qv(r){fi(r).start()}async function EI(r){fi(r).C_()}async function wI(r){const e=fi(r);for(const t of r.K_)e.S_(t.mutations)}async function TI(r,e,t){const s=r.K_.shift(),o=ed.from(s,e,t);await qv(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await rc(r)}async function SI(r,e){e&&fi(r).b_&&await async function(s,o){if(function(h){return i1(h)&&h!==J.ABORTED}(o.code)){const u=s.K_.shift();fi(s).h_(),await qv(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rc(s)}}(r,e),Kv(r)&&Qv(r)}async function zg(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),ae(Yi,"RemoteStore received new credentials");const s=ns(t);t.W_.add(3),await ba(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await nc(t)}async function II(r,e){const t=Se(r);e?(t.W_.delete(2),await nc(t)):e||(t.W_.add(2),await ba(t),t.j_.set("Unknown"))}function go(r){return r.J_||(r.J_=function(t,s,o){const u=Se(t);return u.M_(),new lI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:pI.bind(null,r),No:mI.bind(null,r),Lo:gI.bind(null,r),p_:yI.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),cd(r)?ud(r):r.j_.set("Unknown")):(await r.J_.stop(),Wv(r))})),r.J_}function fi(r){return r.Y_||(r.Y_=function(t,s,o){const u=Se(t);return u.M_(),new uI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:EI.bind(null,r),Lo:SI.bind(null,r),D_:wI.bind(null,r),v_:TI.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await rc(r)):(await r.Y_.stop(),r.K_.length>0&&(ae(Yi,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new hd(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(r,e){if(Sr("AsyncQueue",`${e}: ${r}`),mo(r))return new me(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=ma(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.Z_=new Ze(_e.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class oo{constructor(e,t,s,o,u,h,d,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new oo(e,t,eo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class RI{constructor(){this.queries=$g(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=$g(),u.forEach((h,d)=>{for(const g of d.ta)g.onError(s)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function $g(){return new ts(r=>mv(r),Xu)}async function AI(r,e){const t=Se(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new CI,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=fd(h,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&dd(t)}async function PI(r,e){const t=Se(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function kI(r,e){const t=Se(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&dd(t)}function xI(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function dd(r){r.ia.forEach(e=>{e.next()})}var kf,Hg;(Hg=kf||(kf={}))._a="default",Hg.Cache="cache";class DI{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.key=e}}class Xv{constructor(e){this.key=e}}class NI{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ae(),this.mutatedKeys=Ae(),this.ya=gv(e),this.wa=new eo(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new Bg,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const T=o.get(E),D=Yu(this.query,S)?S:null,O=!!T&&this.mutatedKeys.has(T.key),H=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let L=!1;T&&D?T.data.isEqual(D.data)?O!==H&&(s.track({type:3,doc:D}),L=!0):this.va(T,D)||(s.track({type:2,doc:D}),L=!0,(g&&this.ya(D,g)>0||y&&this.ya(D,y)<0)&&(d=!0)):!T&&D?(s.track({type:0,doc:D}),L=!0):T&&!D&&(s.track({type:1,doc:T}),L=!0,(g||y)&&(d=!0)),L&&(D?(h=h.add(D),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(D,O){const H=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return H(D)-H(O)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,h.length!==0||y?{snapshot:new oo(this.query,e.wa,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Bg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ae(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Xv(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Gv(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ae();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return oo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const pd="SyncEngine";class VI{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class OI{constructor(e){this.key=e,this.Ba=!1}}class LI{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ts(d=>mv(d),Xu),this.qa=new Map,this.Qa=new Set,this.$a=new Ze(_e.comparator),this.Ka=new Map,this.Ua=new rd,this.Wa={},this.Ga=new Map,this.za=so.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MI(r,e,t=!0){const s=n_(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Yv(s,e,t,!0),o}async function FI(r,e){const t=n_(r);await Yv(t,e,!0,!1)}async function Yv(r,e,t,s){const o=await eI(r.localStore,Xn(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await bI(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&$v(r.remoteStore,o),d}async function bI(r,e,t,s,o){r.Ha=(S,T,D)=>async function(H,L,W,ee){let q=L.view.Sa(W);q.ls&&(q=await Mg(H.localStore,L.query,!1).then(({documents:k})=>L.view.Sa(k,q)));const ne=ee&&ee.targetChanges.get(L.targetId),he=ee&&ee.targetMismatches.get(L.targetId)!=null,de=L.view.applyChanges(q,H.isPrimaryClient,ne,he);return qg(H,L.targetId,de.Ma),de.snapshot}(r,S,T,D);const u=await Mg(r.localStore,e,!0),h=new NI(e,u.gs),d=h.Sa(u.documents),g=Fa.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(d,r.isPrimaryClient,g);qg(r,t,y.Ma);const E=new VI(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),y.snapshot}async function jI(r,e,t){const s=Se(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Xu(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Af(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ad(s.remoteStore,o.targetId),xf(s,o.targetId)}).catch(po)):(xf(s,o.targetId),await Af(s.localStore,o.targetId,!0))}async function UI(r,e){const t=Se(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ad(t.remoteStore,s.targetId))}async function zI(r,e,t){const s=QI(r);try{const o=await function(h,d){const g=Se(h),y=pt.now(),E=d.reduce((D,O)=>D.add(O.key),Ae());let S,T;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let O=Ir(),H=Ae();return g.ds.getEntries(D,E).next(L=>{O=L,O.forEach((W,ee)=>{ee.isValidDocument()||(H=H.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,O)).next(L=>{S=L;const W=[];for(const ee of d){const q=ZS(ee,S.get(ee.key).overlayedDocument);q!=null&&W.push(new yi(ee.key,q,av(q.value.mapValue),Fn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,W,d)}).next(L=>{T=L;const W=L.applyToLocalDocumentSet(S,H);return g.documentOverlayCache.saveOverlays(D,L.batchId,W)})}).then(()=>({batchId:T.batchId,changes:vv(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,g){let y=h.Wa[h.currentUser.toKey()];y||(y=new Ze(ke)),y=y.insert(d,g),h.Wa[h.currentUser.toKey()]=y}(s,o.batchId,t),await ja(s,o.changes),await rc(s.remoteStore)}catch(o){const u=fd(o,"Failed to persist write");t.reject(u)}}async function Jv(r,e){const t=Se(r);try{const s=await Y1(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?be(h.Ba):o.removedDocuments.size>0&&(be(h.Ba),h.Ba=!1))}),await ja(t,s,e)}catch(s){await po(s)}}function Wg(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Se(h);g.onlineState=d;let y=!1;g.queries.forEach((E,S)=>{for(const T of S.ta)T.sa(d)&&(y=!0)}),y&&dd(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BI(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new Ze(_e.comparator);h=h.insert(u,bt.newNoDocument(u,Te.min()));const d=Ae().add(u),g=new ec(Te.min(),new Map,new Ze(ke),h,d);await Jv(s,g),s.$a=s.$a.remove(u),s.Ka.delete(e),md(s)}else await Af(s.localStore,e,!1).then(()=>xf(s,e,t)).catch(po)}async function $I(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await X1(t.localStore,e);e_(t,s,null),Zv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ja(t,o)}catch(o){await po(o)}}async function HI(r,e,t){const s=Se(r);try{const o=await function(h,d){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,d).next(S=>(be(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);e_(s,e,t),Zv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ja(s,o)}catch(o){await po(o)}}function Zv(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function e_(r,e,t){const s=Se(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function xf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||t_(r,s)})}function t_(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(ad(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),md(r))}function qg(r,e,t){for(const s of t)s instanceof Gv?(r.Ua.addReference(s.key,e),WI(r,s)):s instanceof Xv?(ae(pd,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||t_(r,s.key)):Ee()}function WI(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(ae(pd,"New document in limbo: "+t),r.Qa.add(s),md(r))}function md(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new _e(Ge.fromString(e)),s=r.za.next();r.Ka.set(s,new OI(t)),r.$a=r.$a.insert(t,s),$v(r.remoteStore,new Zr(Xn(pv(t.path)),s,"TargetPurposeLimboResolution",qu.ae))}}async function ja(r,e,t){const s=Se(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,g)=>{h.push(s.Ha(g,e,t).then(y=>{var E;if((y||t)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(y){o.push(y);const S=sd.Yi(g.targetId,y);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(g,y){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Q.forEach(y,T=>Q.forEach(T.Hi,D=>E.persistence.referenceDelegate.addReference(S,T.targetId,D)).next(()=>Q.forEach(T.Ji,D=>E.persistence.referenceDelegate.removeReference(S,T.targetId,D)))))}catch(S){if(!mo(S))throw S;ae(od,"Failed to update sequence numbers: "+S)}for(const S of y){const T=S.targetId;if(!S.fromCache){const D=E.Ts.get(T),O=D.snapshotVersion,H=D.withLastLimboFreeSnapshotVersion(O);E.Ts=E.Ts.insert(T,H)}}}(s.localStore,u))}async function qI(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){ae(pd,"User change. New user:",e.toKey());const s=await jv(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(g=>{g.reject(new me(J.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ja(t,s.Rs)}}function KI(r,e){const t=Se(r),s=t.Ka.get(e);if(s&&s.Ba)return Ae().add(s.key);{let o=Ae();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.ba)}return o}}function n_(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BI.bind(null,e),e.La.p_=kI.bind(null,e.eventManager),e.La.Ja=xI.bind(null,e.eventManager),e}function QI(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HI.bind(null,e),e}class Ou{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return G1(this.persistence,new q1,e.initialUser,this.serializer)}Xa(e){return new bv(id.ri,this.serializer)}Za(e){return new nI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ou.provider={build:()=>new Ou};class GI extends Ou{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){be(this.persistence.referenceDelegate instanceof Nu);const s=this.persistence.referenceDelegate.garbageCollector;return new D1(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new bv(s=>Nu.ri(s,t),this.serializer)}}class Df{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Wg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qI.bind(null,this.syncEngine),await II(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RI}()}createDatastore(e){const t=tc(e.databaseInfo.databaseId),s=function(u){return new aI(u)}(e.databaseInfo);return function(u,h,d,g){return new hI(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new dI(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Wg(this.syncEngine,t,0),function(){return jg.D()?new jg:new rI}())}createSyncEngine(e,t){return function(o,u,h,d,g,y,E){const S=new LI(o,u,h,d,g,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Se(o);ae(Yi,"RemoteStore shutting down."),u.W_.add(5),await ba(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Df.provider={build:()=>new Df};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="FirestoreClient";class YI{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Ft.UNAUTHENTICATED,this.clientId=Yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ae(di,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae(di,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=fd(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function tf(r,e){r.asyncQueue.verifyOperationInProgress(),ae(di,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await jv(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Kg(r,e){r.asyncQueue.verifyOperationInProgress();const t=await JI(r);ae(di,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>zg(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>zg(e.remoteStore,o)),r._onlineComponents=e}async function JI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ae(di,"Using user provided OfflineComponentProvider");try{await tf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;to("Error using user provided cache. Falling back to memory cache: "+t),await tf(r,new Ou)}}else ae(di,"Using default OfflineComponentProvider"),await tf(r,new GI(void 0));return r._offlineComponents}async function r_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ae(di,"Using user provided OnlineComponentProvider"),await Kg(r,r._uninitializedComponentsProvider._online)):(ae(di,"Using default OnlineComponentProvider"),await Kg(r,new Df))),r._onlineComponents}function ZI(r){return r_(r).then(e=>e.syncEngine)}async function eC(r){const e=await r_(r),t=e.eventManager;return t.onListen=MI.bind(null,e.syncEngine),t.onUnlisten=jI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=UI.bind(null,e.syncEngine),t}function tC(r,e,t={}){const s=new ii;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,y){const E=new XI({next:T=>{E.su(),h.enqueueAndForget(()=>PI(u,S)),T.fromCache&&g.source==="server"?y.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),S=new DI(d,E,{includeMetadataChanges:!0,Ta:!0});return AI(u,S)}(await eC(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(r,e,t){if(!t)throw new me(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nC(r,e,t,s){if(e===!0&&s===!0)throw new me(J.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Gg(r){if(!_e.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xg(r){if(_e.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function Ji(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gd(r);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="firestore.googleapis.com",Yg=!0;class Jg{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o_,this.ssl=Yg}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Yg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k1)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i_((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ic{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sS;switch(s.type){case"firstParty":return new uS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Qg.get(t);s&&(ae("ComponentProvider","Removing Datastore"),Qg.delete(t),s.terminate())}(this),Promise.resolve()}}function rC(r,e,t,s={}){var o;const u=(r=Ji(r,ic))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==o_&&u.host!==d&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!wu(g,h)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ft.MOCK_USER;else{y=M0(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ft(S)}r._authCredentials=new oS(new Xy(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sc(this.firestore,e,this._query)}}class En{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class si extends sc{constructor(e,t,s){super(e,t,pv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new _e(e))}withConverter(e){return new si(this.firestore,e,this._path)}}function a_(r,e,...t){if(r=ai(r),s_("collection","path",e),r instanceof ic){const s=Ge.fromString(e,...t);return Xg(s),new si(r,null,s)}{if(!(r instanceof En||r instanceof si))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return Xg(s),new si(r.firestore,null,s)}}function yd(r,e,...t){if(r=ai(r),arguments.length===1&&(e=Yy.newId()),s_("doc","path",e),r instanceof ic){const s=Ge.fromString(e,...t);return Gg(s),new En(r,null,new _e(s))}{if(!(r instanceof En||r instanceof si))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ge.fromString(e,...t));return Gg(s),new En(r.firestore,r instanceof si?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="AsyncQueue";class ey{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zv(this,"async_queue_retry"),this.bu=()=>{const s=ef();s&&ae(Zg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=ef();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=ef();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!mo(e))throw e;ae(Zg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=hd.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ua extends ic{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new ey,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ey(e),this._firestoreClient=void 0,await e}}}function iC(r,e){const t=typeof r=="object"?r:qT(),s=typeof r=="string"?r:Cu,o=zT(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=O0("firestore");u&&rC(o,...u)}return o}function l_(r){if(r._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sC(r),r._firestoreClient}function sC(r){var e,t,s;const o=r._freezeSettings(),u=function(d,g,y,E){return new SS(d,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,i_(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new YI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(kt.fromBase64String(e))}catch(t){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ao(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^__.*__$/;class aC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ma(e,this.data,t,this.fieldTransforms)}}class u_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new yi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function c_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class wd{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Lu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(c_(this.Lu)&&oC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class lC{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||tc(e)}ju(e,t,s,o=!1){return new wd({Lu:e,methodName:t,zu:s,path:Pt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h_(r){const e=r._freezeSettings(),t=tc(r._databaseId);return new lC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function uC(r,e,t,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,t,o);Td("Data must be an object, but it was:",h,s);const d=f_(s,h);let g,y;if(u.merge)g=new an(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const T=Nf(e,S,t);if(!h.contains(T))throw new me(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);p_(E,T)||E.push(T)}g=new an(E),y=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=h.fieldTransforms;return new aC(new Jt(d),g,y)}class ac extends vd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ac}}function cC(r,e,t,s){const o=r.ju(1,e,t);Td("Data must be an object, but it was:",o,s);const u=[],h=Jt.empty();gi(s,(g,y)=>{const E=Sd(e,g,t);y=ai(y);const S=o.Ku(E);if(y instanceof ac)u.push(E);else{const T=lc(y,S);T!=null&&(u.push(E),h.set(E,T))}});const d=new an(u);return new u_(h,d,o.fieldTransforms)}function hC(r,e,t,s,o,u){const h=r.ju(1,e,t),d=[Nf(e,s,t)],g=[o];if(u.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)d.push(Nf(e,u[T])),g.push(u[T+1]);const y=[],E=Jt.empty();for(let T=d.length-1;T>=0;--T)if(!p_(y,d[T])){const D=d[T];let O=g[T];O=ai(O);const H=h.Ku(D);if(O instanceof ac)y.push(D);else{const L=lc(O,H);L!=null&&(y.push(D),E.set(D,L))}}const S=new an(y);return new u_(E,S,h.fieldTransforms)}function lc(r,e){if(d_(r=ai(r)))return Td("Unsupported field value:",e,r),f_(r,e);if(r instanceof vd)return function(s,o){if(!c_(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let g=lc(d,o.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=ai(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:Du(o.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Du(o.serializer,u)}}if(s instanceof _d)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ao)return{bytesValue:xv(o.serializer,s._byteString)};if(s instanceof En){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:nd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ed)return function(h,d){return{mapValue:{fields:{[sv]:{stringValue:ov},[Ru]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return Jf(d.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${gd(s)}`)}(r,e)}function f_(r,e){const t={};return Zy(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(r,(s,o)=>{const u=lc(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function d_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof _d||r instanceof ao||r instanceof En||r instanceof vd||r instanceof Ed)}function Td(r,e,t){if(!d_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=gd(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Nf(r,e,t){if((e=ai(e))instanceof oc)return e._internalPath;if(typeof e=="string")return Sd(r,e);throw Lu("Field path arguments must be of type string or ",r,!1,void 0,t)}const fC=new RegExp("[~\\*/\\[\\]]");function Sd(r,e,t){if(e.search(fC)>=0)throw Lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new oc(...e.split("."))._internalPath}catch{throw Lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Lu(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new me(J.INVALID_ARGUMENT,d+r+g)}function p_(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dC extends m_{data(){return super.data()}}function g_(r,e){return typeof e=="string"?Sd(r,e):e instanceof oc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mC{convertValue(e,t="none"){switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return gi(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ru].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>it(h.doubleValue));return new Ed(u)}convertGeoPoint(e){return new _d(it(e.latitude),it(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Qu(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){const t=ui(e);return new pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);be(Mv(s));const o=new Aa(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||Sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yC extends m_{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(g_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class vu extends yC{data(e={}){return super.data(e)}}class vC{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new uu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new vu(this._firestore,this._userDataWriter,s.key,s,new uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new vu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new vu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new uu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return d.type!==0&&(y=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:_C(d.type),doc:g,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _C(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class EC extends mC{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,t)}}function wC(r){r=Ji(r,sc);const e=Ji(r.firestore,Ua),t=l_(e),s=new EC(e);return pC(r._query),tC(t,r._query).then(o=>new vC(e,s,r,o))}function TC(r,e,t,...s){r=Ji(r,En);const o=Ji(r.firestore,Ua),u=h_(o);let h;return h=typeof(e=ai(e))=="string"||e instanceof oc?hC(u,"updateDoc",r._key,e,t,s):cC(u,"updateDoc",r._key,e),Id(o,[h.toMutation(r._key,Fn.exists(!0))])}function SC(r){return Id(Ji(r.firestore,Ua),[new Zf(r._key,Fn.none())])}function IC(r,e){const t=Ji(r.firestore,Ua),s=yd(r),o=gC(r.converter,e);return Id(t,[uC(h_(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function Id(r,e){return function(s,o){const u=new ii;return s.asyncQueue.enqueueAndForget(async()=>zI(await ZI(s),o,u)),u.promise}(l_(r),e)}(function(e,t=!0){(function(o){fo=o})(WT),Su(new Sa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Ua(new aS(s.getProvider("auth-internal")),new cS(h,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(y.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Zs(ag,lg,e),Zs(ag,lg,"esm2017")})();const CC={apiKey:"AIzaSyDCuzY7sFoDLNTC4IwwT7Ol-JpU1jOkBDs",authDomain:"reactproject-415cd.firebaseapp.com",databaseURL:"https://reactproject-415cd-default-rtdb.europe-west1.firebasedatabase.app",projectId:"reactproject-415cd",storageBucket:"reactproject-415cd.firebasestorage.app",messagingSenderId:"93234323338",appId:"1:93234323338:web:92ad4bdc973ae0966bf273",measurementId:"G-VE8KH6GFC6"},RC=zy(CC),uc=iC(RC),AC=async r=>{try{const e={task:r,completed:!1,createdAt:new Date};await IC(a_(uc,"tasks"),e)}catch(e){console.error("Error adding task: ",e)}},PC=async()=>{try{return(await wC(a_(uc,"tasks"))).docs.map(e=>({id:e.id,...e.data()}))}catch(r){return console.error("Error fetching tasks: ",r),[]}},kC=async r=>{try{await SC(yd(uc,"tasks",r))}catch(e){console.error("Error deleting task: ",e)}},xC=async(r,e)=>{try{await TC(yd(uc,"tasks",r),{completed:!e})}catch(t){console.error("Error updating task: ",t)}},DC=()=>{const[r,e]=B.useState([]),[t,s]=B.useState("");B.useEffect(()=>{o()},[]);const o=async()=>{const g=await PC();e(g)},u=async g=>{g.preventDefault(),t.trim()&&(await AC(t),s(""),o())},h=async g=>{await kC(g),o()},d=async(g,y)=>{await xC(g,y),o()};return K.jsxs("div",{className:"todo-container",children:[K.jsx("h1",{children:"To-Do List"}),K.jsxs("form",{onSubmit:u,className:"todo-form",children:[K.jsx("input",{type:"text",value:t,onChange:g=>s(g.target.value),placeholder:"Add new task...",className:"todo-input"}),K.jsx("button",{type:"submit",className:"todo-button",children:"Add Task"})]}),K.jsx("ul",{className:"todo-list",children:r.map(g=>K.jsxs("li",{className:`todo-item ${g.completed?"completed":""}`,children:[K.jsxs("div",{className:"todo-item-content",children:[K.jsx("input",{type:"checkbox",checked:g.completed,onChange:()=>g.id&&d(g.id,g.completed||!1),className:"todo-checkbox"}),K.jsx("span",{className:"todo-text",children:g.task})]}),K.jsx("button",{onClick:()=>g.id&&h(g.id),className:"todo-delete-button",children:"Delete"})]},g.id))})]})},NC=()=>K.jsx("div",{className:"todo-page",children:K.jsx(DC,{})});var nf={exports:{}},rf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function VC(){if(ty)return rf;ty=1;var r=$u();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,h=r.useMemo,d=r.useDebugValue;return rf.useSyncExternalStoreWithSelector=function(g,y,E,S,T){var D=o(null);if(D.current===null){var O={hasValue:!1,value:null};D.current=O}else O=D.current;D=h(function(){function L(he){if(!W){if(W=!0,ee=he,he=S(he),T!==void 0&&O.hasValue){var de=O.value;if(T(de,he))return q=de}return q=he}if(de=q,t(ee,he))return de;var k=S(he);return T!==void 0&&T(de,k)?(ee=he,de):(ee=he,q=k)}var W=!1,ee,q,ne=E===void 0?null:E;return[function(){return L(y())},ne===null?void 0:function(){return L(ne())}]},[y,E,S,T]);var H=s(g,D[0],D[1]);return u(function(){O.hasValue=!0,O.value=H},[H]),d(H),H},rf}var ny;function OC(){return ny||(ny=1,nf.exports=VC()),nf.exports}var LC=OC();function MC(r){r()}function FC(){let r=null,e=null;return{clear(){r=null,e=null},notify(){MC(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=r;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!s||r===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var ry={notify(){},get:()=>[]};function bC(r,e){let t,s=ry,o=0,u=!1;function h(H){E();const L=s.subscribe(H);let W=!1;return()=>{W||(W=!0,L(),S())}}function d(){s.notify()}function g(){O.onStateChange&&O.onStateChange()}function y(){return u}function E(){o++,t||(t=r.subscribe(g),s=FC())}function S(){o--,t&&o===0&&(t(),t=void 0,s.clear(),s=ry)}function T(){u||(u=!0,E())}function D(){u&&(u=!1,S())}const O={addNestedSub:h,notifyNestedSubs:d,handleChangeWrapper:g,isSubscribed:y,trySubscribe:T,tryUnsubscribe:D,getListeners:()=>s};return O}var jC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UC=jC(),zC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",BC=zC(),$C=()=>UC||BC?B.useLayoutEffect:B.useEffect,HC=$C(),sf=Symbol.for("react-redux-context"),of=typeof globalThis<"u"?globalThis:{};function WC(){if(!B.createContext)return{};const r=of[sf]??(of[sf]=new Map);let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var pi=WC();function qC(r){const{children:e,context:t,serverState:s,store:o}=r,u=B.useMemo(()=>{const g=bC(o);return{store:o,subscription:g,getServerState:s?()=>s:void 0}},[o,s]),h=B.useMemo(()=>o.getState(),[o]);HC(()=>{const{subscription:g}=u;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),h!==o.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[u,h]);const d=t||pi;return B.createElement(d.Provider,{value:u},e)}var KC=qC;function Cd(r=pi){return function(){return B.useContext(r)}}var y_=Cd();function v_(r=pi){const e=r===pi?y_:Cd(r),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var QC=v_();function GC(r=pi){const e=r===pi?QC:v_(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var XC=GC(),YC=(r,e)=>r===e;function JC(r=pi){const e=r===pi?y_:Cd(r),t=(s,o={})=>{const{equalityFn:u=YC}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:d,subscription:g,getServerState:y}=h;B.useRef(!0);const E=B.useCallback({[s.name](T){return s(T)}}[s.name],[s]),S=LC.useSyncExternalStoreWithSelector(g.addNestedSub,d.getState,y||d.getState,E,u);return B.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var ZC=JC();function Rt(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var eR=typeof Symbol=="function"&&Symbol.observable||"@@observable",iy=eR,af=()=>Math.random().toString(36).substring(7).split("").join("."),tR={INIT:`@@redux/INIT${af()}`,REPLACE:`@@redux/REPLACE${af()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${af()}`},Mu=tR;function Rd(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function __(r,e,t){if(typeof r!="function")throw new Error(Rt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Rt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Rt(1));return t(__)(r,e)}let s=r,o=e,u=new Map,h=u,d=0,g=!1;function y(){h===u&&(h=new Map,u.forEach((L,W)=>{h.set(W,L)}))}function E(){if(g)throw new Error(Rt(3));return o}function S(L){if(typeof L!="function")throw new Error(Rt(4));if(g)throw new Error(Rt(5));let W=!0;y();const ee=d++;return h.set(ee,L),function(){if(W){if(g)throw new Error(Rt(6));W=!1,y(),h.delete(ee),u=null}}}function T(L){if(!Rd(L))throw new Error(Rt(7));if(typeof L.type>"u")throw new Error(Rt(8));if(typeof L.type!="string")throw new Error(Rt(17));if(g)throw new Error(Rt(9));try{g=!0,o=s(o,L)}finally{g=!1}return(u=h).forEach(ee=>{ee()}),L}function D(L){if(typeof L!="function")throw new Error(Rt(10));s=L,T({type:Mu.REPLACE})}function O(){const L=S;return{subscribe(W){if(typeof W!="object"||W===null)throw new Error(Rt(11));function ee(){const ne=W;ne.next&&ne.next(E())}return ee(),{unsubscribe:L(ee)}},[iy](){return this}}}return T({type:Mu.INIT}),{dispatch:T,subscribe:S,getState:E,replaceReducer:D,[iy]:O}}function nR(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Mu.INIT})>"u")throw new Error(Rt(12));if(typeof t(void 0,{type:Mu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Rt(13))})}function rR(r){const e=Object.keys(r),t={};for(let u=0;u<e.length;u++){const h=e[u];typeof r[h]=="function"&&(t[h]=r[h])}const s=Object.keys(t);let o;try{nR(t)}catch(u){o=u}return function(h={},d){if(o)throw o;let g=!1;const y={};for(let E=0;E<s.length;E++){const S=s[E],T=t[S],D=h[S],O=T(D,d);if(typeof O>"u")throw d&&d.type,new Error(Rt(14));y[S]=O,g=g||O!==D}return g=g||s.length!==Object.keys(h).length,g?y:h}}function Fu(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...s)=>e(t(...s)))}function iR(...r){return e=>(t,s)=>{const o=e(t,s);let u=()=>{throw new Error(Rt(15))};const h={getState:o.getState,dispatch:(g,...y)=>u(g,...y)},d=r.map(g=>g(h));return u=Fu(...d)(o.dispatch),{...o,dispatch:u}}}function sR(r){return Rd(r)&&"type"in r&&typeof r.type=="string"}var E_=Symbol.for("immer-nothing"),sy=Symbol.for("immer-draftable"),ln=Symbol.for("immer-state");function Mn(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var lo=Object.getPrototypeOf;function Zi(r){return!!r&&!!r[ln]}function Cr(r){var e;return r?w_(r)||Array.isArray(r)||!!r[sy]||!!((e=r.constructor)!=null&&e[sy])||hc(r)||fc(r):!1}var oR=Object.prototype.constructor.toString();function w_(r){if(!r||typeof r!="object")return!1;const e=lo(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===oR}function bu(r,e){cc(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,s)=>e(s,t,r))}function cc(r){const e=r[ln];return e?e.type_:Array.isArray(r)?1:hc(r)?2:fc(r)?3:0}function Vf(r,e){return cc(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function T_(r,e,t){const s=cc(r);s===2?r.set(e,t):s===3?r.add(t):r[e]=t}function aR(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function hc(r){return r instanceof Map}function fc(r){return r instanceof Set}function Qi(r){return r.copy_||r.base_}function Of(r,e){if(hc(r))return new Map(r);if(fc(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=w_(r);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(r);delete s[ln];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const h=o[u],d=s[h];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[h]={configurable:!0,writable:!0,enumerable:d.enumerable,value:r[h]})}return Object.create(lo(r),s)}else{const s=lo(r);if(s!==null&&t)return{...r};const o=Object.create(s);return Object.assign(o,r)}}function Ad(r,e=!1){return dc(r)||Zi(r)||!Cr(r)||(cc(r)>1&&(r.set=r.add=r.clear=r.delete=lR),Object.freeze(r),e&&Object.entries(r).forEach(([t,s])=>Ad(s,!0))),r}function lR(){Mn(2)}function dc(r){return Object.isFrozen(r)}var uR={};function es(r){const e=uR[r];return e||Mn(0,r),e}var Da;function S_(){return Da}function cR(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oy(r,e){e&&(es("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function Lf(r){Mf(r),r.drafts_.forEach(hR),r.drafts_=null}function Mf(r){r===Da&&(Da=r.parent_)}function ay(r){return Da=cR(Da,r)}function hR(r){const e=r[ln];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ly(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[ln].modified_&&(Lf(e),Mn(4)),Cr(r)&&(r=ju(e,r),e.parent_||Uu(e,r)),e.patches_&&es("Patches").generateReplacementPatches_(t[ln].base_,r,e.patches_,e.inversePatches_)):r=ju(e,t,[]),Lf(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==E_?r:void 0}function ju(r,e,t){if(dc(e))return e;const s=e[ln];if(!s)return bu(e,(o,u)=>uy(r,s,e,o,u,t)),e;if(s.scope_!==r)return e;if(!s.modified_)return Uu(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,h=!1;s.type_===3&&(u=new Set(o),o.clear(),h=!0),bu(u,(d,g)=>uy(r,s,o,d,g,t,h)),Uu(r,o,!1),t&&r.patches_&&es("Patches").generatePatches_(s,t,r.patches_,r.inversePatches_)}return s.copy_}function uy(r,e,t,s,o,u,h){if(Zi(o)){const d=u&&e&&e.type_!==3&&!Vf(e.assigned_,s)?u.concat(s):void 0,g=ju(r,o,d);if(T_(t,s,g),Zi(g))r.canAutoFreeze_=!1;else return}else h&&t.add(o);if(Cr(o)&&!dc(o)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;ju(r,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&Uu(r,o)}}function Uu(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Ad(e,t)}function fR(r,e){const t=Array.isArray(r),s={type_:t?1:0,scope_:e?e.scope_:S_(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Pd;t&&(o=[s],u=Na);const{revoke:h,proxy:d}=Proxy.revocable(o,u);return s.draft_=d,s.revoke_=h,d}var Pd={get(r,e){if(e===ln)return r;const t=Qi(r);if(!Vf(t,e))return dR(r,t,e);const s=t[e];return r.finalized_||!Cr(s)?s:s===lf(r.base_,e)?(uf(r),r.copy_[e]=bf(s,r)):s},has(r,e){return e in Qi(r)},ownKeys(r){return Reflect.ownKeys(Qi(r))},set(r,e,t){const s=I_(Qi(r),e);if(s!=null&&s.set)return s.set.call(r.draft_,t),!0;if(!r.modified_){const o=lf(Qi(r),e),u=o==null?void 0:o[ln];if(u&&u.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(aR(t,o)&&(t!==void 0||Vf(r.base_,e)))return!0;uf(r),Ff(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return lf(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,uf(r),Ff(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Qi(r),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Mn(11)},getPrototypeOf(r){return lo(r.base_)},setPrototypeOf(){Mn(12)}},Na={};bu(Pd,(r,e)=>{Na[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Na.deleteProperty=function(r,e){return Na.set.call(this,r,e,void 0)};Na.set=function(r,e,t){return Pd.set.call(this,r[0],e,t,r[0])};function lf(r,e){const t=r[ln];return(t?Qi(t):r)[e]}function dR(r,e,t){var o;const s=I_(e,t);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(r.draft_):void 0}function I_(r,e){if(!(e in r))return;let t=lo(r);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=lo(t)}}function Ff(r){r.modified_||(r.modified_=!0,r.parent_&&Ff(r.parent_))}function uf(r){r.copy_||(r.copy_=Of(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var pR=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const h=this;return function(g=u,...y){return h.produce(g,E=>t.call(this,E,...y))}}typeof t!="function"&&Mn(6),s!==void 0&&typeof s!="function"&&Mn(7);let o;if(Cr(e)){const u=ay(this),h=bf(e,void 0);let d=!0;try{o=t(h),d=!1}finally{d?Lf(u):Mf(u)}return oy(u,s),ly(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===E_&&(o=void 0),this.autoFreeze_&&Ad(o,!0),s){const u=[],h=[];es("Patches").generateReplacementPatches_(e,o,u,h),s(u,h)}return o}else Mn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...d)=>this.produceWithPatches(h,g=>e(g,...d));let s,o;return[this.produce(e,t,(h,d)=>{s=h,o=d}),s,o]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Cr(r)||Mn(8),Zi(r)&&(r=mR(r));const e=ay(this),t=bf(r,void 0);return t[ln].isManual_=!0,Mf(e),t}finishDraft(r,e){const t=r&&r[ln];(!t||!t.isManual_)&&Mn(9);const{scope_:s}=t;return oy(s,e),ly(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}t>-1&&(e=e.slice(t+1));const s=es("Patches").applyPatches_;return Zi(r)?s(r,e):this.produce(r,o=>s(o,e))}};function bf(r,e){const t=hc(r)?es("MapSet").proxyMap_(r,e):fc(r)?es("MapSet").proxySet_(r,e):fR(r,e);return(e?e.scope_:S_()).drafts_.push(t),t}function mR(r){return Zi(r)||Mn(10,r),C_(r)}function C_(r){if(!Cr(r)||dc(r))return r;const e=r[ln];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Of(r,e.scope_.immer_.useStrictShallowCopy_)}else t=Of(r,!0);return bu(t,(s,o)=>{T_(t,s,C_(o))}),e&&(e.finalized_=!1),t}var un=new pR,R_=un.produce;un.produceWithPatches.bind(un);un.setAutoFreeze.bind(un);un.setUseStrictShallowCopy.bind(un);un.applyPatches.bind(un);un.createDraft.bind(un);un.finishDraft.bind(un);function A_(r){return({dispatch:t,getState:s})=>o=>u=>typeof u=="function"?u(t,s,r):o(u)}var gR=A_(),yR=A_,vR=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fu:Fu.apply(null,arguments)};function cy(r,e){function t(...s){if(e){let o=e(...s);if(!o)throw new Error(wr(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:s[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=s=>sR(s)&&s.type===r,t}var P_=class ya extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ya.prototype)}static get[Symbol.species](){return ya}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ya(...e[0].concat(this)):new ya(...e.concat(this))}};function hy(r){return Cr(r)?R_(r,()=>{}):r}function fy(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function _R(r){return typeof r=="boolean"}var ER=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new P_;return t&&(_R(t)?h.push(gR):h.push(yR(t.extraArgument))),h},wR="RTK_autoBatch",dy=r=>e=>{setTimeout(e,r)},TR=(r={type:"raf"})=>e=>(...t)=>{const s=e(...t);let o=!0,u=!1,h=!1;const d=new Set,g=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dy(10):r.type==="callback"?r.queueNotification:dy(r.timeout),y=()=>{h=!1,u&&(u=!1,d.forEach(E=>E()))};return Object.assign({},s,{subscribe(E){const S=()=>o&&E(),T=s.subscribe(S);return d.add(E),()=>{T(),d.delete(E)}},dispatch(E){var S;try{return o=!((S=E==null?void 0:E.meta)!=null&&S[wR]),u=!o,u&&(h||(h=!0,g(y))),s.dispatch(E)}finally{o=!0}}})},SR=r=>function(t){const{autoBatch:s=!0}=t??{};let o=new P_(r);return s&&o.push(TR(typeof s=="object"?s:void 0)),o};function IR(r){const e=ER(),{reducer:t=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=r||{};let d;if(typeof t=="function")d=t;else if(Rd(t))d=rR(t);else throw new Error(wr(1));let g;typeof s=="function"?g=s(e):g=e();let y=Fu;o&&(y=vR({trace:!1,...typeof o=="object"&&o}));const E=iR(...g),S=SR(E);let T=typeof h=="function"?h(S):S();const D=y(...T);return __(d,u,D)}function k_(r){const e={},t=[];let s;const o={addCase(u,h){const d=typeof u=="string"?u:u.type;if(!d)throw new Error(wr(28));if(d in e)throw new Error(wr(29));return e[d]=h,o},addMatcher(u,h){return t.push({matcher:u,reducer:h}),o},addDefaultCase(u){return s=u,o}};return r(o),[e,t,s]}function CR(r){return typeof r=="function"}function RR(r,e){let[t,s,o]=k_(e),u;if(CR(r))u=()=>hy(r());else{const d=hy(r);u=()=>d}function h(d=u(),g){let y=[t[g.type],...s.filter(({matcher:E})=>E(g)).map(({reducer:E})=>E)];return y.filter(E=>!!E).length===0&&(y=[o]),y.reduce((E,S)=>{if(S)if(Zi(E)){const D=S(E,g);return D===void 0?E:D}else{if(Cr(E))return R_(E,T=>S(T,g));{const T=S(E,g);if(T===void 0){if(E===null)return E;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return E},d)}return h.getInitialState=u,h}var AR=Symbol.for("rtk-slice-createasyncthunk");function PR(r,e){return`${r}/${e}`}function kR({creators:r}={}){var t;const e=(t=r==null?void 0:r.asyncThunk)==null?void 0:t[AR];return function(o){const{name:u,reducerPath:h=u}=o;if(!u)throw new Error(wr(11));const d=(typeof o.reducers=="function"?o.reducers(NR()):o.reducers)||{},g=Object.keys(d),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},E={addCase(q,ne){const he=typeof q=="string"?q:q.type;if(!he)throw new Error(wr(12));if(he in y.sliceCaseReducersByType)throw new Error(wr(13));return y.sliceCaseReducersByType[he]=ne,E},addMatcher(q,ne){return y.sliceMatchers.push({matcher:q,reducer:ne}),E},exposeAction(q,ne){return y.actionCreators[q]=ne,E},exposeCaseReducer(q,ne){return y.sliceCaseReducersByName[q]=ne,E}};g.forEach(q=>{const ne=d[q],he={reducerName:q,type:PR(u,q),createNotation:typeof o.reducers=="function"};OR(ne)?MR(he,ne,E,e):VR(he,ne,E)});function S(){const[q={},ne=[],he=void 0]=typeof o.extraReducers=="function"?k_(o.extraReducers):[o.extraReducers],de={...q,...y.sliceCaseReducersByType};return RR(o.initialState,k=>{for(let I in de)k.addCase(I,de[I]);for(let I of y.sliceMatchers)k.addMatcher(I.matcher,I.reducer);for(let I of ne)k.addMatcher(I.matcher,I.reducer);he&&k.addDefaultCase(he)})}const T=q=>q,D=new Map;let O;function H(q,ne){return O||(O=S()),O(q,ne)}function L(){return O||(O=S()),O.getInitialState()}function W(q,ne=!1){function he(k){let I=k[q];return typeof I>"u"&&ne&&(I=L()),I}function de(k=T){const I=fy(D,ne,()=>new WeakMap);return fy(I,k,()=>{const R={};for(const[x,V]of Object.entries(o.selectors??{}))R[x]=xR(V,k,L,ne);return R})}return{reducerPath:q,getSelectors:de,get selectors(){return de(he)},selectSlice:he}}const ee={name:u,reducer:H,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:L,...W(h),injectInto(q,{reducerPath:ne,...he}={}){const de=ne??h;return q.inject({reducerPath:de,reducer:H},he),{...ee,...W(de,!0)}}};return ee}}function xR(r,e,t,s){function o(u,...h){let d=e(u);return typeof d>"u"&&s&&(d=t()),r(d,...h)}return o.unwrapped=r,o}var DR=kR();function NR(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function VR({type:r,reducerName:e,createNotation:t},s,o){let u,h;if("reducer"in s){if(t&&!LR(s))throw new Error(wr(17));u=s.reducer,h=s.prepare}else u=s;o.addCase(r,u).exposeCaseReducer(e,u).exposeAction(e,h?cy(r,h):cy(r))}function OR(r){return r._reducerDefinitionType==="asyncThunk"}function LR(r){return r._reducerDefinitionType==="reducerWithPrepare"}function MR({type:r,reducerName:e},t,s,o){if(!o)throw new Error(wr(18));const{payloadCreator:u,fulfilled:h,pending:d,rejected:g,settled:y,options:E}=t,S=o(r,u,E);s.exposeAction(e,S),h&&s.addCase(S.fulfilled,h),d&&s.addCase(S.pending,d),g&&s.addCase(S.rejected,g),y&&s.addMatcher(S.settled,y),s.exposeCaseReducer(e,{fulfilled:h||cu,pending:d||cu,rejected:g||cu,settled:y||cu})}function cu(){}function wr(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const FR=localStorage.getItem("theme")||"light",x_=DR({name:"theme",initialState:{theme:FR},reducers:{toggleTheme:r=>{r.theme=r.theme==="light"?"dark":"light",localStorage.setItem("theme",r.theme)}}}),{toggleTheme:bR}=x_.actions,jR=x_.reducer;var D_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},py=ei.createContext&&ei.createContext(D_),UR=["attr","size","title"];function zR(r,e){if(r==null)return{};var t=BR(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function BR(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function zu(){return zu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},zu.apply(this,arguments)}function my(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Bu(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?my(Object(t),!0).forEach(function(s){$R(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):my(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function $R(r,e,t){return e=HR(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HR(r){var e=WR(r,"string");return typeof e=="symbol"?e:e+""}function WR(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function N_(r){return r&&r.map((e,t)=>ei.createElement(e.tag,Bu({key:t},e.attr),N_(e.child)))}function V_(r){return e=>ei.createElement(qR,zu({attr:Bu({},r.attr)},e),N_(r.child))}function qR(r){var e=t=>{var{attr:s,size:o,title:u}=r,h=zR(r,UR),d=o||t.size||"1em",g;return t.className&&(g=t.className),r.className&&(g=(g?g+" ":"")+r.className),ei.createElement("svg",zu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:g,style:Bu(Bu({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),u&&ei.createElement("title",null,u),r.children)};return py!==void 0?ei.createElement(py.Consumer,null,t=>e(t)):e(D_)}function KR(r){return V_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(r)}function QR(r){return V_({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(r)}const GR=()=>{const[r,e]=B.useState(!1),[t,s]=B.useState(!1),o=mi(),u=ZC(d=>d.theme.theme),h=XC();return B.useEffect(()=>{e(!1)},[o]),B.useEffect(()=>{const d=g=>{r&&!g.target.closest(".nav-links")&&!g.target.closest(".burger")&&e(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[r]),B.useEffect(()=>{r?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[r]),B.useEffect(()=>{const d=()=>{s(window.scrollY>50)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),B.useEffect(()=>{document.body.setAttribute("data-theme",u)},[u]),K.jsxs(K.Fragment,{children:[K.jsx("div",{className:`overlay ${r?"active":""}`,onClick:()=>e(!1)}),K.jsxs("nav",{className:`navbar ${t?"scrolled":""}`,children:[K.jsx("div",{className:"navbar-brand",children:K.jsx(Jr,{to:"/",className:"site-name",children:"My App"})}),K.jsxs("div",{className:`burger ${r?"open":""}`,onClick:()=>e(!r),children:[K.jsx("span",{}),K.jsx("span",{}),K.jsx("span",{})]}),K.jsxs("ul",{className:`nav-links ${r?"active":""}`,children:[K.jsx("li",{children:K.jsx(Jr,{to:"/",children:"Home"})}),K.jsx("li",{children:K.jsx(Jr,{to:"/page",children:"Page"})}),K.jsx("li",{children:K.jsx(Jr,{to:"/profile",children:"Profile"})}),K.jsx("li",{children:K.jsx(Jr,{to:"/users",children:"Users"})}),K.jsx("li",{children:K.jsx(Jr,{to:"/books",children:"Books"})}),K.jsx("li",{children:K.jsx(Jr,{to:"/todo",children:"Todo"})})]}),K.jsx("button",{onClick:()=>h(bR()),className:"theme-toggle",style:{color:u==="light"?"#FDB813":"#FFD700"},children:u==="light"?K.jsx(KR,{}):K.jsx(QR,{})})]})]})};function XR(){return K.jsxs(a0,{children:[K.jsx(GR,{}),K.jsxs(Fw,{children:[K.jsx(qi,{path:"/",element:K.jsx(g0,{})}),K.jsx(qi,{path:"/page",element:K.jsx(_0,{})}),K.jsx(qi,{path:"/profile",element:K.jsx(E0,{})}),K.jsx(qi,{path:"/users",element:K.jsx(w0,{})}),K.jsx(qi,{path:"/books",element:K.jsx(S0,{})}),K.jsx(qi,{path:"/todo",element:K.jsx(NC,{})})]})]})}const YR=IR({reducer:{theme:jR}});qE.createRoot(document.getElementById("root")).render(K.jsx(ei.StrictMode,{children:K.jsx(KC,{store:YR,children:K.jsx(XR,{})})}));
